(window.webpackJsonp=window.webpackJsonp||[]).push([["pages/default~home/index/index_gray~media/publish_history/publish_history"],{"./node_modules/webpack/buildin/module.js":function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},"./src/3rd/editor/common/browser.js":function(e,t,i){i=function(){var e,t,i,s,n,a;return window.UE||(window.UE={}),{browser:UE.browser=(i=navigator.userAgent.toLowerCase(),s=window.opera,(n={ipad:/(ipad).*\s([\d_]+)/i.test(i),iphone:/(iphone)\sos\s([\d_]+)/i.test(i),android:/(android)\s([\d\.]+)/i.test(i),edge:/edge\/([\w.]+)/i.test(i),ie:/(msie\s|trident.*rv:)([\w.]+)/.test(i),opera:!!s&&s.version,webkit:-1<i.indexOf(" applewebkit/"),mac:-1<i.indexOf("macintosh"),quirks:"BackCompat"==document.compatMode}).gecko="Gecko"==navigator.product&&!n.webkit&&!n.opera&&!n.ie,a=0,n.ie&&(t=i.match(/(?:msie\s([\w.]+))/),e=i.match(/(?:trident.*rv:([\w.]+))/),a=t&&e&&t[1]&&e[1]?Math.max(+t[1],+e[1]):t&&t[1]?+t[1]:e&&e[1]?+e[1]:0,n.ie11Compat=11==document.documentMode,n.ie9Compat=9==document.documentMode,n.ie8=!!document.documentMode,n.ie8Compat=8==document.documentMode,n.ie7Compat=7==a&&!document.documentMode||7==document.documentMode,n.ie6Compat=a<7||n.quirks,n.ie9above=8<a,n.ie9below=a<9,n.ie11above=10<a,n.ie11below=a<11),!n.gecko||(t=i.match(/rv:([\d\.]+)/))&&(a=1e4*(t=t[1].split("."))[0]+100*(t[1]||0)+ +(t[2]||0)),/chrome\/(\d+\.\d)/i.test(i)&&(n.chrome=+RegExp.$1),/(\d+\.\d)?(?:\.\d)?\s+safari\/?(\d+\.\d+)?/i.test(i)&&!/chrome/i.test(i)&&(n.safari=+(RegExp.$1||RegExp.$2)),n.opera&&(a=parseFloat(s.version())),n.webkit&&(a=parseFloat(i.match(/ applewebkit\/(\d+)/)[1])),n.version=a,n.isCompatible=!n.mobile&&(n.ie&&6<=a||n.gecko&&10801<=a||n.opera&&9.5<=a||n.air&&1<=a||n.webkit&&522<=a||!1),n)}}.call(t,i,t,e);void 0===i||(e.exports=i)},"./src/3rd/utils/comm_report.js":function(e,t,i){var s=i("./src/mmbizweb-web2-common/modules/utils/cgi.js"),n=i("./src/mmbizweb-web2-common/biz_common/utils/comm_report.js");e.exports={report:function(e,t,i){n.report("web",s,e,t,i)},leaveReport:function(e,t){n.leaveReport("web",s,e,t)}}},"./src/3rd/utils/comm_store.js":function(e,t,i){var s=i("./src/mmbizweb-web2-common/modules/utils/cgi.js"),n=i("./src/mmbizweb-web2-common/biz_common/utils/comm_store.js");e.exports={get:function(e){n.get("web",s,e)},set:function(e){n.set("web",s,e)}}},"./src/mmbizweb-web2-common/biz_common/utils/comm_report.js":function(e,t,i){i=function(){function n(e,t){return(t=JSON.parse(JSON.stringify(t))).log_id=e,JSON.stringify(t)}function a(t,i,s){return function(e){e&&0!==e.err_code&&console.warn("[comm_report] report "+t+" fail: ",e.err_msg,i),"function"==typeof s.success&&s.success(e)}}function o(i,s,n){return function(e,t){console.error("[comm_report] report "+i+" error: ",t,s),"function"==typeof n.error&&n.error(e,t)}}var r={web:{report:"/cgi-bin/webreport"},wap:{report:"/mp/wapcommreport"}},l=!1,p=[],c={web:{report:function(e,t,i,s){s=s||{},e.post({url:r.web.report,data:{reportjson:n(t,i)},async:s.async,success:a(t,i,s),error:o(t,i,s)})},leaveReport:function(e,t,i){var s;p.push([e,t,i]),l||(s=!(l=!0),e=function(){s||(s=!0,p.forEach(function(e){c.web.report(e[0],e[1],e[2])}))},window.addEventListener("beforeunload",e,!1),window.addEventListener("unload",e,!1))}},wap:{report:function(e,t,i,s){s=s||{},e({type:"POST",dataType:"json",url:r.wap.report,data:{reportjson:n(t,i)},async:s.async,success:a(t,i,s),error:o(t,i,s)})}}};return{report:function(e,t,i,s,n){c[e].report(t,i,s,n)},leaveReport:function(e,t,i,s){c[e].leaveReport(t,i,s)},getUrl:function(e,t){return r[e][t]},getData:function(e,t,i){e=n(e,t);return"reportjson="+(e=i?encodeURIComponent(e):e)}}}.call(t,i,t,e);void 0===i||(e.exports=i)},"./src/mmbizweb-web2-common/biz_common/utils/comm_store.js":function(e,t,i){function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}void 0===(i=function(){var n={web:{get:function(t,i,s){t.get({url:"/cgi-bin/mmbizfrontendcommstore?operate_type=GetServiceData&service_name="+i.key+"&service_option=1",success:function(e){a(n.web.get,t,e,i,s)},error:i.error})},set:function(t,i,s){t.post({url:"/cgi-bin/mmbizfrontendcommstore",data:{operate_type:"SetServiceData",service_name:i.key,service_data:JSON.stringify(i.value)},success:function(e){o(n.web.set,t,e,i,s)},error:i.error})}},wap:{get:function(t,i,s){t({type:"GET",dataType:"json",url:"/mp/frontendcommstore?operate_type=GetServiceData&service_name="+i.key+"&service_option=1",success:function(e){a(n.wap.get,t,e,i,s)},error:i.error})},set:function(t,i,s){t({type:"POST",dataType:"json",url:"/mp/frontendcommstore",data:{operate_type:"SetServiceData",service_name:i.key,service_data:JSON.stringify(i.value)},success:function(e){o(n.wap.set,t,e,i,s)},error:i.error})}}},a=function(e,t,i,s,n){if(i&&i.base_resp&&0===i.base_resp.ret)switch(i.err_code){case 0:try{"function"==typeof s.success&&s.success(JSON.parse(i.service_data))}catch(e){console.error("JSON.parse error."),"function"==typeof s.error&&s.error(i)}break;case 21396001:"function"==typeof s.success&&s.success(null);break;case 21396002:case 21396003:n<3?e(t,s,n+1):(console.error("An error happened when get data from db."),"function"==typeof s.error&&s.error(i));break;case 21396005:console.error("The key `"+s.key+"` is not in the whitelist."),"function"==typeof s.error&&s.error(i);break;case 21396007:console.error("Parameter error."),"function"==typeof s.error&&s.error(i);break;default:console.error("Unknown error happened."),"function"==typeof s.error&&s.error(i)}else console.error("Unknown error happened."),"function"==typeof s.error&&s.error(i)},o=function(e,t,i,s,n){if(i&&i.base_resp&&0===i.base_resp.ret)switch(i.err_code){case 0:"function"==typeof s.success&&s.success();break;case 21396002:case 21396003:n<3?e(t,s,n+1):(console.error("An error happened when set data to db."),"function"==typeof s.error&&s.error(i));break;case 21396005:console.error("The key `"+s.key+"` is not in the whitelist."),"function"==typeof s.error&&s.error(i);break;case 21396006:console.error("The value is too large."),"function"==typeof s.error&&s.error(i);break;case 21396007:console.error("Parameter error."),"function"==typeof s.error&&s.error(i);break;default:console.error("Unknown error happened."),"function"==typeof s.error&&s.error(i)}else console.error("Unknown error happened."),"function"==typeof s.error&&s.error(i)};return{get:function(e,t,i){n[e].get(t,i,0)},set:function(e,t,i){"object"===s(i.value)?n[e].set(t,i,0):console.error("opt.value should be an object.")}}}.call(t,i,t,e))||(e.exports=i)},"./src/mmbizweb-web2-common/modules/utils/ajax.js":function(e,t){function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(){}e.exports=function(i){var e=(i.type||"GET").toUpperCase(),t=i.url,c=void 0===i.async||i.async,s=new XMLHttpRequest,n=(s.donotHock=!!i.donotHock,s.withCredentials=!0,i.responseType&&(s.responseType=i.responseType),null),a=null,u=d,o=d,r=d;if(i.success&&(u=function(e){try{i.success(e)}catch(e){throw e}}),i.error&&(o=function(e,t){try{i.error(e,t)}catch(e){throw e}}),i.complete&&(r=function(){try{i.complete()}catch(e){throw e}}),"object"===m(i.data)){var l,p=i.data,a=[];for(l in p)Object.prototype.hasOwnProperty.call(p,l)&&a.push(l+"="+encodeURIComponent(p[l]));a=a.join("&")}else a="string"==typeof i.data?i.data:null;"GET"===e&&a&&(t+=(0<=t.indexOf("?")?"&":"?")+a),s.open(e,t,c),s.onerror=function(){o(s,"error"),n&&clearTimeout(n),r()},s.onreadystatechange=function(){if(3===s.readyState&&i.received&&i.received(s),4===s.readyState){s.onreadystatechange=null;var e=s.status;if(200<=e&&e<400)try{if("blob"===i.responseType)t=s.response;else{var t=s.responseText;if("json"===i.dataType)try{t=JSON.parse(t)}catch(e){return void o(s,"parsererror")}}u(t)}catch(e){throw e}else o(s,"error");n&&clearTimeout(n),r(),r=d}},"POST"===e&&s.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),i.crossDomain||s.setRequestHeader("X-Requested-With","XMLHttpRequest"),void 0!==i.timeout&&(n=setTimeout(function(){s.abort("timeout"),r(),r=d},i.timeout));try{s.send(a)}catch(e){o(s,"timeout")}}},"./src/mmbizweb-web2-common/modules/utils/cgi.js":function(e,i,t){function n(e){for(var t=e||{},i=Object.keys(r),s=0;s<i.length;s++)t[i[s]]=r[i[s]];return t}function a(e,t){var i=-1!==location.href.indexOf("/cgi-bin/home")&&(-1!==t.url.indexOf("/misc/safeassistant")||-1!==t.url.indexOf("/safe/safeuuid")),s=11;switch(e){case"timeout":s=7;break;case"error":s=8;break;case"notmodified":s=9;break;case"parsererror":s=10;break;default:s=11}for(var n=["lang","random","f","ajax","token"],a=0;a<n.length;++a){var o=n[a];t.data&&t.data[o]&&delete t.data[o]}s+=i?100:0;var r="",r=/selfcheck/.test(t.url)?t.data&&t.data.AppMsgId:JSON.stringify(t.data).substr(0,50);l({url:"/misc/jslog?1=1",data:{content:p.format("[fakeid={uin}] [xhr] [url={url}] [param={param}] [info={info}] [useragent={useragent}] [page={page}]",{uin:c.uin,useragent:window.navigator.userAgent,page:location.href,url:t.url,param:r,info:e}),id:s,level:"error"},type:"POST"}),l({url:"/misc/jslog?1=1",data:{content:p.format("[fakeid={uin}] [xhr] [url={url}] [param={param}] [info={info}] [useragent={useragent}] [page={page}]",{uin:c.uin,useragent:window.navigator.userAgent,page:location.href,url:t.url,param:r,info:e}),id:6+(i?100:0),level:"error"},type:"POST"}),"timeout"!==e||t.notShowTimeoutErr||Vue.prototype.$tipsErr("你的网络环境较差，请稍后重试")}function o(e,a){var o=e;return"function"!=typeof o&&(o=function(){}),e=function(e){try{var t,i,s=o.toString(),n={uin:c.uin||"0",id:"64430",key:"0",url:"",location:encodeURIComponent(window.location.href)||"",ret:e&&e.base_resp&&e.base_resp.ret||"undefined"};e&&e.base_resp&&0!==e.base_resp.ret&&(s.indexOf("handleRet")<0&&s.indexOf(e.base_resp.ret)<0&&((new Image).src=p.format("https://badjs.weixinbridge.com/badjs?level=4&uin={uin}&id={id}&msg={msg}&from={url}",{uin:n.uin,url:n.url||n.location,id:138,msg:encodeURIComponent("ret="+n.ret+"|idkey="+n.id+":"+n.key)})),void 0!==window.WX_BJ_REPORT&&window.WX_BJ_REPORT.BadJs&&(t="",-1!==a.indexOf("?")?(t=a.substr(0,a.indexOf("?")),(i=u.parseQuery(a)).action&&(t+="?action=".concat(i.action))):t=a,window.WX_BJ_REPORT.BadJs.report(t,"ret=".concat(e.base_resp.ret),{mid:window.PAGE_MID,view:"web_retcode"})))}catch(e){console.error(e)}o(e)}}var l=t("./src/mmbizweb-web2-common/modules/utils/ajax.js"),p=t("./src/mmbizweb-web2-common/modules/utils/str_util.js"),s=t("./src/mmbizweb-web2-common/modules/utils/object.js"),u=t("./src/mmbizweb-web2-common/modules/utils/url.js"),c=(window.wx.commonData||window.wx).data,r={token:c.t,lang:c.lang,f:"json",ajax:"1"},m={0:"恭喜你，操作成功！","-1":"系统错误，请稍后尝试。",200002:"参数错误，请核对参数后重试。",200003:"登录超时，请重新登录。",200004:"请求页面的域名没有授权。",200005:"请求方式错误，请确认请求方式后重试。",200006:"表单名称验证出错，请核对表单名称后重试。",200007:"登录超时，请重新登录。",200040:"登录超时，请重新登录。"},t={updateCommonPostData:function(){r={token:c.data.t,lang:c.lang,f:"json",ajax:"1"}},get:function(i,e,s,t){i.data=n(i.data),i.success=i.success||e,i.complete=i.complete||t,i.timeout=i.timeout||5e3,s=i.error||s,i.error=function(e,t){a(t,i),s&&s(e,t)},i.dataType="json",i.success=o(i.success,i.url),l(i)},post:function(i,e,s,t){i.type="POST",i.data=n(i.data),i.timeout=i.timeout||5e3,i.success=i.success||e,i.complete=i.complete||t,s=i.error||s,i.error=function(e,t){a(t,i),s&&s(e,t)},i.dataType="json",i.success=o(i.success,i.url),l(i)},handleRet:function(e,t){var i={msg:t.msg||"系统繁忙，请稍后尝试"};return e&&e.base_resp&&e.base_resp.ret&&(t=s.clone(t,!0),(t=Object.assign({uin:c.uin||"0",id:"64430",key:"0",url:"",location:encodeURIComponent(window.location.href)||"",ret:e.base_resp.ret,showMsg:!0,msg:"系统繁忙，请稍后尝试"},t)).url=encodeURIComponent(t.url),(e=m[t.ret])?(t.showMsg&&Vue.prototype.$tipsErr(e),i.msg=e):((new Image).src=p.format("/mp/unknow_ret_report?uin={uin}&id={id}&key={key}&url={url}&location={location}&ret={ret}&method=get&action=report",t),t.showMsg&&Vue.prototype.$tipsErr(t.msg),(new Image).src=p.format("/mp/unknow_ret_report?uin={uin}&id=64430&key=126&url={url}&location={location}&ret={ret}&method=get&action=report",t),(new Image).src=p.format("https://badjs.weixinbridge.com/badjs?level=4&uin={uin}&id={id}&msg={msg}&from={url}",{uin:t.uin,url:t.url||t.location,id:138,msg:encodeURIComponent("ret="+t.ret+"|idkey="+t.id+":"+t.key)}))),i}};e.exports=t},"./src/mmbizweb-web2-common/modules/utils/contributions.js":function(e,t,i){i=i("./src/mmbizweb-web2-common/modules/utils/contributors.js").sort(function(e,t){return e.localeCompare(t)}).join(", ");window.PAGE_MID&&window.PAGE_MID.indexOf("loginpage")<0&&!window.thanksToContributor&&(console.info("%c 感谢大家为微信公众号做出的卓越贡献","padding: 10px 0px; font-family: helvetica; font-size: 24px; line-height: 12px; color: #20b659;"),console.info("%c Contributors: ".concat(i),"font-family: consolas; font-size: 12px;"),console.info("%c 愿大家出走半生，归来仍是少年","font-family: helvetica; font-size: 12px; text-align: right;"),window.thanksToContributor=!0)},"./src/mmbizweb-web2-common/modules/utils/contributors.js":function(e,t){e.exports=["dididong","yinshen","semineli","fangzhan","starszhou","hongfenglin","coenwang","tommyjqliu","wowowang","joyduan"]},"./src/mmbizweb-web2-common/modules/utils/object.js":function(e,c){var t="[object Array]",i="[object Object]",s=Object.prototype.toString,n=Object.prototype.hasOwnProperty;function o(e,t){return n.call(e,t)}function r(e,t){for(var i in t)o(t,i)&&(e[i]=t[i]);return e}function l(e){return s.call(e)===i}function p(e){return s.call(e)===t}var a=null;var a="function"==typeof Number.isFinite?Number.isFinite.bind(Number):"function"==typeof window.isFinite?window.isFinite:function(){return!0},u=null,u="function"==typeof Object.assign?Object.assign:function(){if(null==(arguments.length<=0?void 0:arguments[0]))throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(arguments.length<=0?void 0:arguments[0]),t=1;t<arguments.length;t++){var i=t<0||arguments.length<=t?void 0:arguments[t];if(null!=i)for(var s in i)o(i,s)&&(e[s]=i[s])}return e};e.exports={assign:u,extend:r,clone:function e(t,i){var s;if(!0!==i)return r({},t);if(p(t))for(var n in s=[],t)o(t,n)&&(l(t[n])?s.push(e(t[n],!0)):s.push(t[n]));else for(var a in s={},t)o(t,a)&&(l(t[a])?s[a]=e(t[a],!0):s[a]=t[a]);return s},isObject:l,isElement:function(e){return!(!this||1!==e.nodeType)},isArray:p,isFunction:function(e){return"function"==typeof e},isString:function(e){return"[object String]"===s.call(e)},isBoolean:function(e){return"[object Boolean]"===s.call(e)},isNumber:function(e){return"[object Number]"===s.call(e)},isDate:function(e){return"[object Date]"===s.call(e)},isUndefined:function(e){return void 0===e},isRepExp:function(e){return"[object RegExp]"===s.call(e)},isFinite:a,param:function(e,t){var i,s=[];for(i in e)o(e,i)&&(!0===t?s.push([encodeURIComponent(i),"=",encodeURIComponent(e[i]),"&"].join("")):s.push([i,"=",e[i],"&"].join("")));return s.join("").slice(0,-1)},each:function(e,t){if(void 0!==t)for(var i in e)if(o(e,i)&&!1===t(e[i],i))break},hasOwn:o}},"./src/mmbizweb-web2-common/modules/utils/str_util.js":function(e,t){e.exports={escape2Html:function(e){var i={lt:"<",gt:">",nbsp:" ",amp:"&",quot:'"'};return e.replace(/&(lt|gt|nbsp|amp|quot);/gi,function(e,t){return i[t]})},format:function(e,i){return e.replace(/\{(\w+)\}/g,function(e,t){return void 0!==i[t]?i[t]:e})},sprintf:function(){for(var e,t=arguments.length,i=new Array(t),s=0;s<t;s++)i[s]=arguments[s];var n,a,o=i[0]||"",r=i.length-1;if(r<1)return o;for(e=1;e<1+r;)o=o.replace(/%s/,"{#"+e+"#}"),e++;for(o.replace("%s",""),e=1;;){if(void 0===(n=i[e]))break;a=new RegExp("{#"+e+"#}","g"),o=o.replace(a,n),e++}return o},text:function(e){return e.replace(/<\/?[^>]*\/?>/g,"")},len:function(e){return e.replace(/[^\x00-\xff]/g,"**").length},truncate:function(e,t,i){t=t||30,i=Object.isUndefined(i)?"...":i;return e.length>t?e.slice(0,t-i.length)+i:String(e)},trim:String.prototype.trim||function(e,t){return!0===t?e.replace(/^\s+/,""):(!1===t?e:e.replace(/^\s+/,"")).replace(/\s+$/,"")},html:function(e,t){for(var i=!1===t?["&#39;","'","&quot;",'"',"&nbsp;"," ","&gt;",">","&lt;","<","&amp;","&"]:["&","&amp;","<","&lt;",">","&gt;"," ","&nbsp;",'"',"&quot;","'","&#39;"],s=e,n=0;n<i.length;n+=2)s=s.replace(new RegExp(i[n],"g"),i[1+n]);return s},has:function(e,t){return-1<e.indexOf(t)},startsWith:function(e,t){return 0===e.lastIndexOf(t,0)},endsWith:function(e,t){var i=e.length-t.length;return 0<=i&&e.indexOf(t,i)===i},param:function(e,t,i){var s;return"function"==typeof e.split?(e=e.split(i||"&"),s={},e.each(function(e){e=e.split("=");2===e.length&&e[0]&&e[1]&&(!0===t?s[decodeURIComponent(e[0])]=decodeURIComponent(e[1]):s[e[0]]=e[1])}),s):null},empty:function(e){return""===e},blank:function(e){return/^\s*$/.test(e)},bytes:function(e){for(var t,i=0,s=0;t=e.charAt(i++);)s+=t.charCodeAt().toString(16).length/2;return s}}},"./src/mmbizweb-web2-common/modules/utils/url.js":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addBaseParm=function(e){if(!e)return"";if(0===e.indexOf("javasript:"))return e;var t=window.wx.commonData.data,i=e.charAt(e.length-1);"?"!==i&&(-1===e.indexOf("?")?e+="?":"&"!==i&&(e+="&"));return e+"token="+t.t+"&lang="+t.lang},t.fullUrl=function(e){if(!e)return"";if(0===e.indexOf("javasript:"))return e;var t=wx.commonData.data.param;return-1!==e.indexOf("?")?e+t:e+"?1=1"+t},t.parseQuery=function(e){var t={},i=e.match(/[?&]([^=&#]+)=([^&#]*)/g);if(i)for(var s in i){var n;Object.prototype.hasOwnProperty.call(i,s)&&(s=i[s].split("="),n=s[0].substr(1),s=s[1],t[n]?t[n]=[].concat(t[n],s):t[n]=s)}return t}},"./src/mmbizweb-web2-common/utils/badjs_report.js":function(e,t){function c(e,t){var i,s="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!s){if(Array.isArray(e)||(s=function(e,t){if(e){if("string"==typeof e)return r(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(i="Object"===i&&e.constructor?e.constructor.name:i)||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?r(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length)return s&&(e=s),i=0,{s:t=function(){},n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,a=!0,o=!1;return{s:function(){s=s.call(e)},n:function(){var e=s.next();return a=e.done,e},e:function(e){o=!0,n=e},f:function(){try{a||null==s.return||s.return()}finally{if(o)throw n}}}}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,s=new Array(t);i<t;i++)s[i]=e[i];return s}function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}var i=function(){"use strict";function o(e,t,i){var s=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"click",n=this,a=o;if(!(n instanceof a))throw new TypeError("Cannot call a class as a function");this.containerEl=document.querySelector(e),this.mid=t,this.view=i,this.eventType=s,this.observeMap=new Map,this._init()}var e,t,i;return e=o,(t=[{key:"_init",value:function(){var s=this;window.WX_BJ_REPORT&&window.WX_BJ_REPORT.BadJs&&"function"==typeof window.WX_BJ_REPORT.BadJs.report?this.containerEl?this.containerEl.addEventListener(this.eventType,function(e){for(var t=e.target,i=s.observeMap.get(t);!i&&t.parentNode;)t=t.parentNode,i=s.observeMap.get(t);i&&"object"===n(i)&&window.WX_BJ_REPORT.BadJs.report(i.name,i.key,i.info?{mid:s.mid,view:s.view,info:i.info}:{mid:s.mid,view:s.view})}):console.error("cant find respoding container"):console.error("cant find badjs report")}},{key:"observe",value:function(e,t){var i=this.containerEl.querySelectorAll("."+e);if(i&&0!==i.length)if("string"==typeof t){var s,n=c(i);try{for(n.s();!(s=n.n()).done;){var a=s.value,o=a.querySelector("."+t),r=o&&o.innerText&&o.innerText.trim();r&&this.observeMap.set(a,{name:r,key:this.eventType})}}catch(e){n.e(e)}finally{n.f()}}else if(Array.isArray(t)){var l=t;if(l.length===i.length)for(var p=0;p<l.length;p++)this.observeMap.set(i[p],l[p])}else console.error("second argument invalide")}}])&&s(e.prototype,t),i&&s(e,i),Object.defineProperty(e,"prototype",{writable:!1}),o}();e.exports=i},"./src/mmbizweb-web2-common/utils/thousandth.js":function(e,t){e.exports={thousandth:function(e){if("number"!=typeof e&&"string"!=typeof e)return"";e=e.toString();return void 0!==e?e.replace(new RegExp(",","g"),"").split(".").map(function(e,t){return 0===t?e.split("-").map(function(e){return"-"===e?e:e.split("").map(function(e,t,i){return t&&(i.length-t)%3==0?"".concat(",").concat(e):e}).join("")}).join("-"):e}).join("."):""}}},"./src/pages/album/modules/album_intro/album_intro.js":function(e,t,i){var Vue=i("./node_modules/vue/dist/vue.min.js"),i=(i("./src/pages/album/modules/album_intro/album_intro.less"),i("./src/pages/album/modules/album_intro/album_intro.tpl"));Vue.component("mp-album-intro",{template:i,props:{appendToBody:{type:Boolean,default:!1},pos:{type:String,default:"up-center"},offset:{type:Number,default:0}}})},"./src/pages/album/modules/album_intro/album_intro.less":function(e,t,i){},"./src/pages/album/modules/album_intro/album_intro.tpl":function(e,t){e.exports='<mp-popover \n  trigger="hover" \n  wrap-class="album-intro" \n  :append-to-body="appendToBody" \n  :position="pos"\n  :offset="offset"\n  >\n  <mp-icon icon="tips" :width="20" :height="20" color="var(--weuiDesktop_subColor)" slot="target"></mp-icon>\n  <div slot="content">\n    <slot #name="intro" ></slot>\n  </div>\n</mp-popover>'},"./src/pages/modules/media_dialog/article_tags_dialog/article_tags_dialog.js":function(l,p,e){function t(t,e){var i,s=Object.keys(t);return Object.getOwnPropertySymbols&&(i=Object.getOwnPropertySymbols(t),e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),s.push.apply(s,i)),s}function a(s){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?t(Object(n),!0).forEach(function(e){var t,i;t=s,i=n[e=e],e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(n)):t(Object(n)).forEach(function(e){Object.defineProperty(s,e,Object.getOwnPropertyDescriptor(n,e))})}return s}var Vue=e("./node_modules/vue/dist/vue.min.js"),i=(e("./src/pages/modules/media_dialog/article_tags_dialog/article_tags_dialog.less"),e("./src/pages/modules/media_dialog/article_tags_dialog/tags_group/tags_group.js"),e("./src/pages/modules/media_dialog/article_tags_dialog/article_tags_dialog.tpl")),o=e("./src/mmbizweb-web2-common/modules/utils/cgi.js"),s=e("./src/pages/modules/media_dialog/article_tags_dialog/tags_group/tags_group.js"),n=e("./src/3rd/utils/comm_report.js"),r=e("./src/pages/modules/utils/report.js").idkey;Vue.use(s.default);Vue.component("mp-article-tags-dialog",{template:i,props:{value:{type:Boolean,default:!1},tags:{type:Array,default:function(){return[]}},onlyRemove:{type:Boolean,default:!1},allowDeleteAll:{type:Boolean,default:!1},tagType:{type:Number,default:0},isShowRecommendTags:{type:Boolean,default:!0},category:{type:String,default:""},articleAbstract:{type:Object,default:function(){return{}}}},data:function(){return{dialogShow:this.value,form:{tags:[]},formTagsCopy:[],inputValue:"",inputFocus:!1,similarTags:[],historyTags:[],recommendTags:[],showClearHistoryTagsPopover:!1,oldPublicTags:[],showSimilarTags:!1,submitLoading:!1,tagsLoading:!1,similarTimeout:null,showTagTips:!1}},watch:{dialogShow:function(e){this.$emit("input",e)},value:function(e){this[e?"show":"hide"]()},filteredSimilarTags:function(){this.$nextTick(this.reportSimilarExposed.bind(this))}},computed:{maxTagNum:function(){var e=3;switch(this.tagType){case 0:case 5:e=5;break;case 7:e=1;break;default:e=3}return e},placeholder:function(){var e="";return e=!this.onlyRemove&&this.form.tags.length<this.maxTagNum?1===this.maxTagNum?"输入后按回车添加":"输入后按回车分割":e},countable:function(){return!this.onlyRemove&&this.form.tags.length<this.maxTagNum&&this.inputFocus},tagTips:function(){var e="";switch(this.tagType){case 0:e="每篇文章最多添加5个合集";break;case 5:e="最多五个，设置后展示在视频下面";break;case 7:e="最多一个，设置后音频底部会展现合集"}return e},illegalType:function(){var t=0;return this.form.tags.some(function(e){return!!e.illegalType&&(t=e.illegalType,!0)}),t},disabledSubmit:function(){return this.onlyRemove?this.form.tags.length===this.initLen:this.allowDeleteAll?0!==this.illegalType:!(0<this.oldPublicTags.length)&&(0===this.form.tags.length||30<this.inputValue.length||0!==this.illegalType)},disabledTagSelected:function(){return this.form.tags.length>=this.maxTagNum},showHistoryTags:function(){return 0<this.historyTags.length},showRecommendTags:function(){return 0<this.recommendTags.length&&this.isShowRecommendTags},filteredSimilarTags:function(){var t=this;function e(e,t){e=e.map(function(e){return e.label});return Array.from(new Set(e)).map(function(e){return{label:e,tagSource:t}})}return""===this.category?e(this.similarTags.filter(function(e){return e.label.includes(t.inputValue)}),2):e(this.similarTags.filter(function(e){return e.label.includes(t.inputValue)&&(e.category===t.category||"default"===e.category)}),2)}},created:function(){this.oldInputVal="",this.init()},methods:{init:function(){this.oldPublicTags=[],this.form.tags=[],this.parseInputTags(),this.getTags().then(this.reportExposed),this.onlyRemove&&(this.initLen=this.tags.length)},show:function(){this.dialogShow||(this.dialogShow=!0),this.init()},hide:function(){var e=this;this.dialogShow&&(this.dialogShow=!1),this.$nextTick(function(){e.similarTags=[],e.showSimilarTags=!1,e.$refs.tag.clear(),e.$refs.tag.resetErrStatus(),e.oldInputVal=""})},closeDialog:function(){this.dialogShow=!1,this.$emit("close",{cancel:!0}),this.reportExit(1)},submit:function(){var s=this,e=(this.submitLoading=!0,this.form.tags);if(e.length>this.maxTagNum)return this.$tipsErr("最多添加{num}个合集".replace("{num}",this.maxTagNum)),void(this.submitLoading=!1);this.checkTagSource(e,3);var n=this.oldPublicTags.filter(function(t){return!!e.find(function(e){return e.id===t.id})}),t=e.filter(function(t){return!n.find(function(e){return e.id===t.id})}),i={type:this.tagType,title_cnt:t.length||0,appmsgid:this.articleAbstract.appmsgid,index:this.articleAbstract.index};t.forEach(function(e,t){i["title_".concat(t)]=e.label,i["tag_source_".concat(t)]=e.tagSource||0}),o.post({url:"/cgi-bin/appmsgalbummgr?action=light_commit",data:i,success:function(e){var t,i;e.base_resp&&0==+e.base_resp.ret&&(e.light_commit_resp&&e.light_commit_resp.items?(s.dialogShow=!1,t={},s.form.tags.forEach(function(e){t[e.label]=e.tagSource}),e=e.light_commit_resp.items.map(function(e){return{title:e.title,id:e.album_id,tagSource:t[e.title]}}),s.checkTagSource(e,4),i=e.filter(function(t){return!s.formTagsCopy.find(function(e){return e.label===t.title&&e.tagSource===t.tagSource})}),s.checkTagSource(i,5),s.$emit("select",{tags:e.concat(n)}),s.reportExit(0)):s.$tipsErr("提交错误，请重试"))},complete:function(){s.submitLoading=!1}})},checkTagSource:function(e,t){e=e.filter(function(e){return 0===e.tagSource});e.length&&r(284167,t,e.length)},parseInputTags:function(){var t=this;this.tags.forEach(function(e){t.form.tags.push({label:e.title,id:e.id,tagSource:e.tagSource}),e.isPublic&&t.oldPublicTags.push(e)}),this.checkTagSource(this.form.tags,2),this.formTagsCopy=JSON.parse(JSON.stringify(this.form.tags))},getTagIdx:function(e){var t=e.id,i=void 0===t?0:t,s=e.label,n=-1;return this.form.tags.some(function(e,t){return(0!=+e.id&&e.id===i||e.label===s)&&(n=t,!0)}),n},isUnique:function(i){var s=this;return new Promise(function(e,t){""!==i&&-1<s.getTagIdx({label:i})?(s.$tipsErr("不可输入重复的合集，已自动删除"),t({inputValue:""})):e()})},checkIllegalTag:function(s){var n=this;return new Promise(function(t,i){o.get({url:"/cgi-bin/publictag?action=check_and_get_info&tagname=".concat(encodeURIComponent(s.label),"&article_type=").concat(n.tagType)},function(e){if(e&&e.base_resp&&0===e.base_resp.ret){switch(e.err_type){case 0:1==+e.type_differ&&n.$set(s,"illegalType",3),1==+e.is_pay&&n.$set(s,"illegalType",4);break;case 1:n.$set(s,"illegalType",1);break;default:n.$set(s,"illegalType",2)}t()}},function(e){console.error(e),i()})})},afterAddTag:function(e,t){this.showSimilarTags=!1,"string"==typeof e&&this.$set(this.form.tags,t,e={label:e}),e.tagSource=1,this.reportTagAction(e,{tagActionType:1}),this.checkIllegalTag(e)},removeTag:function(e){this.reportTagAction(e="string"==typeof e?{label:e}:e,{tagActionType:2})},focusTag:function(e){this.inputTag(e,!0),this.inputFocus=!0},blurTag:function(){this.inputFocus=!1},inputTag:function(e,t){this.inputValue=e,this.form.tags.length>=this.maxTagNum?e&&this.$tipsErr("最多添加{num}个合集".replace("{num}",this.maxTagNum)):!t&&this.oldInputVal===e||(this.oldInputVal=e,this.showSimilarTags=""!==e)},getTags:function(){var n=this;return new Promise(function(i,s){var e=a({begin:0,count:20,type:n.tagType,latest:1,need_pay:0},n.articleAbstract);n.tagsLoading=!0,n.articleAbstract,o.get({url:"/cgi-bin/appmsgalbummgr?action=list",data:e},function(e){var t;e.base_resp&&0==+e.base_resp.ret&&e.list_resp?(t=(e=e.list_resp).items&&e.items.map(function(e){return n.formatTag(e,4)}),n.historyTags=t||[],t=e.recommend_items&&e.recommend_items.map(function(e){return n.formatTag(e,3)}),n.recommendTags=t||[],t=e.input_prompt_tags&&JSON.parse(e.input_prompt_tags).map(function(e){return n.formatTagSimilar(e)}),n.similarTags=t||[],i()):(n.$tipsErr("获取合集失败"),s()),n.tagsLoading=!1},function(e){s(),console.error(e),n.tagsLoading=!1})})},formatTag:function(e,t){return{label:e.title,id:e.id,tagSource:t}},formatTagSimilar:function(e){return{label:e.tag,category:e.c1,tagSource:2}},clickDialog:function(){this.showSimilarTags=!1},clickSimilarTag:function(e,t){var i=this;this.showSimilarTags=!1,this.isUnique(e.label).then(function(){e.tagSource=2,i.form.tags.push(e),i.reportTagAction(e,{index:t+1,tagActionType:1}),i.$refs.tag.clear()}).catch(function(){return i.$refs.tag.clear()})},clickCustomTag:function(e){var t=this;this.showSimilarTags=!1,30<e.label.length?this.$tipsErr("字数超过限制"):this.isUnique(e.label).then(function(){t.form.tags.push(e),t.afterAddTag(e,t.form.tags.length-1),t.$refs.tag.clear()}).catch(function(){return t.$refs.tag.clear()})},handleTagGroupChange:function(e,t){e.selected&&this.checkIllegalTag(e);t={index:t+1,tagActionType:e.selected?1:2};this.reportTagAction(e,t)},isElementExposed:function(e,t){return e.offsetTop>=t.offsetTop+t.scrollTop&&e.offsetTop+e.offsetHeight<t.offsetTop+t.offsetHeight+t.scrollTop},reportExposed:function(){var e=this.$refs.recommendTagsGroup,t=this.$refs.historyTagsGroup;if(e)for(var i=0;i<e.$el.children.length;i++){var s=e.$el.children[i];this.isElementExposed(s,e.$el)&&(s={label:s.title,tagSource:3},this.reportTagAction(s,{index:i+1,tagActionType:0}))}if(t)for(var n=0;n<t.$el.children.length;n++){var a=t.$el.children[n];this.isElementExposed(a,t.$el)&&(a={label:a.title,tagSource:4},this.reportTagAction(a,{index:n+1,tagActionType:0}))}},similarScrollHandler:function(){var e=this;this.similarTimeout||(this.similarTimeout=setTimeout(function(){e.reportSimilarExposed.bind(e)(),clearTimeout(e.similarTimeout),e.similarTimeout=null},500))},reportSimilarExposed:function(){var s=this,n=this.$refs.similarList;if(n)for(var e=0;e<n.children.length;e++)!function(e){var t,i=n.children[e];s.isElementExposed(i,n)&&(e=Array.prototype.indexOf.call(i.parentElement.children,i),(t=s.filteredSimilarTags.find(function(e){return e.label===i.innerText}))&&!t.reported&&(s.reportTagAction(t,{index:e+1,tagActionType:0}),t.reported=!0))}(e)},reportTagAction:function(e,t){n.report(22961,{Bizuin:wx.cgiData.bizUin,Tag:e.label,TagSource:e.tagSource||void 0,RecTagPos:t.index||0,TagActionType:t.tagActionType})},reportExit:function(e){var t="";this.form.tags.forEach(function(e){t+="".concat(e.label,":").concat(e.tagSource||0,";")}),n.report(22961,{Bizuin:wx.cgiData.bizUin,TagResultInfo:t,ResultActionType:e})},handleTipsEnter:function(){var e=this;clearTimeout(this._timer),this._timer=setTimeout(function(){e.showTagTips=!0},200)},handleTipsLeave:function(){var e=this;clearTimeout(this._timer),this._timer=setTimeout(function(){e.showTagTips=!1},200)}},filters:{similarTagsCount:function(e){return 1e4<=e?"".concat(Math.floor(e/1e4),"万"):e}}})},"./src/pages/modules/media_dialog/article_tags_dialog/article_tags_dialog.less":function(e,t,i){},"./src/pages/modules/media_dialog/article_tags_dialog/article_tags_dialog.tpl":function(e,t){e.exports='<mp-dialog title="合集标签" wrap-class="article_tags_dialog js_article_tags_dialog" :width="600" v-model="dialogShow" @close="closeDialog" @click="clickDialog">\n  <mp-popover :class="{\'weui-desktop-popover_show\': showTagTips}" v-if="tagType === 0" v-model="showTagTips" width="344" trigger="manual">\n    <span slot="target"></span>\n    <div slot="content" @mouseenter="handleTipsEnter" @mouseleave="handleTipsLeave">\n      <p>合集标签可以被用户订阅，也可能会被推荐。</p>\n      <p style="margin-top: 8px;">选择后，合集将展示在文章开头和文末连续阅读区域。连续阅读功能可在侧边栏<a href="/cgi-bin/appmsgalbummgr?action=list" target="_blank">合集标签</a>设置。</p>\n      <p style="margin-top: 12px;">文章开头示例</p>\n      <p style="font-size:0;margin-top:8px"><img style="width: 100%;border:0.5px solid rgba(0,0,0,0.1)" src="https://res.wx.qq.com/op_res/EJ4fnnRAkZJrqWcfhoJqxl3HjI-N8uUrdUwG-CGFuU5NlTVFPsUiF_-HxVvwhVGEky3Bbmf_Ol6mYBGno4r1Zg"/></p>\n      <p style="margin-top: 12px;">文末连续阅读功能示例</p>\n      <p style="font-size:0;margin-top:8px"><img style="width: 100%;border:0.5px solid rgba(0,0,0,0.1)" src="https://res.wx.qq.com/op_res/uhzbrXEEi_Vk81lhJcvxJZVaQ-NnhwXMtcA5JxBlKqJqOGXkJH_9rYw5MxhTpUfh_VfWTNjWgdBH1-CCDojtrQ" alt=""></p>\n    </div>\n  </mp-popover>\n  <mp-popover :class="{\'weui-desktop-popover_show\': showTagTips}" v-else-if="tagType === 5" v-model="showTagTips" width="344" trigger="manual">\n    <span slot="target"></span>\n    <div slot="content">\n      <p>合集标签可以被用户订阅，也可能会被推荐。在视频消息中，合集将展现在视频下方。</p>\n      <p><img style="width: 100%;" src="https://res.wx.qq.com/op_res/EJ4fnnRAkZJrqWcfhoJqxi7ZG7lEtauoPP-cYlyVKVlLv1gPRDZM7cKQMZsWK9wx8LSS_TxQr67I1CVIbixUfQ"/></p>\n    </div>\n  </mp-popover>\n  <div class="article_tags_dialog_inner" :class="{\'article_tags_dialog_inner_no_tags\': !showHistoryTags&&!showRecommendTags}" rootElm="#vue_app">\n    <mp-form class="article_tags_dialog_inner_scroll">\n      <mp-form-item prop="tags" >\n          <div v-if="!onlyRemove" class="article_tags_dialog_tips"> \x3c!-- 输入框提示部分 --\x3e\n            <span>{{ tagTips }}</span>\n            <span v-if="tagType === 0 || tagType === 5" style="vertical-align:middle;display:inline-block;" @mouseenter="handleTipsEnter" @mouseleave="handleTipsLeave">\n              <mp-icon icon="tips" :width="18" :height="18"></mp-icon>\n            </span>\n          </div>\n          <div v-else>已添加合集的内容仅支持删除合集，删除后无法撤回</div>\n\n        <div class="tags_input_wrap js_not_hide_similar_tags" :class="{\'tags_input_wrap_focus\':inputFocus}" @click.stop>\n          <mp-tag ref="tag" type="form" :placeholder="placeholder" :tags="form.tags" max-length="30" :max-size="maxTagNum" :countable="countable" :disabled-input="onlyRemove" :before-add="isUnique" @add="afterAddTag" @remove="removeTag" @input="inputTag" @focus="focusTag" @blur="blurTag">\n            <template slot="message-max-size">最多添加{{maxTagNum}}个合集</template>\n          </mp-tag>\n          <div v-if="illegalType" class="weui-desktop-form__msg weui-desktop-form__msg_warn">\n            <template v-if="illegalType === 1">合集只支持输入中文、英文和数字，请删除</template>\n            <template v-else-if="illegalType === 2">输入的合集无法添加，请修改</template>\n            <template v-else-if="illegalType === 3">{{ tagType === 0 ? "已创建过同名的视频/音频合集，请删除" : (tagType === 5 ? "已创建过同名的图文/音频合集，请删除" : "已创建过同名的图文/视频合集，请删除") }}</template>\n            <template v-else-if="illegalType === 4">输入的合集包含付费合集，请移除。如需添加付费合集，请开启付费后的界面设置</template>\n          </div>\n          <div v-show="showSimilarTags" class="weui-desktop-dropdown-menu article_tags_sug">\n            <template v-if="filteredSimilarTags.length">\n              <ul class="weui-desktop-dropdown__list" ref="similarList" @scroll="similarScrollHandler">\n                <li class="weui-desktop-dropdown__list-ele" v-for="(tag, index) in filteredSimilarTags" @click="clickSimilarTag(tag, index)">\n                  <div class="weui-desktop-dropdown__list-ele-contain">\n                    {{ tag.label }}\n                    \x3c!-- <span class="article_tags_sug_count">· {{ tag.count | similarTagsCount }}个内容</span> --\x3e\n                  </div>\n                </li>\n              </ul>\n            </template>\n            <template v-else>\n              <div class="article_tags_sug_tips">创建合集</div>\n              <ul class="weui-desktop-dropdown__list">\n                <li class="weui-desktop-dropdown__list-ele" @click="clickCustomTag({label:inputValue})">\n                  <div class="weui-desktop-dropdown__list-ele-contain">{{ inputValue }}</div>\n                </li>\n              </ul>\n            </template>\n          </div>\n        </div>\n      </mp-form-item>\n\n      <div class="weui-desktop-empty-tips" v-if="tagsLoading">\n        <i class="weui-desktop-loading"></i>\n      </div>\n      <div v-else>\n        <mp-form-item v-if="!onlyRemove && showRecommendTags">\n        <div class="article_tags_recommend">\n          <div class="article_tags_list_hd">\n            <h4>推荐合集</h4>\n          </div>\n          <mp-tags-group ref="recommendTagsGroup" class="article_tags_list_recommend" :tags="recommendTags" v-model="form.tags" :disabled="disabledTagSelected" :tagMaxLength=11 :tagSymbol="true" @change="handleTagGroupChange"></mp-tags-group>\n        </div>\n        </mp-form-item>\n\n        <mp-form-item v-if="!onlyRemove && showHistoryTags">\n          <div class="article_tags_history">\n            <div class="article_tags_list_hd">\n              <h4>最近合集</h4>\n              \x3c!-- <mp-popover title="清空全部历史合集？" v-model="showClearHistoryTagsPopover">\n                <div class="btn_clean" slot="target">\n                  <mp-icon icon="garbage"></mp-icon>清空\n                </div>\n\n                <div slot="bar">\n                  <mp-button type="primary" @click="clearHistoryTags">确认</mp-button>\n                  <mp-button type="default" @click="showClearHistoryTagsPopover = false">取消</mp-button>\n                </div>\n              </mp-popover> --\x3e\n            </div>\n            <mp-tags-group ref="historyTagsGroup" class="article_tags_list_history" :tags="historyTags" v-model="form.tags" :disabled="disabledTagSelected" :tagMaxLength=11 :tagSymbol="true" @change="handleTagGroupChange"></mp-tags-group>\n          </div>\n        </mp-form-item>\n      </div>\n    </mp-form>\n  </div>\n\n  <template slot="footer">\n    <mp-button type="primary" @click="submit" :disabled="disabledSubmit" :loading="submitLoading">确定</mp-button>\n    <mp-button type="default" @click="closeDialog">取消</mp-button>\n  </template>\n</mp-dialog>'},"./src/pages/modules/media_dialog/article_tags_dialog/tags_group/tags_group.js":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,i("./src/pages/modules/media_dialog/article_tags_dialog/tags_group/tags_group.less");var s={name:"mp-tags-group",template:((i=i("./src/pages/modules/media_dialog/article_tags_dialog/tags_group/tags_group.tpl"))&&i.__esModule?i:{default:i}).default,props:{value:{type:Array,default:function(){return[]}},tags:{type:Array},label:{type:String,default:function(){return"label"}},keyword:{type:String,default:function(){return this.label}},disabled:{type:Boolean,default:function(){return!1}},deepCopy:{type:Boolean,default:function(){return!0}},tagMaxLength:{type:Number,default:function(){return 10}},tagSymbol:{type:Boolean,default:function(){return!1}}},data:function(){return{tagsCopy:this.deepCopy?JSON.parse(JSON.stringify(this.tags)):this.tags}},methods:{getTagIdx:function(e,i){var s=this,n=-1;return e.some(function(e,t){return i[s.keyword]===e[s.keyword]&&(n=t,!0)}),n},refreshView:function(){var t=this;this.tagsCopy.forEach(function(e){t.$set(e,"selected",-1<t.getTagIdx(t.value,e))})},changeHandler:function(e,t){var i=this.value,s=this.getTagIdx(this.value,e);e.selected?-1===s&&(i.push(e),this.$emit("change",e,t)):-1<s&&(this.$emit("change",this.value[s],t),i.splice(s,1)),this.$emit("input",i)}},watch:{value:function(){this.refreshView()}},created:function(){this.refreshView()}};"function"==typeof s.template&&s.template(s),s.install=function(Vue){return Vue.component(s.name,s)},t.default=s},"./src/pages/modules/media_dialog/article_tags_dialog/tags_group/tags_group.less":function(e,t,i){},"./src/pages/modules/media_dialog/article_tags_dialog/tags_group/tags_group.tpl":function(e,t){e.exports='<div class="weui-desktop-form__tags-group">\n    <label v-for="(tag, index) in tagsCopy" class="weui-desktop-form__tag-label" :class="{selected: tag.selected, disabled: disabled&&!tag.selected }" :title="tag[label]"> \n      <input type="checkbox" v-model="tag.selected" @change="changeHandler(tag, index)" >\n      <div id="mp-tags-group-text-wrap" :style="{\'max-width\':tagMaxLength + \'em\'}">\n        <span><span v-if="tagSymbol">#</span>{{tag[label]}}</span>\n      </div>\n    </label>\n</div>'},"./src/pages/modules/message/messageCgi.js":function(e,t,i){var c=i("./src/mmbizweb-web2-common/modules/utils/cgi.js"),s={massdel:function(e,t,i,s){c.post({url:"/cgi-bin/masssendpage?action=delete&token="+wx.commonData.data.t,data:{id:e,idx:s}},function(e){if(e&&e.base_resp&&0===e.base_resp.ret)return Vue.prototype.$tipsSuc("删除成功"),void(t&&t(e));i&&i(e)},function(){Vue.prototype.$tipsErr("删除失败")})},masssend:function(e,t,i){c.post({url:"/cgi-bin/masssend?t=ajax-response&"+wx.commonData.data.t,data:e},function(e){e&&0==+e.base_resp.ret?(Vue.prototype.$tipsSuc("发送成功"),t&&t(e)):(Vue.prototype.$tipsErr("发送失败"),i&&i(e))},function(e){Vue.prototype.$tipsErr("发送失败"),i&&i(e)})},getNewMsg:function(e,t,i,s,n,a){c.get({url:"/cgi-bin/singlesendpage?action=sync",data:{tofakeid:e,lastmsgfromfakeid:t,lastmsgid:i,createtime:s}},function(e){e&&e.base_resp&&0===e.base_resp.ret?n&&n(e.page_info.msg_items.msg_item):c.handleRet(e,{id:64462,key:51,url:"/cgi-bin/singlesendpage?action=sync",showMsg:!1})},function(e){a&&a(e)})},saveAudio:function(e,t,i,s){c.post({url:"/cgi-bin/savemsgtofile?t=ajax-response&only_cdn=0",data:{msgid:e,title:t,filename:t,voice_cagtegory:i}},function(e){var t;e&&e.base_resp?0===(t=e.base_resp.ret)?(Vue.prototype.$tipsSuc("保存音频成功"),"function"==typeof s&&s(e)):220001===t?Vue.prototype.$tipsErr('"素材管理"中的存储数量已达到上限，请删除后再操作。'):220002===t?Vue.prototype.$tipsErr("你的图片库已达到存储上限，请进行清理。"):c.handleRet(e,{id:64462,key:52,url:"/cgi-bin/savemsgtofile",msg:"保存音频失败"}):Vue.prototype.$tipsErr("保存音频失败")},function(){Vue.prototype.$tipsErr("保存音频失败")})},save:function(e,t,i,s,n){"function"==typeof i&&(s=i,i=""),c.post({url:"/cgi-bin/savemsgtofile?t=ajax-response&only_cdn=0",data:{msgid:e,filename:t,digest:i,scene:n}},function(e){var t;e&&e.base_resp?0===(t=e.base_resp.ret)?(Vue.prototype.$tipsSuc("保存素材成功"),"function"==typeof s&&s(e)):220001===t?Vue.prototype.$tipsErr('"素材管理"中的存储数量已达到上限，请删除后再操作。'):220002===t?Vue.prototype.$tipsErr("你的图片库已达到存储上限，请进行清理。"):c.handleRet(e,{id:64462,key:53,url:"/cgi-bin/savemsgtofile",msg:"保存素材失败"}):Vue.prototype.$tipsErr("保存素材失败")},function(){Vue.prototype.$tipsErr("保存素材失败")})},checkReply:function(e,t){c.get({url:"/cgi-bin/singlesend?action=check",data:{tofakeid:e}},function(e){if(0===e.base_resp.ret)t&&t(e);else if(10700===e.base_resp.ret)Vue.prototype.$tipsErr("该用户已经取消关注，你无法再给他发送消息");else if(10701===e.base_resp.ret)Vue.prototype.$tipsErr("该用户已被加入黑名单，无法向其发送消息");else if(10706===e.base_resp.ret)3===e.stage?Vue.prototype.$tipsErr("对方10天内未与你互动"):Vue.prototype.$tipsErr("由于该用户48小时未与你互动，你不能再主动发消息给他。直到用户下次主动发消息给你才可以对其进行回复");else if(10708===e.base_resp.ret)switch(e.stage){case 1:Vue.prototype.$tipsErr("对方回复前只能发送20条消息");break;case 2:e.is_miss_reply?Vue.prototype.$tipsErr("收到消息48小时后只能回复1条消息，你已回复"):Vue.prototype.$tipsErr("你在收到消息48小时内已进行过回复")}else Vue.prototype.$tipsErr("快捷回复失败，请稍后再试")},function(){Vue.prototype.$tipsErr("快捷回复失败，请稍后再试")})},star:function(e,t,i){c.post({url:"/cgi-bin/setstarmessage?t=ajax-setstarmessage&only_cdn=0",data:{msgid:e,value:1===t?0:1}},function(e){e&&e.base_resp?0!==e.base_resp.ret?c.handleRet(e,{id:64462,key:54,url:"/cgi-bin/setstarmessage",msg:1===t?"取消收藏失败":"收藏消息失败"}):(Vue.prototype.$tipsSuc(1===t?"已取消收藏":"已收藏"),"function"==typeof i&&i(e)):Vue.prototype.$tipsErr(1===t?"取消收藏失败":"收藏消息失败")},function(){Vue.prototype.$tipsErr(1===t?"取消收藏失败":"收藏消息失败")})},sendMsg:function(e,n,a){c.post({url:"/cgi-bin/singlesend?t=ajax-response&f=json",data:e},function(e){if(!e||!e.base_resp)return Vue.prototype.$tipsErr("发送失败"),void(a&&a(e));var t=e.base_resp.ret,i=e.stage,s=e.is_miss_reply;if(0===t)return Vue.prototype.$tipsSuc("回复成功"),void("function"==typeof n&&n(e));if(10703===t)Vue.prototype.$tipsErr("对方关闭了接收消息");else if(10700===t)Vue.prototype.$tipsErr("该用户已经取消关注，你无法再给他发送消息。");else if(10701===t)Vue.prototype.$tipsErr("该用户已被加入黑名单，无法向其发送消息");else if(62752===t)Vue.prototype.$tipsErr("消息中可能含有具备安全风险的链接，请检查");else if(10704===t)Vue.prototype.$tipsErr("该素材已被删除");else if(10705===t)Vue.prototype.$tipsErr("该素材已被删除");else if(10706===t)3===i?Vue.prototype.$tipsErr("对方10天内未与你互动"):Vue.prototype.$tipsErr("由于该用户48小时未与你互动，你不能再主动发消息给他。直到用户下次主动发消息给你才可以对其进行回复。");else if(10708===t)switch(i){case 1:Vue.prototype.$tipsErr("对方回复前只能发送20条消息");break;case 2:s?Vue.prototype.$tipsErr("收到消息超过48小时，只能回复1条消息，用户回复后可继续互动"):Vue.prototype.$tipsErr("你在收到消息48小时内已进行过回复")}else 200008===t?Vue.prototype.$tipsErr("请输入验证码"):1530500===t&&1530507===t||c.handleRet(e,{id:64462,key:55,url:"/cgi-bin/singlesend",msg:"发送失败"});a&&a(e)},function(){Vue.prototype.$tipsErr("发送失败"),a&&a()})},getNewMsgCount:function(e,t,i,s,n){c.post({url:"/cgi-bin/getnewmsgnum?f=json&t=ajax-getmsgnum",data:{lastmsgid:e,filterivrmsg:+t,filterspammsg:+i}},function(e){"function"==typeof s&&s(e),e&&e.base_resp&&e.base_resp.ret&&c.handleRet(e,{id:64462,key:56,url:"/cgi-bin/getnewmsgnum",showMsg:!1})},function(e){n&&n(e)})},quickReply:function(e,t,i){s.sendMsg({tofakeid:e.tofakeid,imgcode:e.imgcode,type:1,content:e.content,out_trade_no:e.out_trade_no,appmsg:e.appmsg||"",quickreplyid:e.quickreplyid},t,i)},get1stMsgId:function(e,i,s){e=e.day;c.get({url:"/cgi-bin/message?action=get_frommsgid",data:{day:e},success:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.base_resp&&+e.base_resp.ret;0===t?i(e.from_msg_id_64bit_str||e.from_msg_id_64bit):(Vue.prototype.$tipsErr("系统繁忙，请稍后再试"),s(t))},error:function(){Vue.prototype.$tipsErr("系统繁忙，请稍后再试"),s()}})},getRecentMsgList:function(e,i,s){var t=e.frommsgid,n=e.count,a=e.day,o=e.filtertype,r=e.keyword,l=e.filterivrmsg,p=e.filterspammsg,e=e.offset;c.get({url:"/cgi-bin/message",data:{frommsgid:t,count:n,day:a,filtertype:o,keyword:r,filterivrmsg:l,filterspammsg:p,offset:e},success:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.base_resp&&+e.base_resp.ret;0===t?i(e):(Vue.prototype.$tipsErr("系统繁忙，请稍后再试"),s(t))},error:function(){Vue.prototype.$tipsErr("系统繁忙，请稍后再试"),s()}})},getSearchMsgList:function(e,i,s){var t=e.count,n=e.keyword,e=e.frommsgid;c.get({url:"/cgi-bin/message?action=search",data:{count:t,keyword:n,frommsgid:e},success:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.base_resp&&+e.base_resp.ret;0===t?i(e):(Vue.prototype.$tipsErr("系统繁忙，请稍后再试"),s(t))},error:function(){Vue.prototype.$tipsErr("系统繁忙，请稍后再试"),s()}})},getStarMsgList:function(e,i,s){var t=e.count,n=e.offset,e=e.frommsgid;c.get({url:"/cgi-bin/message?action=star",data:{count:t,offset:n,frommsgid:e},success:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.base_resp&&+e.base_resp.ret;0===t?i(e):(Vue.prototype.$tipsErr("系统繁忙，请稍后再试"),s(t))},error:function(){Vue.prototype.$tipsErr("系统繁忙，请稍后再试"),s()}})},deleteUsrMsg:function(e,i,s){var t=e.fakeId,e=e.latestUsrMsgId;c.post({url:"/cgi-bin/message?action=delete_msg",data:{tofakeid:t,delete_msg_id:e},success:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.base_resp&&+e.base_resp.ret;0===t?i(e):(Vue.prototype.$tipsErr("删除聊天失败，请稍后再试"),s(t))},error:function(){Vue.prototype.$tipsErr("删除聊天失败，请稍后再试"),s()}})},blackoutUsr:function(e,i,s){var t=e.fakeId,e=e.isHarassment;c.post({url:"/cgi-bin/user_tag?action=set_black&source=4",data:{user_openid_list:t,is_harassment:+e},success:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.base_resp&&+e.base_resp.ret;0===t?(i(e),Vue.prototype.$tipsSuc("加入黑名单成功")):(s(t),Vue.prototype.$tipsErr("加入黑名单失败，请稍后再试"),c.handleRet(e,{id:64462,key:78,url:"/cgi-bin/user_tag?action=set_black",msg:"加入黑名单失败"}))},error:function(){Vue.prototype.$tipsErr("加入黑名单失败，请稍后再试"),s()}})},unBlackOutUsr:function(e,i,s){e=e.fakeId;c.post({url:"/cgi-bin/user_tag?action=cancle_black&source=4",data:{user_openid_list:e},success:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.base_resp&&+e.base_resp.ret;0===t?(i(e),Vue.prototype.$tipsSuc("移除黑名单成功")):(s(t),Vue.prototype.$tipsErr("移除黑名单失败，请稍后再试"),c.handleRet(e,{id:64462,key:79,url:"/cgi-bin/user_tag?action=cancle_black",msg:"移除黑名单失败"}))},error:function(){Vue.prototype.$tipsErr("移除黑名单失败，请稍后再试"),s()}})},setIvrSpamMsgStatus:function(e){var s=e.filterIvrMsg,n=e.filterSpamMsg;return new Promise(function(t,i){c.post({url:"/cgi-bin/message?action=filter_msg_setting",data:{filter_ivr_msg_setting:+s,filter_spam_msg_setting:+n},success:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=e.base_resp&&+e.base_resp.ret;(0===e?t:i)(e)},error:function(){i()}})})},getSingleSendMsgList:function(e,i,s){var t=e.tofakeid,e=e.lastmsgid;c.get({url:"/cgi-bin/singlesendpage?action=index",data:{tofakeid:t,lastmsgid:e},success:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.base_resp&&+e.base_resp.ret;0===t?i(e):(Vue.prototype.$tipsErr("系统繁忙，请稍后再试"),s(t))},error:function(){Vue.prototype.$tipsErr("系统繁忙，请稍后再试"),s()}})}};e.exports=s},"./src/pages/modules/publish/publish_record/publish_record.js":function(i,u,e){function m(e,t){var i,s="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!s){if(Array.isArray(e)||(s=function(e,t){if(e){if("string"==typeof e)return r(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(i="Object"===i&&e.constructor?e.constructor.name:i)||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?r(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length)return s&&(e=s),i=0,{s:t=function(){},n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,a=!0,o=!1;return{s:function(){s=s.call(e)},n:function(){var e=s.next();return a=e.done,e},e:function(e){o=!0,n=e},f:function(){try{a||null==s.return||s.return()}finally{if(o)throw n}}}}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,s=new Array(t);i<t;i++)s[i]=e[i];return s}function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t,i){setTimeout(function(){c&&c.has(t)&&e().then(function(){s(e,t,i+1)}).catch(function(){c.delete(t)})},w(i))}var Vue=e("./node_modules/vue/dist/vue.min.js"),d=e("./src/pages/modules/publish/publish_record/publish_record.tpl"),g=e("./src/mmbizweb-web2-common/modules/utils/cgi.js"),a=e("./src/pages/modules/utils/string.js"),o=e("./src/pages/modules/utils/time.js"),f=e("./src/pages/modules/utils/str_util.js"),_=e("./src/3rd/moment/moment.js"),v=e("./src/pages/modules/common/emoji/emoji.js"),h=e("./src/pages/modules/cardticket/parse_data.js"),b=e("./src/pages/modules/publish/publish_common/xss_filter.js").resloveContentXss,t=e("./src/pages/modules/publish/tpl/publish_tpl.js"),l=t.formatTime,p=t.formatDeleteTime,y=(t.formatWords,t.getPublishStatus,t.getSendStatus,t.getAlbumStatus,t.getVideoStatus,t.getStatus),c=(e("./src/pages/modules/publish/publish_status/publish_status.js"),e("./src/pages/modules/qrcheck/qrcheck.js"),e("./src/pages/modules/media_dialog/article_tags_dialog/article_tags_dialog.js"),e("./src/pages/modules/publish/publish_record/publish_record.less"),new Set),w=function(e){return e<=12?5e3:12<e&&e<=30?3e4:6e4},k=new Set([1,101,102,103,104,105,106]),T=new Set([1,2,3,4,5]);Vue.component("mp-publish-record",{template:d,props:{list:{type:Array,default:function(){return[]}},need_block:{type:Boolean,default:!0},canUsePublicTag:{type:Number,default:0},realnameType:{type:Number,default:0},keyword:{default:""}},mounted:function(){var s=this;this.$bus.$on("del-item:delete",function(e){s.delQr||(s.delData={msgid:e.msgid,idx:e.idx,i:e.i},s.delQr=!0,s.delItem=e.item)}),this.$bus.$on("tag-item:addTags",function(e){s.isInitArticleTagsDialog||(s.isInitArticleTagsDialog=!0);var t=e.info,i=t.appmsgid,t=t.itemidx;s.articleTagsDialog={isShow:!0,tags:s.getTagsInfo(e.info),tagType:e.info.share_type,onlyRemove:!1,info:e.info,action:"add",articleAbstract:{appmsgid:i,index:t}},s.articleTagsDialog}),this.$bus.$on("tag-item:removeTags",function(e){s.isInitArticleTagsDialog||(s.isInitArticleTagsDialog=!0);var t=e.info,i=t.appmsgid,t=t.itemidx;s.articleTagsDialog={isShow:!0,tags:s.getTagsInfo(e.info),onlyRemove:!0,info:e.info,action:"remove",articleAbstract:{appmsgid:i,index:t}}}),this.initPollTimer()},data:function(){return{newlist:this.initMasslistData(this.list,!1),delQr:!1,delData:null,delItem:null,delWord:"",waitAdminDialogHide:!0,isInitArticleTagsDialog:!1,articleTagsDialog:{isShow:!1,tags:[],onlyRemove:!1,info:{},action:""}}},methods:{isMediaAccount:function(){return 2===this.realnameType||9===this.realnameType},getTagsInfo:function(e){var t=e.appmsg_album_info,e=e.public_tag_info,i=[],s=(e&&(i=e.public_tag_list&&e.public_tag_list.map(function(e){return{id:e.tag_id||e.id,title:e.tag_name||e.title,isPublic:!0}})||[]),t.appmsg_album_infos.map(function(e){return{id:e.id||"",title:e.title||"",isPublic:!1}})||[]),i=i.filter(function(t){return!s.find(function(e){return e.title===t.title})});return s.concat(i)},delDone:function(e,t){if(0<t.resp.scan_user_type&&this.delData&&this.delItem){var i=this.delItem,s=this.delData.i,n=this.delData.isAppmsg;9===i.type||10===i.type||11===i.type||10001===i.type||10002===i.type?(i.appmsg_info[s].is_deleted=!0,i.appmsg_info[s].modify_wording="",1===i.appmsg_info.length&&(i.view.status="已删除")):(i.sent_result.msg_status=7,i.view.status="已删除"),n?i.appmsg_info[s].delPopShow=!1:i.delPopShow=!1,0<s&&((new Image).src="/misc/jslog?id=124&content="+JSON.stringify(this.delData)+"&level=error")}else{try{this.delWord=f.sprintf("请等待管理员%s进行删除操作，此申请在30分钟后过期，请尽快联系管理员",JSON.parse(t.resp.check_extra).admin_nickname)}catch(e){this.delWord="请等待管理员进行删除操作，此申请在30分钟后过期，请尽快联系管理员"}this.waitAdminDialogHide=!1}this.delQr=!1,this.delData=null,this.delItem=null},submitArticleTagsDialog:function(e){var t=this,i=this.articleTagsDialog.info,s=e.tags.filter(function(e){return!e.isPublic}),n=e.tags.filter(function(e){return!!e.isPublic}),e={url:i.content_url,appmsg_album_info:{appmsg_album_infos:s},public_tag_list:n.map(function(e){return e.title})};g.post({url:"/cgi-bin/publictag?action=update_sent_appmsg_publictag",data:{req_json:JSON.stringify(e)}},function(e){e&&e.base_resp&&0===e.base_resp.ret?(i.appmsg_album_info.appmsg_album_infos=s,(i.public_tag_info||(i.public_tag_info={})).public_tag_list=n,t.$tipsSuc("合集修改成功")):t.$tipsErr("系统错误，请稍后重试")})},getItemData:function(e){var s={msgid:e.msgid,publish_type:1===e.view.sourceType?101:1};return new Promise(function(t,i){g.get({url:"/cgi-bin/check_publish_status",data:s},function(e){e&&0===e.base_resp.ret?t(e):i()})})},isNoFinalState:function(e){return 1===e.view.sourceType?k.has(e.sent_result.msg_status):4===e.view.sourceType&&T.has(e.publish_info.publish_status)},initMasslistData:function(e){var s=this;if(e&&0!==e.length)return"#featuredlist"===location.hash&&e[0].publish_type?[]:(e&&"function"==typeof e.forEach&&e.forEach(function(e,t,i){i[t]=s.initOneMassData(e),s.isNoFinalState(i[t])&&c.add(t)}),e)},initOneMassData:function(s){var e,t=1<arguments.length&&void 0!==arguments[1]&&arguments[1];if("string"==typeof s.publish_info){!1===wx.cgiData.isPublishPageNoEncode&&(s.publish_info=a.htmlDecode(s.publish_info),s=Object.assign({},s));try{s.publish_info=JSON.parse(s.publish_info)}catch(e){s.publish_info={appmsg_info:{},sent_info:{}}}}if("string"!=typeof s.publish_info&&s.appmsg_info)e=101;else{if(s.publish_info.appmsg_info.isXssEncoded||(s.publish_info.appmsg_info=b(s.publish_info.appmsg_info,["digest","title","highlight_title"]),s.publish_info.appmsg_info.isXssEncoded=!0),e=+s.publish_type,""===s.publish_info)return;e&&(s=s.publish_info)}var i=new Map([["media",1],["album",2],["video",3],["publish",4],[101,1],[102,2],[103,3],[1,4]]);return s.view={isFirst:t,isApi:!1,sourceType:i.get(e)||1,reviewOverTime:!1},s.sent_info&&(s.view.time=o.timeFormat(s.sent_info.time),s.view.publishDate=o.getFullDate(s.sent_info.time),s.view.reviewOverTime=k.has(s.sent_result&&s.sent_result.msg_status)&&12e5<new Date-1e3*s.sent_info.time,2048&s.sent_info.func_flag&&(s.view.isApi=!0),s.sent_info.func_flag&1<<18&&(s.view.isCard=!0),o.isToday(s.sent_info.time)||o.isYesterday(s.sent_info.time)&&(new Date).getHours()<10?(s.view.isGoToDataPage=!1,s.view.dataPageWording="群发后第二天上午才会更新数据分析"):(s.view.isGoToDataPage=!0,s.view.dataPageWording="群发数据")),s.publish_info&&(s.view.time=o.timeFormat(s.publish_info.update_time),s.view.reviewOverTime=T.has(s.publish_info.publish_status)&&12e5<new Date-1e3*s.publish_info.update_time),(s=y.bind(this)(s,e)).type&&1===s.view.sourceType||1===e?(s.view.noReadNum||9!==s.type&&10!==s.type&&11!==s.type&&1!==s.type&&10001!==s.type&&10002!==s.type?s.delPopShow=!1:s.appmsg_info&&0<s.appmsg_info.length&&s.appmsg_info.forEach(function(e,t){e.content_url=f.html(e.content_url,!1),1==+e.is_pay_subscribe&&(e.pay_content_url="/merchant/mppaysubscribe?action=go_paid_article&article_url=".concat(encodeURIComponent(e.content_url),"&token=").concat(wx.commonData.data.t)),1==+e.is_cooling_article&&(e.cooling_content_url="/cgi-bin/gocoolingarticle?article_url=".concat(encodeURIComponent(e.content_url),"&token=").concat(wx.commonData.data.t)),e.i=t,1==+e.smart_product&&(s.view.smart_product=1),e.commentPopShow=!1,e.delPopShow=!1,e.undelShow=!1,e.delWording=s.publish_info?"":"删除后用户将无法访问此页面，确定删除？该操作只能删除历史消息中的记录，不能删除已经成功发送到用户的消息。",e.msgid=s.msgid,e.cover=a.http2https(e.cover),e.deleteFormatTime=e.is_deleted&&e.delete_time?p(e.delete_time):"";var t=s.publish_info,i=!1;if(t&&t.publish_status&&200===t.publish_status&&(i=!0),e.modify_status&&t&&i||e.modify_status&&!t)switch(e.modify_status){case 1:case 2:case 4:e.modify_wording="修改错别字";break;case 3:e.modify_wording="该文章已经被修改过";break;case-1:e.modify_wording="文章涉及争议，暂不支持修改";break;case-2:e.modify_wording="文章涉及辟谣，暂不支持修改";break;case-3:case-4:e.modify_wording="该转载类型文章暂不支持修改"}}),s.resendPopShow=!1,9!==s.type&&1!==e||s.appmsg_info.forEach(function(e,t){7===e.share_type&&(e.id=e.appmsgid+""+t,e.playing_duration=0,e.progress=0),0===e.share_type&&(e.title=e.title||_.unix(s.sent_info.time).format("YYYY/MM/DD")),5!==e.share_type&&1!==e.share_type||(e.duration=o.formatMediaTime(e.duration)),e.deleteFormatTime=e.is_deleted&&e.delete_time?p(e.delete_time):""}),9!==s.type&&16!==s.type&&4!==s.type&&3!==s.type||(t={},16===s.type||4===s.type?(t=s.video_info).duration=l(t.duration):3===s.type&&((t=s.audio_info).id=s.msgid),t.playing_duration=0,t.progress=0),1===s.type&&1!==e&&(s.text_info.content=v(s.text_info.content)),17===s.type&&(s.view.card=h.parse_cardticket(s.card_info))):2===s.view.sourceType?(s.view.noReadNum||10001!==s.type?s.delPopShow=!1:s.appmsg_info&&"object"===n(s.appmsg_info)&&(s.appmsg_info=[s.appmsg_info],s.appmsg_info.forEach(function(e,t){switch(e.i=t,1==+e.smart_product&&(s.view.smart_product=1),e.commentPopShow=!1,e.delPopShow=!1,e.undelShow=!1,e.delWording="删除后用户将无法访问此页面，确定删除？",e.msgid=s.msgid,e.cover=a.http2https(e.cover),e.deleteFormatTime=e.is_deleted&&e.delete_time?p(e.delete_time):"",7===e.share_type&&(e.id=e.appmsgid+""+t,e.playing_duration=0,e.progress=0),0===e.share_type&&(e.title=e.title||_.unix(s.sent_info.time).format("YYYY/MM/DD")),5!==e.share_type&&1!==e.share_type||(e.duration=l(e.duration)),e.modify_status){case 1:case 2:case 4:e.modify_wording="修改错别字";break;case 3:e.modify_wording="该文章已经被修改过";break;case-1:e.modify_wording="文章涉及争议，暂不支持修改";break;case-2:e.modify_wording="文章涉及辟谣，暂不支持修改";break;case-3:case-4:e.modify_wording="该转载类型文章暂不支持修改"}})),s.resendPopShow=!1):3===s.view.sourceType&&s.appmsg_info&&"[object Array]"===Object.prototype.toString.call(s.appmsg_info)&&s.appmsg_info.forEach(function(e,t){e.i=t,e.commentPopShow=!1,e.delPopShow=!1,e.delWording="删除后用户将无法访问此页面，确定删除？",e.msgid=e.appmsgid,e.cover=a.http2https(e.cover),e.duration="string"==typeof e.duration?e.duration:l(e.duration),e.deleteFormatTime=e.is_deleted&&e.delete_time?p(e.delete_time):""}),s},initPollTimer:function(){var e,i=this,t=m(c);try{for(t.s();!(e=t.n()).done;)!function(){var t=e.value;s(function(){return i.getItemData(i.newlist[t]).then(function(e){e=Object.assign({},i.newlist[t],i.initOneMassData(e));i.$set(i.newlist,t,e),i.isNoFinalState(i.newlist[t])||c.delete(t)}).catch(function(e){c.delete(t)})},t,0)}()}catch(e){t.e(e)}finally{t.f()}}},watch:{list:{handler:function(){this.newlist=this.initMasslistData(this.list,!1)}}},beforeDestroy:function(){c=null}})},"./src/pages/modules/publish/publish_record/publish_record.less":function(e,t,i){},"./src/pages/modules/publish/publish_record/publish_record.tpl":function(e,t){e.exports='<div>\n  <featured-toast></featured-toast>\n  <div>\n    <template v-for="item in newlist">\n      <template v-if="!!need_block">\n        <mp-block>\n          <mp-item :item="item" :can-use-public-tag="canUsePublicTag" :keyword="keyword"></mp-item>\n        </mp-block>\n      </template>\n      <template v-else>\n        <mp-item :item="item" :can-use-public-tag="canUsePublicTag" :keyword="keyword"></mp-item>\n      </template>\n    </template>\n  </div>\n  <div class="delete_message">\n    <mp-dialog weui="true" wrap-class="weui-desktop-dialog_simple weui-desktop-dialog_delete-appmsg" title="扫码验证" :value="delQr" v-if="delQr" @close="delQr=false"> \n      <template>\n        <mp-qrcheck ref="qrcheck" typeid="65" cgiid="0"  :extra="delData" @donecb="delDone">\n          <div slot="wait">管理员微信号与运营者微信号可直接扫码验证<br>非管理员微信号扫码后需要管理员验证通过</div>\n          <div slot="done"></div>\n          <div slot="fail"></div>\n          <div slot="cancel">操作者已取消此操作，可以重新扫描验证，或者关闭窗口</div>\n          <div slot="timeout"></div>\n        </mp-qrcheck>\n        <div class="weui-desktop-qrcheck__extra-tips">\n          如需更多帮助，可查看<a href=\'/cgi-bin/readtemplate?t=setting/safe-operation-guide-faq_tmpl\' target=\'_blank\'>操作指引</a>\n        </div>\n      </template>\n    </mp-dialog>\n    <mp-dialog weui="true" :value="!waitAdminDialogHide" title="扫码验证">\n      <mp-msg icon="waiting" title="已发送操作申请" :content="delWord" >\n      </mp-msg>\n      <div slot="footer">\n        <mp-button @click="waitAdminDialogHide = true"  type="primary">我知道了</mp-button>\n      </div>\n    </mp-dialog>\n  </div>\n  <div class="tag_message">\n    <mp-article-tags-dialog v-if="isInitArticleTagsDialog" v-model="articleTagsDialog.isShow" :tags="articleTagsDialog.tags" :tag-type="articleTagsDialog.tagType" :only-remove="articleTagsDialog.onlyRemove" :article-abstract="articleTagsDialog.articleAbstract"   @select="submitArticleTagsDialog"></mp-article-tags-dialog>\n  </div>\n</div>'},"./src/pages/modules/publish/publish_status/publish_status.js":function(e,t,i){var Vue=i("./node_modules/vue/dist/vue.min.js"),s=(i("./src/pages/modules/publish/tpl/publish_tpl.js"),i("./src/pages/modules/publish/tpl/publish_tpl.js")),n=s.mixin,a=s.formatTime,s=i("./src/pages/modules/publish/publish_status/publish_status.tpl"),o=(i("./src/mmbizweb-web2-common/modules/utils/cgi.js"),i("./src/pages/modules/publish/send_status/send_status.js"),i("./src/3rd/jquery/jquery.2.1.4.js"),window.$),i=(i("./src/pages/modules/publish/publish_status/publish_status.less"),{template:s,components:{},provide:function(){return{is_send_all:this.item.sent_info&&this.item.sent_info.is_send_all}},mixins:[n],props:{item:{type:Object},keyword:{default:""}},filters:{formatDuration:function(e){return a(e)}},watch:{item:function(e){var t=this;Vue.nextTick(function(){1===e.type&&t.$refs.txtFlag&&26<o(t.$refs.txtFlag).height()?t.expandShow=!0:t.expandShow=!1})}},methods:{expandTxt:function(){!0===this.hideTxt?this.hideTxt=!1:this.hideTxt=!0}},data:function(){return{expandShow:!1,hideTxt:!0}},mounted:function(){var e=this.$refs.txtFlag?getComputedStyle(this.$refs.txtFlag):void 0;e&&(e=Number(e.height.slice(0,e.height.length-2)),this.$refs.txtFlag&&25<e&&(this.expandShow=!0))}});Vue.component("mp-item",i)},"./src/pages/modules/publish/publish_status/publish_status.less":function(e,t,i){},"./src/pages/modules/publish/publish_status/publish_status.tpl":function(e,t){e.exports='<template>\n<div class="weui-desktop-mass__content">\n  <template v-if="item.publish_info">\n      <template v-for="(info,i) in item.appmsg_info">\n        <div class="publish_hover_content">\n          <template v-if="(info.share_type==5||info.share_type==1)">\n            <template v-if="i===0">\n              <mp-send-status :item="item"></mp-send-status>\n            </template>\n            <template v-else>\n              <div class="weui-desktop-mass__overview"></div>\n            </template>             \n            <appmsg-video-item :info="info" :i="i"  :idx="info.itemidx" :item="item" :keyword="keyword" :can-use-public-tag="canUsePublicTag" :realname-type="realnameType"></appmsg-video-item>\n          </template>\n\n          \x3c!-- 音频分享页 --\x3e\n          <template v-else-if="info.share_type==7">\n            <template v-if="i===0">\n              <mp-send-status :item="item"></mp-send-status>\n            </template>\n            <template v-else>\n              <div class="weui-desktop-mass__overview"></div>\n            </template>   \n            <appmsg-audio-item :info="info" :i="i" :idx="info.itemidx" :item="item" :keyword="keyword" :can-use-public-tag="canUsePublicTag" :realname-type="realnameType"></appmsg-audio-item>\n          </template>\n\n          \x3c!-- 图片分享页 --\x3e\n          <template v-else-if="info.share_type==8">\n            <template v-if="i===0">\n              <mp-send-status :item="item"></mp-send-status>\n            </template>\n            <template v-else>\n              <div class="weui-desktop-mass__overview"></div>\n            </template>     \n            <appmsg-img-item :info="info" :i="i" :idx="info.itemidx" :item="item" :keyword="keyword"></appmsg-img-item>\n          </template>\n\n          \x3c!-- 文字分享页 --\x3e\n          <template v-else-if="info.share_type == 10">\n            <template v-if="i===0">\n              <mp-send-status :item="item"></mp-send-status>\n            </template>\n            <template v-else>\n              <div class="weui-desktop-mass__overview"></div>\n            </template>           \n            <appmsg-text-item :info="info" :i="i" :idx="info.itemidx" :item="item" :keyword="keyword" :can-use-public-tag="canUsePublicTag" :realname-type="realnameType"></appmsg-text-item>\n          </template>\n\n          <template v-else-if="info.share_type==0">\n            <template v-if="i===0">\n              <mp-send-status :item="item"></mp-send-status>\n            </template>\n            <template v-else>\n              <div class="weui-desktop-mass__overview"></div>\n            </template>  \n            <appmsg-item :info="info" :i="i" :idx="info.itemidx" :item="item" :keyword="keyword" :can-use-public-tag="canUsePublicTag" :realname-type="realnameType"></appmsg-item>\n          </template>\n        </div>\n    </template>\n  </template>\n<template v-else-if="item.type==9||item.type==10||item.type==11||item.type==10001">\n    <template v-for="(info,i) in item.appmsg_info">\n        \x3c!-- share_type新定义\n        0正常图文\n        5视频分享页 1历史\n        6音乐 现在没有\n        7音频\n        8图片\n        10文字 现在没有 --\x3e\n        \x3c!-- 视频分享页 --\x3e\n        <div class="publish_hover_content">\n          <template v-if="(info.share_type==5||info.share_type==1)">\n            <template v-if="i===0">\n              <mp-send-status :item="item"></mp-send-status>\n            </template>\n            <template v-else>\n              <div class="weui-desktop-mass__overview"></div>\n            </template>             \n            <appmsg-video-item :info="info" :i="i"  :idx="info.itemidx" :item="item" :keyword="keyword" :can-use-public-tag="canUsePublicTag" :realname-type="realnameType"></appmsg-video-item>\n          </template>\n\n          \x3c!-- 音频分享页 --\x3e\n          <template v-else-if="info.share_type==7">\n            <template v-if="i===0">\n              <mp-send-status :item="item"></mp-send-status>\n            </template>\n            <template v-else>\n              <div class="weui-desktop-mass__overview"></div>\n            </template>   \n            <appmsg-audio-item :info="info" :i="i" :idx="info.itemidx" :item="item" :keyword="keyword" :can-use-public-tag="canUsePublicTag" :realname-type="realnameType"></appmsg-audio-item>\n          </template>\n\n          \x3c!-- 图片分享页 --\x3e\n          <template v-else-if="info.share_type==8">\n            <template v-if="i===0">\n              <mp-send-status :item="item"></mp-send-status>\n            </template>\n            <template v-else>\n              <div class="weui-desktop-mass__overview"></div>\n            </template>     \n            <appmsg-img-item :info="info" :i="i" :idx="info.itemidx" :item="item" :keyword="keyword"></appmsg-img-item>\n          </template>\n\n          \x3c!-- 文字分享页 --\x3e\n          <template v-else-if="info.share_type == 10">\n            <template v-if="i===0">\n              <mp-send-status :item="item"></mp-send-status>\n            </template>\n            <template v-else>\n              <div class="weui-desktop-mass__overview"></div>\n            </template>           \n            <appmsg-text-item :info="info" :i="i" :idx="info.itemidx" :item="item" :keyword="keyword"></appmsg-text-item>\n          </template>\n\n          \x3c!-- 图文 --\x3e\n          <template v-else-if="info.share_type==0">\n            <template v-if="i===0">\n              <mp-send-status :item="item"></mp-send-status>\n            </template>\n            <template v-else>\n              <div class="weui-desktop-mass__overview"></div>\n            </template> \n            <appmsg-item :info="info" :i="i" :idx="info.itemidx" :item="item" :keyword="keyword" :can-use-public-tag="canUsePublicTag" :realname-type="realnameType"></appmsg-item>\n          </template>\n\n          \x3c!-- 群发直播 --\x3e\n          <template v-else-if="info.share_type==19">\n            <template v-if="i===0">\n              <mp-send-status :item="item"></mp-send-status>\n            </template>\n            <template v-else>\n              <div class="weui-desktop-mass__overview"></div>\n            </template> \n            <appmsg-live-item :info="info" :i="i" :idx="info.itemidx" :item="item" :keyword="keyword" :can-use-public-tag="canUsePublicTag" :realname-type="realnameType"></appmsg-live-item>\n          </template>\n        </div>\n    </template>\n</template>\n\x3c!-- 视频 api视频 --\x3e\n<template v-else-if="item.type==16">\n  <div class="publish_hover_content">\n    <mp-send-status :item="item"></mp-send-status>\n    <appmsg-video-item :info="item.video_info" :i="i" :item="item" :keyword="keyword" :can-use-public-tag="canUsePublicTag" :realname-type="realnameType"></appmsg-video-item>\n  </div>\n</template>\n\x3c!-- 架构部视频 --\x3e\n<template v-else-if="item.type==4">\n  <div class="publish_hover_content">\n    <mp-send-status :item="item"></mp-send-status>\n    <appmsg-video-item :info="item.video_info" :i="i" :item="item" :keyword="keyword" :can-use-public-tag="canUsePublicTag" :realname-type="realnameType"></appmsg-video-item>\n  </div>\n</template>\n\x3c!-- 音频 --\x3e\n<template v-else-if="item.type==3">\n  <div class="publish_hover_content">\n    <mp-send-status :item="item"></mp-send-status>\n    <appmsg-audio-item :info="item.audio_info" :i="i" :item="item" :keyword="keyword" :can-use-public-tag="canUsePublicTag" :realname-type="realnameType"></appmsg-audio-item>\n  </div>\n</template>\n\x3c!-- 图片 --\x3e\n<template v-else-if="item.type==2">\n  <div class="publish_hover_content">\n    <mp-send-status :item="item"></mp-send-status>\n    <appmsg-img-item :info="item.image_info" :i="i" :item="item" :keyword="keyword" :can-use-public-tag="canUsePublicTag" :realname-type="realnameType"></appmsg-img-item>\n  </div>\n</template>\n\x3c!-- 文字 --\x3e\n<template v-else-if="item.type==1">\n  <div class="publish_hover_content">\n    <mp-send-status :item="item"></mp-send-status>\n    <div class="weui-desktop-mass-media weui-desktop-mass-text weui-desktop-text" :class="{\'weui-desktop-mass-media_del\': item.sent_result.msg_status==7 }">\n      <div class="weui-desktop-mass-text__inner">\n        <a ref="txtExpand" href="javascript:;" @click="expandTxt" class="weui-desktop-mass-text__switch js_expand_bt" v-show="expandShow">{{hideTxt?"展开":"收起"}}</a>\n        <div class="weui-desktop-mass-text__bd js_text_el" :class="{\'ellipsis-text\':hideTxt}" ref="txt" v-html="item.text_info.content">\n        </div>\n        <div class="weui-desktop-mass-text__bd hide-text js_text_flag" ref="txtFlag"  v-html="item.text_info.content">\n        </div>\n      </div> \n      <more-item :i="0" :item="item" :info="item.appmsg_info"  :is-old-text="true"\n      :show-delete="true">\n     \n      </more-item>\n      <span v-if="!item.timerSendInfo&&(item.sent_result.msg_status==2||item.sent_result.msg_status==5)" class="weui-desktop-mass-media__opr js_del" >\n        \x3c!-- <more-item :i="i" :idx="idx" :item="item" :is-appmsg="false" :info="info" \n            v-if="item.copy_type === undefined || item.copy_type !== 11"\n            :show-delete="!item.timerSendInfo"\n            :show-tags="(item.view.status === \'发布成功\' || item.view.status === \'已群发\' || item.view.status === \'已发布\')">\n        </more-item> --\x3e\n      </span>\n    </div>\n  </div>\n</template> \n\x3c!-- 卡券 --\x3e\n<template v-else-if="item.type==17">\n    \x3c!--<template v-if="item.view&&item.view.card">\n      <div class="publish_hover_content">\n        <mp-send-status :item="item"></mp-send-status>\n        <div class="weui-desktop-mass-media weui-desktop-mass-cardticket" :class="{\'weui-desktop-mass-media_del\':item.sent_result.msg_status==7,\'timer_send_appmsg_item\':!!item.timerSendInfo}">\n          <div class="weui-desktop-mass-cardticket__inner">\n              <a class="weui-desktop-mass-cardticket__logo__wrp weui-desktop-vm_default" :href="\'/merchant/electroniccardmgr?action=detail&t=cardticket/detail&cardid=\'+item.view.card.id+\'&lang=<%@GetLanguage()%>&token=$base_resp.token.DATA$\'"  target="_blank">\n                  <i class="weui-desktop-mass-cardticket__logo" :style="{backgroundImage: \'url(\' + item.view.card.logo_url + \')\'}"></i>\n              </a>\n              <div class="weui-desktop-mass-cardticket__info weui-desktop-vm_primary">\n                  <strong class="weui-desktop-mass-cardticket__title">{{item.view.card.title}}</strong>\n                  <div class="weui-desktop-mass-cardticket__desc">{{item.view.card.brand_name}}</div>\n              </div>\n          </div>\n            {* <span v-if="!item.timerSendInfo&&(item.sent_result.msg_status==2||item.sent_result.msg_status==5)" class="weui-desktop-mass-media__opr js_del" >\n              <del-item :i="0" :item="item" :is-appmsg="false" :info="info"></del-item>\n              <more-item></more-item>\n            </span> *}\n          <div class="weui-desktop-mass-appmsg__ft">\n            <more-item :i="0" :item="item" :is-appmsg="false" :info="info"\n            :show-delete="!item.timerSendInfo&&(item.sent_result.msg_status==2||item.sent_result.msg_status==5)">\n            </more-item>\n          </div>\n        </div>\n      </div>\n    </template> --\x3e\n    <template v-if="item.view&&item.view.card">\n      <div class="publish_hover_content">\n        <mp-send-status :item="item"></mp-send-status>\n        <div class="weui-desktop-mass-media weui-desktop-mass-cardticket weui-desktop-mass-appmsg" :class="{\'weui-desktop-mass-media_del\':item.sent_result.msg_status==7,\'timer_send_appmsg_item\':!!item.timerSendInfo}">\n          <div class="weui-desktop-mass-appmsg__hd">\n                <a class="weui-desktop-mass-cardticket__logo__wrp weui-desktop-vm_default" :href="\'/merchant/electroniccardmgr?action=detail&t=cardticket/detail&cardid=\'+item.view.card.id+\'&lang=<%@GetLanguage()%>&token=$base_resp.token.DATA$\'"  target="_blank">\n                    <i class="weui-desktop-mass-cardticket__logo" :style="{backgroundImage: \'url(\' + item.view.card.logo_url + \')\'}"></i>\n                </a>\n          </div>\n          <div class="weui-desktop-mass-appmsg__bd">\n                <div class="weui-desktop-mass-cardticket__info weui-desktop-vm_primary">\n                    <strong class="weui-desktop-mass-cardticket__title">{{item.view.card.title}}</strong>\n                    <div class="weui-desktop-mass-cardticket__desc">{{item.view.card.brand_name}}</div>\n                </div>\n          </div>\n            \x3c!--<span v-if="!item.timerSendInfo&&(item.sent_result.msg_status==2||item.sent_result.msg_status==5)" class="weui-desktop-mass-media__opr js_del" >\n              <del-item :i="0" :item="item" :is-appmsg="false" :info="info"></del-item>\n              <more-item></more-item>\n            </span>--\x3e\n          <div class="weui-desktop-mass-appmsg__ft">\n              <div class="weui-desktop-mass-media__opr">\n                <more-item :i="0" :item="item" :is-appmsg="false" :info="item.card_info"\n                :show-delete="!item.timerSendInfo&&(item.sent_result.msg_status==2||item.sent_result.msg_status==5)">\n                </more-item>\n              </div>\n          </div>\n        </div>\n      </div>\n    </template>\n</template>\n</div>\n</template>'},"./src/pages/modules/publish/send_status/send_status.js":function(e,t,i){var Vue=i("./node_modules/vue/dist/vue.min.js"),s=i("./src/pages/modules/publish/send_status/send_status.tpl"),n=i("./src/mmbizweb-web2-common/modules/utils/cgi.js"),a=i("./src/pages/modules/message/messageCgi.js");i("./src/pages/modules/publish/send_status/send_status.less");Vue.component("mp-send-status",{template:s,props:{item:Object},data:function(){var e,t,i,s,n=[],a=this.item&&this.item.publish_info&&this.item.publish_info.replace_scene_info,o=window.wx&&window.wx.commonData&&window.wx.commonData.data?window.wx.commonData.data.serviceType:1;return a&&(a.all_result||(a=a.replace_infos,n=this.formatReplaceInfo(a))),this.item.appmsg_info&&this.item.appmsg_info.length&&(s=i=t=0,this.item.appmsg_info.forEach(function(e){5===e.share_type&&e.is_set_sync_to_finder&&(t++,1===e.sync_to_finder_status?i++:3===e.sync_to_finder_status&&s++)}),t&&(e=(e=i?"视频号动态发表中":t===s?"视频号动态发表成功，可前往 %p视频号助手%p 查看":0===s?"视频号动态发表失败，可前往 %p视频号助手%p 重新发表":"部分视频号动态发表成功，可前往 %p视频号助手%p 查看").replace("%p",'<a href="https://channels.weixin.qq.com/" target="_blank">').replace("%p","</a>"))),{dialogShow:!1,replaceFailNumber:this.item.view.replaceFailNumber||0,columns:[{title:"使用位置",width:300,dataIndex:"name"},{title:"",dataIndex:"replaceStatus"}],dataSource:n,numberMap:["一","二","三","四","五","六","七","八"],serviceType:o,videoSyncFinderStatus:e}},computed:{notShowDropdown:function(){var e=this.item.appmsg_info;return 4===this.item.view.sourceType&&e.every(function(e){return e.is_cooling_article})},notShowDesc:function(){return this.item.isCoolingItem&&"此内容因违规无法查看"===this.item.view.msg}},methods:{handleClick:function(e,t,i,s){},formatReplaceInfo:function(e){return e.map(function(e){var t;return 1===e.scene_type?{key:"key_reply",name:"关键词回复: ".concat(e.rule_indexs.name),scene_type:1,replaceStatus:e.result}:(t=e.menu_indexs.name,t="自定义菜单: ".concat(t),e.menu_indexs.sub_index&&(t=t+"--"+e.menu_indexs.sub_index.name),{key:e.menu_indexs.index,name:t,scene_type:2,replaceStatus:e.result})})},replaceMsgHandler:function(){var t=this;n.post({url:"/advanced/replacescene",data:{appmsgid:this.item.msgid},success:function(e){0===(e.base_resp&&e.base_resp.ret)&&e.all_result?(t.dataSource.forEach(function(e){e.replaceStatus=!0}),t.replaceFailNumber=0,t.item.view.status="已发布"):(t.dataSource=t.formatReplaceInfo(e.replace_infos),t.replaceFailNumber=e.replace_infos.filter(function(e){return!e.result}).length,t.item.view.status="".concat(t.replaceFailNumber,"处替换失败"),t.item.view.replaceFailNumber=t.replaceFailNumber),t.item.view.msg="已发布内容可被自定义菜单、自动回复、合集引用，也可用于公开传播"},error:function(){t.$tipsErr("替换失败")}})},cancelHandler:function(){this.dialogShow=!1},openReplaceDiaolog:function(){this.dialogShow=!0},confirmMsg:function(e){this.confirmPublish(e)},confirmPublish:function(e){var t=this;10001===e.type?n.post({url:"/cgi-bin/appmsgalbummgr?action=confirm_send",data:{id:e.album_result.album_id,appmsgid:e.msgid,itemidx:e.index},success:function(e){0===(e.base_resp&&e.base_resp.ret)?(t.$tipsSuc("发布成功"),t.originPageChange({currentPage:t.currentPage})):t.$tipsErr("发布失败")},error:function(){t.$tipsErr("发布失败")}}):(this.$tipsSuc("正在补发"),a.masssend({msgid:e.msgid,sync_version:1},function(){t.originPageChange({currentPage:t.currentPage})}))}}})},"./src/pages/modules/publish/send_status/send_status.less":function(e,t,i){},"./src/pages/modules/publish/send_status/send_status.tpl":function(e,t){e.exports='<template>\n<div class="weui-desktop-mass__overview">\n        <em class="weui-desktop-mass__time">{{item.view.time}}</em>\n        <div class="weui-desktop-popover__wrp">\n          <span class="weui-desktop-mass__status js_status">\n            <template v-if=\'notShowDropdown\'>\n              <span class="js_status_txt">{{item.view.status}}</span>\n            </template>\n            <template v-else>\n              <span class="js_status_txt weui-desktop-dropdown-helper">{{item.view.status}}</span>\n              <div class="weui-desktop-popover_mass-status weui-desktop-popover_pos-up-left weui-desktop-popover">\n                  <div class="weui-desktop-popover__inner publish-popover__inner">\n                      \x3c!-- 话题发布浮层结构 --\x3e\n                      <div class="sended_status_context">\n                        <template>\n                          \x3c!-- 群发 --\x3e\n                          <template v-if="item.view.sourceType == 1">\n                            <p v-if="!notShowDesc && (item.sent_result.msg_status==11||item.sent_result.msg_status==12||item.sent_result.msg_status==13)" class="sended_status_desc">{{item.view.msg}}</p>\n                            <p v-else-if="item.view.status==\'审核中\'" class="sended_status_desc">\n                              <template v-if="item.view.smart_product==1&&!item.view.isApi">\n                                正在排队等候系统发送，由于文章包含个性化推荐商品，将分批在各点击率高峰时段发表，请耐心等待\n                              </template>\n                              <template v-else-if="item.view.isFromApp && item.sent_result.msg_fail_reason">\n                                <span>{{item.sent_result.msg_fail_reason}}</span>\n                              </template>\n                              <template v-else-if="item.view.reviewOverTime">\n                                因业务繁忙，审核时间预计超过30分钟，审核通过后将开始群发\n                                </template>\n                              <template v-else>\n                                审核中，预计需要10-20分钟，审核通过后将开始群发\n                              </template>\n                            </p>\n                            <template v-else-if="item.view.status==\'发表中\'">\n                              <p v-if="item.view.isFromApp" class="sended_status_desc">正在排队等候系统发表，可能需要10-20分钟</p>\n                              <p v-else class="sended_status_desc">内容正在发表中，已送达{{item.sent_status.succ||0}}人</p>\n                            </template>\n                            <template v-else-if="item.view.status==\'已群发\'">\n                              <p class="sended_status_desc">\n                                发送成功{{item.sent_status.succ||0}}人，\n                                发送失败{{item.sent_status.fail||0}}人<template v-if="serviceType === 2">，{{item.sent_status.userprotect}}人因本月接收消息数达上限未收到此消息</template>\n                              </p>\n                            </template>\n                            <template v-else-if="item.view.status===\'发表失败\'">\n                                <template v-if="!!item.sent_result.msg_fail_reason">\n                                    <p  class="split_item">\n                                      <label  class="simple_preview_label">发送成功</label><span>{{item.sent_status.succ||0}}人</span>\n                                    </p>\n                                    <p class="split_item">\n                                      <label class="simple_preview_label">发送失败</label><span>{{item.sent_status.fail||0}}人</span><template v-if="serviceType === 2">，{{item.sent_status.userprotect}}人因本月接收消息数达上限未收到此消息</template>\n                                    </p>\n                                    <p v-if="item.view.isFromApp" class="split_item">\n                                      <label class="simple_preview_label">失败原因</label>\n                                      <span>{{item.sent_result.msg_fail_reason}}</span>\n                                    </p>\n                                    <p v-else class="split_item">\n                                      <label class="simple_preview_label">失败原因</label>\n                                      <span>\n                                        {{item.sent_result.msg_fail_reason}}\n                                        ，请前往<a href=\'/cgi-bin/appmsg?begin=0&count=10&action=list_video&type=15\' target=\'_blank\'>素材库</a>查看详情。\n                                      </span>\n                                    </p>\n                                </template>\n                                <template v-else>\n                                  <p v-if="item.send_fail_reason==1">与原创库中的文章相似。</p>\n                                  <template v-else-if="item.view.sourceType==1">\n                                    <p class="split_item">\n                                      <label  class="simple_preview_label">发送成功</label><span>{{item.sent_status.succ || 0}}人</span>\n                                    </p>\n                                    <p class="split_item"><label class="simple_preview_label">发送失败</label><span>{{item.sent_status.fail || 0}}人</span></p>\n                                    <p class="weui-desktop-tips">失败原因可查询<a target="_blank" href="http://kf.qq.com/faq/120911VrYVrA131025QniAfu.html">群发消息规则说明</a></p>\n                                  </template>\n                                </template>\n                            </template>\n                            <p v-else-if="item.view.status==\'审核失败\'" class="split_item">\n                              <template v-if="!!item.sent_result.msg_fail_reason">\n                                  <template v-if="!item.sent_status.fail">\n                                    <p class="split_item">\n                                        <label class="simple_preview_label">发送成功</label><span>{{item.sent_status.succ||0}}人</span>\n                                    </p>\n                                    <p class="split_item">\n                                        <label class="simple_preview_label">发送失败</label><span>{{item.sent_status.fail||0}}人</span>\n                                    </p>\n                                  </template>\n                                  <p v-if="item.view.isFromApp" class="split_item">\n                                    <label class="simple_preview_label">失败原因</label>\n                                    <span>{{item.sent_result.msg_fail_reason}}</span>\n                                  </p>\n                                  <p v-else class="split_item">\n                                    <label class="simple_preview_label">失败原因</label>\n                                    <span>\n                                      <span>{{item.sent_result.msg_fail_reason}}</span>\n                                      <template v-if="!item.sent_result.msg_fail_reason.includes(\'当前直播未通过审核\')">\n                                        ，请前往<a href=\'/cgi-bin/appmsg?begin=0&count=10&action=list_video&type=15\' target=\'_blank\'>素材库</a>查看详情。\n                                      </template>\n                                    </span>\n                                  </p>\n                              </template>\n                              <template v-else>\n                                {{item.view.msg}}\n                              </template>\n                            </p>\n                            <p v-else-if="item.view.status==\'已删除\'" class="sended_status_desc">内容已被删除，你的粉丝在“查看历史消息”中将无法查看该内容</p>\n                            <template v-else-if="item.view.status==\'群发失败\'">\n                              <p v-if="item.sent_result.msg_status==8 || item.sent_result.msg_status==6" class="sended_status_desc">\n                                此内容因违规无法查看，请前往<a target=\'_blank\' href=\'/cgi-bin/appmsg?begin=0&count=10&type=77&action=list_card\'>草稿箱</a>修改后重试                                  \n                              </p>\n                              <div class="split_primary_item" v-else-if="item.sent_result.msg_status==6">\n                                <div class="sended_status_desc">此内容因违规无法查看。</div>\n                                <div v-if="item.appmsg_info.length>1" class="sended_status_desc">\n                                  <label  class="simple_preview_label">问题文章</label>\n                                  <span>\n                                    <span v-for="(title,_index) in item.sent_result.reject_titles" class="simple_preview_appmsg_title_wrp" >\n                                      <a class="simple_preview_appmsg_title" :title="title" href="javascript:void(0);">{{title}}</a>\n                                    </span>\n                                  </span>\n                                </div>\n                              </div>\n                              <p v-else class="sended_status_desc" v-html="item.view.msg"></p>\n                            </template>\n                            <p v-else-if="item.sent_result.msg_status === 302 && item.view.isFromApp">审核中，预计耗时1小时内</p>\n                          </template>\n                          \x3c!-- 话题 --\x3e\n                          <template v-else-if="item.view.sourceType == 2">\n                            <template v-if="item.view.status==\'发布失败\' && !item.view.removed">\n                              <p class="sended_status_desc" v-html="item.view.msg"></p>\n                            </template>\n                            <p v-else-if="item.view.status==\'已删除\'" class="sended_status_desc">内容已被删除，你的粉丝无法查看该文章</p>\n                          </template>\n                          \x3c!-- 视频发布 --\x3e\n                          <template v-else-if="item.view.sourceType == 3">\n                            <template v-if="item.view.status==\'发送失败\' && item.view.msg">\n                              <p class="sended_status_desc" v-html="item.view.msg"></p>\n                            </template>\n                            <template v-else-if="item.view.status==\'审核失败\'">\n                              <p class="sended_status_desc">\n                                视频审核失败，请前往<a target=\'_blank\' href=\'/cgi-bin/appmsg?begin=0&count=10&action=list_video&type=15\'>素材库</a>查看详情\n                              </p>\n                            </template>\n                            <template v-else-if="item.view.status==\'无法查看\'">\n                              \x3c!-- <p class="sended_status_desc" v-html=""></p> --\x3e\n                            </template>\n                            <template v-else-if="item.view.status==\'发布失败\' || item.view.status==\'群发失败\'">\n                              <p class="sended_status_desc" v-html="item.view.msg"></p>\n                            </template>\n                            <p v-else-if="item.view.status==\'已删除\'" class="sended_status_desc">内容已被删除，用户无法查看该内容</p>\n                            <p v-else class="sended_status_desc" v-html="item.view.msg"></p>                       \n                          </template>\n                          \x3c!-- 自由发布 --\x3e\n                          <template v-else-if="item.view.sourceType == 4">\n                            <div class="free_publish">\n                              <template v-if="!!item.view.msg">\n                                <template v-if="item.view.msg instanceof Array">\n                                    <template v-for="(itemMsg, index) in item.view.msg">\n                                      <div class="publish_fail">\n                                        <div class="publish_fail_first">\n                                          <div class="publish_failed_content">失败内容{{numberMap[index]}}</div>\n                                          <div class="publish_failed_title">{{itemMsg.article_title}}</div>\n                                        </div>\n                                        <div class="publish_fail_first">\n                                          <div class="publish_failed_content">失败原因</div>\n                                          <div class="publish_failed_reason" v-html="itemMsg.reason"></div>\n                                        </div>\n                                      </div>\n                                    </template>\n                                  <div class="publish_total_plan">\n                                    <div class="publish_plan">发表计划</div>\n                                    <div class="publish_fail_first">\n                                      <div class="publish_failed_content">发表到</div>\n                                      <div class="publish_failed_title">自由发布</div>\n                                    </div>\n                                  </div>\n                                </template>\n                                <template v-else-if="item.publish_info.publish_status === 103 || item.publish_info.publish_status === 400">\n                                  <p class="sended_status_desc">\n                                    此内容发布失败，请前往<a target=\'_blank\' href=\'/cgi-bin/appmsg?begin=0&count=10&type=77&action=list_card\'>草稿箱</a>修改后重试\n                                  </p>\n                                </template>\n                                <template v-else-if="item.publish_info.publish_status === 104">\n                                  <p class="sended_status_desc">\n                                    此内容因违规无法查看，请前往<a target=\'_blank\' href=\'/cgi-bin/appmsg?begin=0&count=10&type=77&action=list_card\'>草稿箱</a>修改后重试                                  \n                                  </p>\n                                </template>\n                                <template v-else>\n                                  <span v-if="replaceFailNumber"> \n                                    已发布, 但指定的替换位置有{{replaceFailNumber}} 处替换失败\n                                    <a class="replace_detail" @click="openReplaceDiaolog">查看详情</a>\n                                  </span>\n                                  <p v-else-if="item.view.reviewOverTime" class="sended_status_desc">\n                                    因业务繁忙，审核时间预计超过30分钟\n                                  </p>\n                                  <p v-else class="sended_status_desc">\n                                    {{item.view.msg}}\n                                  </p>\n                                </template>\n                              </template>\n                            </div>\n                          </template>                      \n                        </template>\n\n                        <div class="sended_status_group" :class="{sended_status_group_upper: notShowDesc}" v-if="item.view.sourceType !== 4">\n                          <template v-if="item.view.status === \'视频审核中\'">\n                            <p class="split_item">\n                              <span>预计耗时一小时</span>\n                            </p>\n                          </template>\n                          <template v-if="item.view.sourceType==1">\n                            <template v-if="item.view.isCard">\n                              <p v-if="item.sent_info.card_tag.type == 1" class="sended_status_content"><span class="sended_status_label">群发人群</span><span class="sended_status_value">全部会员</span></p>\n                              <p v-if="item.sent_info.card_tag.type == 0" class="sended_status_content"> <span class="sended_status_label">卡券会员标签</span><span class="sended_status_value">{{item.sent_info.card_tag.name}}</span></p>\n                            </template>\n                            <template v-else>\n                              <p v-if="item.sent_info.is_send_all" class="sended_status_content"><span class="sended_status_label">群发对象</span><span class="sended_status_value">全部用户</span></p>\n                              <template v-else>\n                                <p v-if="item.sent_info.group_name" class="sended_status_content"> <span class="sended_status_label">群发人群</span><span class="sended_status_value">{{item.sent_info.group_name}}</span></p>\n                                <p v-if="item.sent_info.sex==0" class="sended_status_content"><span class="sended_status_label">性别</span><span class="sended_status_value">男</span></p>\n                                <p v-if="item.sent_info.sex==1" class="sended_status_content"><span class="sended_status_label">性别</span><span class="sended_status_value">女</span></p>\n                                <p v-if="item.sent_info.country" class="sended_status_content"><span class="sended_status_label">地区</span><span class="sended_status_value">{{item.sent_info.country}} {{item.sent_info.province}} {{item.sent_info.city}}</span></p>\n                              </template>\n                            </template>\n                          </template>\n                        </div>\n                        <div class="sended_status_group" v-if="videoSyncFinderStatus">\n                          <p class="sended_status_content" style="display: block;" v-html="videoSyncFinderStatus"></p>\n                        </div>\n                        <template v-if="item.view.status==\'待确认\'">\n                          <p class="sended_status_desc" v-html="item.view.msg"></p>\n                          <div class="sended_status_opr">\n                            <mp-button type="primary" @click="confirmMsg(item)">{{item.view.confirmWording}}</mp-button>\n                          </div>\n                        </template>\n                        <div class="sended_status_extra" v-if="item.view.removed">\n                          <p class="weui-desktop-tips" v-if="item.view.updateTime">{{item.view.updateTime}}</p>\n                          <p v-html="item.view.msg"></p>\n                        </div>\n                      </div>\n                  </div>\n              </div>\n            </template>\n          </span>\n        </div>\n    <mp-dialog v-model="dialogShow" @close="cancelHandler" :width=600>\n      <div class="replace_detail_container">\n        <div class="replace_detail_title">替换详情</div>\n        <mp-table :columns="columns" :data-source="dataSource"> \n          <div slot="replaceStatus" slot-scope="{data,total,index,column}">\n            <div class="replace_success replace_button" v-if="total.replaceStatus"><mp-icon class="replace_icon" icon="success" size="small"></mp-icon>替换成功</div>\n            <div class="replace_fail replace_button" v-else="total.replaceStatus"><mp-icon class="replace_icon" icon="warnning" size="small"></mp-icon>替换失败</div>\n          </div>\n        </mp-table>\n      </div>\n      <div slot="footer" class="replace_footer">\n        <mp-button type="primary" @click="cancelHandler">知道了</mp-button>\n        <mp-button v-if="replaceFailNumber" type="default"  @click="replaceMsgHandler">重试替换</mp-button>\n      </div>\n    </mp-dialog>\n</div>\n</template>'},"./src/pages/modules/qrcheck/qrcheck.js":function(e,t,i){var Vue=i("./node_modules/vue/dist/vue.min.js"),a=(i("./src/pages/modules/qrcheck/qrcheck.less"),i("./src/pages/modules/utils/cgi.js")),i=i("./src/pages/modules/qrcheck/qrcheck.tpl");Vue.component("mp-qrcheck",{template:i,props:{cgiid:{type:[String,Number],required:!0,default:1},typeid:{type:[String,Number],required:!0},appid:{type:[String,Number],required:!1},operatorname:{type:String,required:!1},operatorid:{type:[String,Number],required:!1},extra:{required:!1},size:{type:[String,Number],default:165,required:!1}},data:function(){return{base64img:"",cgiUrl:["/cgi-bin/safeqrcode","/cgi-bin/wticketsafeqrcode","/cgi-bin/wticketsafeqrcode","/cgi-bin/basesafeqrcode","/wxopen/safeqrcode","/cgi-bin/safeqrcode","/cgi-bin/basesafeqrcode","/wxopen/wasafeqrcode","/acct/slaveqrcheckoper"][this.cgiid],ticket:"",status:0,timeFlag:null,result:0}},mounted:function(){this.getTicket()},beforeDestroy:function(){this.stopPoll()},computed:{},watch:{isshow:function(e){e||this.stopPoll()}},methods:{getTicket:function(){this.stopPoll();var t=this,e={action:"getticket",typeid:this.typeid};if(this.operatorname&&this.operatorid&&(e.data=JSON.stringify({operator_name:this.operatorname,operator_id:this.operatorid})),this.extra&&(e.extra=JSON.stringify(this.extra)),6===Number(this.cgiid)){if(!this.appid)return void console.error('<mp-qrcheck> Props error: appid must be required if the cgiid === 6 ("/cgi-bin/basesafeqrcode").');e.appid=this.appid}8===Number(this.cgiid)&&(e.size=this.size,e.action="get",e.scene=15),a.post({url:t.cgiUrl,data:e},function(e){e&&e.qrcheck_ticket?(t.ticket=e.qrcheck_ticket,t.getImg(e.qrcheck_ticket)):console.error("<mp-qrcheck> Response error: json.qrcheck_ticket is not found.")},function(e){console.error("<mp-qrcheck> Post error："+JSON.stringify(e))})},getImg:function(e){var t=this.cgiUrl+"?action=getqrcode&qrcheck_ticket="+e+"&size="+this.size+(window.wx.commonData.data.t?"&token="+window.wx.commonData.data.t:"");6===this.cgiid&&(t=t+"&appid="+this.appid),this.base64img=t,this.pollStatus(e)},stopPoll:function(){clearTimeout(this.timeFlag)},pollStatus:function(s){var n=this;!function t(e){var i=n,e={action:"ask",qrcheck_ticket:e};6===i.cgiid&&(e.appid=i.appid),a.get({url:n.cgiUrl,data:e},function(e){if(e&&String(e.status))switch(i.status=e.status,e.status){case 0:clearTimeout(n.timeFlag),n.timeFlag=setTimeout(function(){t(i.ticket)},1e3);break;case 1:clearTimeout(n.timeFlag),i.$emit("donecb",e.status,{resp:e,ticket:s});break;case 2:clearTimeout(n.timeFlag),0===Number(e.result)?(i.result=0,i.$emit("cancelcb",e.status)):(i.result=e.result,i.$emit("failcb",e.status,{result:e.result,self_check_err_code:e.self_check_err_code,self_check_err_msg:e.self_check_err_msg}));break;case 3:clearTimeout(n.timeFlag),i.$emit("timeoutcb",e.status);break;case 4:clearTimeout(n.timeFlag),n.timeFlag=setTimeout(function(){t(i.ticket)},1e3),i.$emit("succcb",e.status)}return t})}(s)}}})},"./src/pages/modules/qrcheck/qrcheck.less":function(e,t,i){},"./src/pages/modules/qrcheck/qrcheck.tpl":function(e,t){e.exports='\x3c!--\nstatus\n0 初始\n4 已扫码\n2 扫码失败\n1 确认成功\n3 二维码过期\n--\x3e\n<div class="weui-desktop-qrcheck">\n    \x3c!-- <div class="weui-desktop-qrcheck__tips-area" v-if="tips">顶部常驻提示\n        <slot name="tips"></slot>\n    </div> --\x3e\n    <div class="weui-desktop-qrcheck__qrcode-area">\n        <div class="js_qr_loading weui-desktop-qrcheck__loading-area weui-desktop-qrcheck__mask" v-if="!base64img"> \x3c!--二维码出现前的转菊花，v-if必须保留在跟元素上--\x3e\n            <i class="weui-desktop-qrcheck__loading-icon icon_loading_small white"></i>\n        </div>\n        <div class="js_qr_img weui-desktop-qrcheck__img-area">\n            <img class="weui-desktop-qrcheck__img" :src="base64img" alt=""> \x3c!--二维码图片，:src必须保留--\x3e\n        </div>\n        <template v-if="status!=0">\n        <div class="weui-desktop-qrcheck__msg-area-primary weui-desktop-qrcheck__mask">\n            <div class="weui-desktop-qrcheck__msg">\n                <slot name="succ-primary" v-if="status==4">\n                    <i class="icon_msg phone"></i>\n                    <p>扫描成功<br/>在手机上进行确认</p>\n                    <a href="javascript:;" @click="getTicket">重新扫描</a>\n                </slot>\n                <slot name="cancel-primary" v-if="status==2 && result == 0">\n                    <i class="icon_msg_small warn"></i>\n                    <p>扫码取消</p>\n                </slot>\n                <slot name="fail-primary" v-if="status==2 && result != 0">\n                    <i class="icon_msg_small warn"></i>\n                    <p>扫码失败，请<a href="javascript:" @click="getTicket">刷新</a>重试</p>\n                </slot>\n                <slot name="done-primary" v-if="status==1">\n                    <i class="icon_msg_small success"></i>\n                </slot>\n                <slot name="timeout-primary" v-if="status==3">\n                    <p>二维码已过期，请<a href="javascript:" @click="getTicket">刷新</a>重试</p>\n                </slot>\n            </div>\n        </div>\n        </template>\n    </div>\n    <div class="weui-desktop-qrcheck__msg-area">\n        <div class="weui-desktop-qrcheck__msg">\n            <slot name="wait" v-if="status==0">\n                <p class="weui-desktop-qrcheck__msg__title">请使用微信扫码</p>\n            </slot>\n            <slot name="done" v-if="status==1">\n                <p class="weui-desktop-qrcheck__msg__title">已确认成功</p>\n            </slot>\n            <slot name="cancel" v-if="status==2 && result == 0">\n                <p class="weui-desktop-qrcheck__msg__title">你已取消此次操作</p>\n            </slot>\n             <slot name="fail" v-if="status==2 && result != 0">\n                <p class="weui-desktop-qrcheck__msg__title">扫码失败</p>\n            </slot>\n            <slot name="timeout" v-if="status==3">\n                <p class="weui-desktop-qrcheck__msg__title">二维码已过期</p>\n                <p>请<a href="javascript:" @click="getTicket">刷新</a>重试</p>\n            </slot>\n        </div>\n    </div>\n</div>\n\n'},"./src/pages/questions/modules/utils.js":function(e,t){e.exports.replaceHtml=function(e,t){for(var i=t?["&","&amp;","¥","&yen;","<","&lt;",">","&gt;"," ","&nbsp;",'"',"&quot;","'","&#39;","`","&#96;"]:["&#96;","`","&#39;","'","&quot;",'"',"&nbsp;"," ","&gt;",">","&lt;","<","&yen;","¥","&amp;","&"],s=0;s<i.length;s+=2)e=e.replace(new RegExp(i[s],"g"),i[s+1]);return e},e.exports.getUrlParam=function(e,t){t=t||location.search,e=new RegExp("(^|&)"+e+"=([^&]*)(&|$)"),t=t.substr(t.indexOf("?")+1).match(e);return null!==t?t[2]:""}}}]);