(window.webpackJsonp=window.webpackJsonp||[]).push([["pages/modules~advanced/menusetting4Web1~album/edit/edit~complain/public_complain_laundering/public_complai~modules"],{"./src/pages/modules/publish/publish_common/xss_filter.js":function(e,t,i){var s=i("./src/pages/modules/utils/string.js");function n(e){var t;return t=e,e=/<em class=\"highlight\">/g.test(t)?t.replace(/<em class=\"highlight\">/g,"{{s{em}}}").replace(/<\/em>/g,"{{e{em}}}"):/<em>/g.test(t)?t.replace(/<em>/g,"__s{em}__").replace(/<\/em>/g,"__e{em}__"):t,e=s.htmlEncode(e,!0),t=e,e=/{{s{em}}}/g.test(t)?t.replace(/{{s{em}}}/g,'<em class="highlight">').replace(/{{e{em}}}/g,"</em>"):/__s{em}__/g.test(t)?t.replace(/__s{em}__/g,"<em>").replace(/__e{em}__/g,"</em>"):t}e.exports={resloveContentXss:function(e,t){if(!0!==Array.isArray(t))return!1;var i=null;if("string"==typeof e)try{i=JSON.parse(e)}catch(e){}else i=e;try{t.forEach(function(t){!0===Array.isArray(i)?i.forEach(function(e){void 0!==e[t]&&(e[t]=n(e[t]),e.isXssEncoded=!0)}):void 0!==i[t]&&(i[t]=n(i[t]),i.isXssEncoded=!0)})}catch(e){}return i}}},"./src/pages/modules/publish/publish_dialog/publish_dialog.js":function(e,n,t){var Vue=t("./node_modules/vue/dist/vue.min.js"),i=t("./src/pages/modules/publish/publish_dialog/publish_dialog.tpl"),p=t("./src/mmbizweb-web2-common/modules/utils/cgi.js"),l=t("./src/pages/modules/cardticket/parse_data.js"),m=t("./src/pages/modules/publish/publish_common/xss_filter.js").resloveContentXss,s=t("./src/3rd/editor/common/monitor.js");t("./src/pages/modules/media2/appmsg/appmsg_publish_card.js"),t("./src/pages/modules/publish/publish_list_view/publish_list_view.js"),t("./src/pages/modules/publish/publish_dialog/publish_dialog.less");var r=t("./src/pages/modules/publish/tpl/publish_tpl.js").getStatus;Vue.component("mp-publish-dialog",{template:i,model:{prop:"value",event:"input"},props:{value:{type:Boolean,default:!1},dataView:{type:String,default:"list"},isFromSelectMsg:{type:Boolean,default:!1},showTwoDataView:{type:Boolean,default:!1},maxSelectNumber:{type:Number,default:3},maxMsgLength:{type:Number,default:8},freePublishType:{type:String,default:"1_102_103",validator:function(e){return"1"===e||"1_102"===e||"1_103"===e||"1_102_103"===e}},showType:{default:"",validator:function(e){return""===e||0===e||5===e||7===e}},isAlbum:{type:Boolean,default:!1},isPayAlbum:{type:Boolean,default:!1},payAlbumData:{type:Object,default:{}},selectedAppmsg:{type:Array,default:function(){return[]}}},data:function(){var e=this.dataView,t=this.value,i=new Map([[0,"101_".concat(this.freePublishType)],[1,"101"],[2,this.freePublishType]]);return this.isFromSelectMsg&&("card"===this.dataView?s.setSum("69271","96","1"):"list"===this.dataView&&s.setSum("69271","97","1"),s.send()),{dialogHeight:window.innerHeight-128,contentInnerHeight:window.innerHeight-128-290,selectedList:[],currentList:[],showList:[],begin:0,count:10,type:0,sendMap:i,dialogShow:t,query:"",lastPage:1,currentQuery:"",totalCount:0,masssendCount:0,publishCount:0,currentCount:[0,0,0],view:e,loading:!1,showSelected:!1}},computed:{getMediaCol:function(){return 2}},watch:{showSelected:function(e){e?(this.showList=this.formatShowList(this.selectedList.filter(function(e,t){return 0<=t&&t<10})),this.resetPagiation()):(this.showList=this.formatShowList(this.currentList.map(function(e){return e})),this.resetPagiation(this.lastPage))},currentQuery:function(e){""===e&&""!==this.query&&this.search("")}},mounted:function(){if(this.selectedAppmsg.length>this.maxSelectNumber)throw new Error("参数传递矛盾");for(var e=0;e<this.selectedAppmsg.length;e++){var t=Object.assign({},this.selectedAppmsg[e]);t.publish_info={},t.selected=!0,"string"==typeof t.update_time&&(t.update_time=this.parseStringNumberToInt(t.update_time,10)),this.prepareAppmsgInfo(t.appmsg_info,t),this.selectedList.push(t)}this.getData(0,10)},methods:{changeView:function(e){this.view=e,this.dataView=e,this.selectedList=[];e=this.$refs.pagiation.currentPage;this.lastPage=e,this.getData(10*(e-1),10,this.type,this.query),this.isFromSelectMsg&&(localStorage.setItem("publish_dialog",this.view),"card"===this.view?s.setSum("69271","100","1"):"list"===this.view&&s.setSum("69271","101","1"),s.send())},formatShowList:function(e){var p=this;return e.map(function(e){if(p.isFromSelectMsg&&"card"===p.view)e.multi_item.length>p.maxMsgLength?e.canselect=!1:e.canselect=!0,e.multi_item&&10===e.multi_item[0].share_page_type&&(e.canselect=!1);else if(e.canselect=e.selected||p.selectedList.length<p.maxSelectNumber||1===p.maxSelectNumber,p.payAlbumData.isPayAlbum&&e.appmsg_info){var t,i=e.appmsg_info[0].appmsg_album_infos,s=!1,n=!1;if(i&&0<i.length)for(var a=0;a<i.length;a++){var o=i[a],n=void 0!==o.del_flag&&o.del_flag;+o.id===p.payAlbumData.currentId&&(s=!0)}e.payDisable=!s&&(!!e.appmsg_info[0].is_pay_subscribe||1===e.appmsg_info[0].ban_flag),e.isAddPayAlbum=null===(t=e.appmsg_info[0].pay_album_info)||void 0===t?void 0:t.album_id,e.isDelAlbum=n,e.isAddPayAlbum||e.isDelAlbum||!e.appmsg_info[0].is_pay_subscribe||0!==e.appmsg_info[0].ban_flag||0!==p.payAlbumData.currentId||(e.payDisable=!1),e.selected=!e.payDisable&&e.selected}return e})},prepareAppmsgInfo:function(e,t){var i=this;e.forEach(function(e){e.update_time=t.update_time,e.share_page_type=i.parseStringNumberToInt(e.share_page_type,10),e.itemidx=i.parseStringNumberToInt(e.itemidx,10),e.item_show_type=e.share_page_type,e.share_type=e.share_page_type,e.play_length=e.duration,e.share_imageinfo=[],e.share_videoinfo=[],e.share_voiceinfo=[],5===e.share_page_type&&e.share_videoinfo.push({play_length:e.duration}),7===e.share_page_type&&e.share_voiceinfo.push({play_length:e.duration})}),t.view={},t.view.status="已发布"},isMediaAccount:function(){return!0},parseStringNumberToInt:function(e){return"string"==typeof e?parseInt(e,10):e},showItem:function(e){return!(e.view&&!["已发布","发布成功","已群发"].includes(e.view.status)||!!e.card_info||11===!!e.copy_type)},search:function(e){this.query=e,this.lastPage=1,this.resetPagiation(),this.getData(0,10,this.type,this.query)},pageChange:function(i){this.showSelected?this.showList=this.formatShowList(this.selectedList.filter(function(e,t){return t>=10*(i.currentPage-1)&&t<10*i.currentPage})):(this.getData(10*(i.currentPage-1),10,this.type,this.query),this.lastPage=i.currentPage)},isSameAppmsg:function(e,t){if("card"===this.dataView)return e.msgid===t.msgid;e=[e.appmsg_info[0],t.appmsg_info[0]],t=e[0],e=e[1];return t.audio_id||e.audio_id?"".concat(t.appmsgid,"_").concat(t.itemidx)==="".concat(e.appmsgid,"_").concat(e.itemidx)&&t.audio_id===e.audio_id:"".concat(t.appmsgid,"_").concat(t.itemidx)==="".concat(e.appmsgid,"_").concat(e.itemidx)},show:function(){this.dialogShow=!0,this.getData(0,10),this.$emit("input",this.dialogShow)},hide:function(){this.selectedList=[],this.type=0,this.query="",this.currentQuery="",this.dialogShow=!1,this.lastPage=1,this.resetPagiation(),this.$emit("input",this.dialogShow)},comfirmDialog:function(){var e,t=this,i=(this.isFromSelectMsg&&("card"===this.view?s.setSum("69271","98","1"):s.setSum("69271","99","1"),s.send()),this.selectedList.map(function(e){return t.isFromSelectMsg||e.appmsg_info[0].title&&(e.appmsg_info[0].title=e.appmsg_info[0].title.replace(/<em class=.+?>/gi,"").replace(/<\/em>/gi,"")),e}));this.isFromSelectMsg?(e={view:this.view,type:this.type,selectedList:i},this.$emit("select",e)):this.$emit("select",i),this.hide()},closeDialog:function(){this.$emit("cancel"),this.hide()},resetPagiation:function(e){this.$refs.pagiation.currentPage=e||1},changeLeftTab:function(e){this.type=e,this.query="",this.currentQuery="",this.lastPage=1,this.resetPagiation(),this.getData(this.begin,this.count,e,this.query)},selectItem:function(e){e.canselect&&(!e.selected&&this.selectedList.length>=this.maxSelectNumber||(this.itemInSelectedList(e)?(e.selected=!1,this.removeSelectedListAppmsg(e)):(e.selected=!0,this.selectedList.push(e))))},selectItemSingle:function(e){e.canselect&&(this.selectedList.length&&(this.selectedList[0].selected=!1,this.selectedList.splice(0,1)),e.selected=!0,this.selectedList.push(e))},removeSelectedListAppmsg:function(e){for(var t=0;t<this.selectedList.length;t++)if(this.isSameAppmsg(e,this.selectedList[t])){this.selectedList[t].selected=!1,this.selectedList.splice(t,1);break}},clearCurrentList:function(){this.currentList=[],this.currentListCount=0},itemInSelectedList:function(t){var i=this,s=!1;return this.selectedList.forEach(function(e){i.isSameAppmsg(t,e)&&(s=e)}),s},isSelected:function(e){for(var t=0;t<this.selectedList.length;t++){var i=this.selectedList[t];if(this.isSameAppmsg(i,e))return!0}return!1},markAllSelectedAppmsg:function(){var t=this;this.currentList.forEach(function(e){e.selected=t.isSelected(e)})},initListData:function(s){var a=this;if(7===this.showType)for(var e=0;e<s.length;e++){var t,i=!1;try{s[e].publish_info&&(i=!!(t=JSON.parse(s[e].publish_info).appmsgex)&&t[0].is_deleted)}catch(e){}i||((i={appmsg_info:[]}).update_time=s[e].update_time,i.appmsg_info.push({appmsgid:s[e].appmsgid,itemidx:s[e].itemidx,title:s[e].title,content:s[e].content,audio_id:s[e].audio_id,share_page_type:7,duration:s[e].duration,appmsg_title:s[e].appmsg_title,appmsg_album_infos:s[e].appmsg_album_infos,voice_verify_state:s[e].voice_verify_state}),i.appmsg_info=m(i.appmsg_info,["digest","title","content"]),this.prepareAppmsgInfo(i.appmsg_info,i),this.currentList.push(i))}else if(!this.isFromSelectMsg||1!==this.type&&2!==this.type)for(var n=0;n<s.length;n++)(function(e){var t=!1;try{t=JSON.parse(s[e].publish_info).appmsgex[0].is_deleted}catch(e){}if(""===s[e].publish_info||t)return;s[e].publish_info=JSON.parse(s[e].publish_info);var t=s[e],n=t.publish_info,i=t.publish_type;if(n.card_info)return n.view={},n.view.card=l.parse_cardticket(n.card_info),n.appmsg_info.push({update_time:n.sent_info.time}),a.currentList.push(n);n.view={},n.appmsg_info=m(n.appmsgex,["digest","title"])||m(n.appmsg_info,["digest","title"]),n=r.bind(a)(n,i),s[e].publish_type=+i,n.multi_item=n.appmsg_info,102===i&&(n.multi_item=[],n.multi_item.push(n.appmsg_info),n.appmsg_info=n.multi_item),n.publish_info?n.update_time=n.publish_info.update_time:n.update_time=n.sent_info.time,n.create_time=s[e].publish_info.update_time,n.multi_item.forEach(function(s){if(103===i&&(s.item_show_type=5),s.share_type=s.item_show_type,s.share_page_type=s.share_type,s.share_imageinfo=[],s.share_videoinfo=[],s.share_voiceinfo=[],s.voice_encode_fileid&&(s.audio_id=s.voice_encode_fileid),n.publish_info?s.update_time=n.publish_info.update_time:s.update_time=n.sent_info.time,5===s.share_page_type&&s.share_videoinfo.push({play_length:s.duration}),7===s.share_page_type&&s.share_voiceinfo.push({play_length:s.duration}),"list"===a.dataView){var e,t=a.initPublishInfo(n);if(""!==a.showType)if(7===a.showType&&0===s.share_page_type)if(s.audio_items&&0<s.audio_items.length)return void s.audio_items.forEach(function(e){var t=a.initPublishInfo(n),i=[7,7],i=(e.share_page_type=i[0],e.share_type=i[1],Object.assign({},s,e));t.appmsg_info.push(i),a.currentList.push(t)});""!==a.showType&&a.showType!==s.share_page_type||(e=Object.assign({},s),t.appmsg_info.push(e),a.currentList.push(t))}}),"card"===a.dataView&&a.currentList.push(n)})(n);else{var o=[];s.forEach(function(i){i.multi_item.forEach(function(e,t){e.selected=!1,e.itemidx=t,e.app_id=i.app_id,o.push(e)})}),o=m(o,["digest","title"]),this.currentList=o}this.isFromSelectMsg||this.markAllSelectedAppmsg()},initPublishInfo:function(e){e=Object.assign({},e);return delete e.appmsg_info,delete e.multi_item,e.appmsg_info=[],e.multi_item=e.appmsg_info,e.selected=!1,e},initData:function(e){var t,i=1<arguments.length&&void 0!==arguments[1]&&arguments[1],s=[],n=0;if(7===this.showType)e&&e.list_audio_resp&&e.list_audio_resp.audio_items?s=e.list_audio_resp.audio_items:e&&e.search_audio_resp&&e.search_audio_resp.audio_items&&(s=e.search_audio_resp.audio_items),e&&e.list_audio_resp&&e.list_audio_resp.total?n=e.list_audio_resp.total:e&&e.search_audio_resp&&e.search_audio_resp.total&&(n=e.search_audio_resp.total),this.$set(this.currentCount,0,n),this.$set(this.currentCount,1,n),this.$set(this.currentCount,2,n),this.initListData(s);else if(e.publish_page_noencode||e.publish_page){e.publish_page_noencode?t=JSON.parse(e.publish_page_noencode):e.publish_page&&(t=JSON.parse(e.publish_page));try{if(s=t.publish_list,i)if(this.isFromSelectMsg)0===this.type?this.$set(this.currentCount,0,+t.total_count):this.$set(this.currentCount,this.type,+t.search_cnt);else for(var a=0;a<3;a++)a===this.type?(this.totalCount=+t.total_count,this.$set(this.currentCount,a,this.totalCount)):this.$set(this.currentCount,a,-1);else this.totalCount=+t.total_count,this.masssendCount=+t.masssend_count,this.publishCount=+t.publish_count,this.$set(this.currentCount,0,this.totalCount),this.$set(this.currentCount,1,this.masssendCount),this.$set(this.currentCount,2,this.publishCount)}catch(e){}this.initListData(s)}else s=e.app_msg_info.item,this.query?this.$set(this.currentCount,this.type,e.app_msg_info.search_cnt):1===this.type?this.$set(this.currentCount,this.type,e.app_msg_info.file_cnt.draft_count):this.$set(this.currentCount,this.type,e.app_msg_info.file_cnt.app_msg_cnt),"card"===this.view?this.currentList=s:this.initListData(s)},getData:function(e,t){var i,s=this,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"",o=(this.clearCurrentList(),i=0===this.type?2:1===this.type?0:1,this.loading=!0,"/cgi-bin/appmsgpublish");this.isFromSelectMsg?(1===this.type&&(o="/cgi-bin/appmsg?type=77&action=list_card"),2===this.type&&(o="/cgi-bin/appmsg?type=10&action=list_card")):o=7===this.showType?"/cgi-bin/appmsgalbummgr":"/cgi-bin/appmsgpublish",p.get({url:o,data:7!==this.showType?{sub:""===a?"list":"search",begin:e,count:t,query:a,type:this.sendMap.get(n),show_type:this.showType,free_publish_type:this.freePublishType,sub_action:"list_ex",search_card:"card"===this.dataView?1:0}:{action:""===a?"list_audio":"search_audio",begin:e,count:t,key:a,media_source:i}},function(e){e&&0===e.base_resp.ret&&(s.initData(e,""!==a),s.showList=s.formatShowList(s.currentList.map(function(e){return e}))),s.loading=!1},function(e){s.loading=!1})}}})},"./src/pages/modules/publish/publish_dialog/publish_dialog.less":function(e,t,i){},"./src/pages/modules/publish/publish_dialog/publish_dialog.tpl":function(e,t){e.exports='<div class="publish_dialog" v-if="dialogShow">\n  <mp-dialog v-model="dialogShow" :width="960" :height="dialogHeight" @close="closeDialog">\n    <div slot="header">\n      <span>选择已有图文</span>\n    </div>\n    <div class="publish_dialog_content">\n      <div class="left_tab_data" v-if="!showSelected">\n        <div class="tab" :class="{\'current_tab\': type==0}" @click="changeLeftTab(0)">\n          <span v-if="isFromSelectMsg">已发表</span>\n          <span v-else> 全部</span>\n          <template v-if="currentCount[0] >= 0">\n          </template>\n        </div>\n        <div class="tab" :class="{\'current_tab\': type==1}" @click="changeLeftTab(1)">\n          <span v-if="isFromSelectMsg">草稿</span>\n          <span v-else> 群发</span>\n          <template v-if="currentCount[1] >= 0">\n\n          </template>\n        </div>\n        <div class="tab" :class="{\'current_tab\': type==2}" @click="changeLeftTab(2)">\n          <span v-if="isFromSelectMsg"> 历史图文素材</span>\n          <span v-else> 发布</span>\n          <template v-if="currentCount[2] >= 0">\n\n          </template>\n        </div>\n      </div>\n      <div class="image_word" :class="{no_left_tab: showSelected}">\n        <div class="title_rank_context" v-if="isFromSelectMsg || showTwoDataView">\n          <mp-tooltip content="卡片视图" position="down-center" :delay="300">\n            <button slot="target" @click="changeView(\'card\')" :class="[\'weui-desktop-icon-btn weui-desktop-icon__list\', view === \'card\' ? \'weui-desktop-icon-btn_current\' : \'\']">\n              <svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path fill="transparent" d="M0 0h24v24H0z"/><path d="M10 12.5a1.5 1.5 0 011.5 1.5v5.5A1.5 1.5 0 0110 21H4.5A1.5 1.5 0 013 19.5V14a1.5 1.5 0 011.5-1.5H10zm9.5 0A1.5 1.5 0 0121 14v5.5a1.5 1.5 0 01-1.5 1.5H14a1.5 1.5 0 01-1.5-1.5V14a1.5 1.5 0 011.5-1.5h5.5zM10 3a1.5 1.5 0 011.5 1.5V10a1.5 1.5 0 01-1.5 1.5H4.5A1.5 1.5 0 013 10V4.5A1.5 1.5 0 014.5 3H10zm9.5 0A1.5 1.5 0 0121 4.5V10a1.5 1.5 0 01-1.5 1.5H14a1.5 1.5 0 01-1.5-1.5V4.5A1.5 1.5 0 0114 3h5.5z"/></g></svg>\n            </button>\n          </mp-tooltip>\n          <mp-tooltip content="列表视图" position="down-center" :delay="300">\n            <button slot="target" @click="changeView(\'list\')" :class="[\'weui-desktop-icon-btn weui-desktop-icon__list\', view === \'card\' ? \'\' : \'weui-desktop-icon-btn_current\']">\n              <svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path fill="transparent" d="M0 0h24v24H0z"/><path d="M21 17a1 1 0 011 1v1a1 1 0 01-1 1H3a1 1 0 01-1-1v-1a1 1 0 011-1h18zm0-6.5a1 1 0 011 1v1a1 1 0 01-1 1H3a1 1 0 01-1-1v-1a1 1 0 011-1h18zM21 4a1 1 0 011 1v1a1 1 0 01-1 1H3a1 1 0 01-1-1V5a1 1 0 011-1h18z"/></g></svg>\n            </button>\n          </mp-tooltip>\n          <mp-search v-if="isFromSelectMsg" placeholder="输入标题搜索" class="search" @search="search" v-model="currentQuery"></mp-search>\n        </div>\n        <div v-if="!isFromSelectMsg">\n          <div class="header_wording">\n            <span :style="{visibility: !(currentList.length > 0 && !showSelected) ? \'hidden\' : \'visible\'}">\n              只能选择已发表内容，如需添加草稿，请先<a target=\'_blank\' href=\'/cgi-bin/appmsg?begin=0&count=10&type=77&action=list_card\'>前往草稿箱</a>发表后添加。\n            </span>\n            <mp-search v-if="!showSelected" placeholder="输入标题搜索" class="search" @search="search" v-model="currentQuery"></mp-search>\n          </div>\n        </div>\n        <div class="content" :style="{height: contentInnerHeight + \'px\'}">\n          <div class="loading_icon" v-if="loading">\n            <i class="weui-desktop-loading">加载中</i>\n          </div>\n\n          <template v-if="currentList.length > 0">\n            <template v-if="view === \'card\'">\n              <div class="card_content">\n                <div class="weui-desktop-media__list-col" :style="{width: 100/getMediaCol + \'%\'}"\n                  v-for="n in getMediaCol">\n                  <div class="inner">\n                    <template v-for="(item, idx) in showList" v-if="idx % getMediaCol == (n-1)">\n                      <template v-if="showItem(item)">\n                        <mp-appmsg2 :source="item" :type="1"\n                        :selected="item.selected"\n                        :query="query"\n                        :isfromselectmsg="isFromSelectMsg"\n                        :canselect="item.canselect"\n                        :useupdatetime="false"\n                        :show-type="item.multi_item[0].share_page_type "\n                        @click.native="maxSelectNumber !== 1 ? selectItem(item) : selectItemSingle(item)">\n                        </mp-appmsg2>\n                      </template>\n                    </template>\n                  </div>\n                </div>\n              </div>\n            </template>\n            \n            <template v-else-if="view === \'list\'">\n              <template v-for="item in showList">\n                <template v-if="showItem(item)">\n                  <template v-if="(type === 1 || type === 2) && isFromSelectMsg && !item.isDel">\n                    <mp-publish-list-view :info="item" :item="item"\n                      slot="target"\n                      @click="maxSelectNumber !== 1 ? selectItem(item) : selectItemSingle(item)"\n                      :disabled="((!item.selected && selectedList.length === maxSelectNumber) && maxSelectNumber > 1 || (isFromSelectMsg && item.share_page_type === 10) || (showType === 7 && info.voice_verify_state === 4))"\n                      :keyword="query"\n                      :isfromselectmsg="isFromSelectMsg"\n                      :max-select-number="maxSelectNumber"\n                      :is-album="isAlbum"\n                      :show-type="showType">\n                    </mp-publish-list-view>\n                  </template>\n                  <template v-else>\n                    <template v-for="info in item.appmsg_info">\n                      <mp-publish-list-view v-if="!info.is_deleted" :info="info" :item="item"\n                        slot="target"\n                        @click="maxSelectNumber !== 1 ? selectItem(item) : selectItemSingle(item)"\n                        :disabled="((!item.selected && selectedList.length === maxSelectNumber) && maxSelectNumber > 1 || (isFromSelectMsg && info.share_type === 10) || (showType === 7 && info.voice_verify_state === 4)) || item.payDisable"\n                        :keyword="query"\n                        :isfromselectmsg="isFromSelectMsg"\n                        :max-select-number="maxSelectNumber"\n                        :is-album="isAlbum"\n                        :is-pay-album="isPayAlbum"\n                        :show-type="showType"\n                        :is-pay-album="payAlbumData.isPayAlbum"\n                      >\n                      </mp-publish-list-view>\n                    </template>\n                  </template>\n                </template>\n\n\n                \n              </template>\n            </template>\n          </template>\n          <template v-else>\n            <div v-if="isFromSelectMsg && !loading" class="empty_msg">\n             暂无搜索结果\n            </div>\n            <div v-else-if="!loading" class="no_data">\n              暂无已发表内容，如需添加草稿，请先<a target="_blank" href="/cgi-bin/appmsg?begin=0&count=10&type=77&action=list_card">前往草稿箱</a>发表。\n            </div>\n          </template>\n        </div>\n        <mp-pagination class="image_pagination" mode="normal" :showJumper="!query" :per-page="10" :total-num="showSelected ? selectedList.length : currentCount[type]" @page-change="pageChange" ref="pagiation"></mp-pagination>\n      </div>\n    </div>\n    <div slot="footer">\n      <template v-if="maxSelectNumber > 1">\n        <div class="has_selected">已选择</div>\n        <div class="image_wording_number" @click="showSelected = true">{{selectedList.length}}/{{maxSelectNumber}} 项</div>\n        <div class="image_wording_number" @click="showSelected = false" v-if="showSelected">返回</div>\n      </template>\n      <mp-button type="primary" @click="comfirmDialog" :disabled="selectedList.length===0">确定</mp-button>\n      <mp-button type="default" @click="closeDialog">取消</mp-button>\n    </div>\n  </mp-dialog>\n</div>\n'},"./src/pages/modules/publish/publish_list_view/publish_list_view.js":function(e,t,i){function s(e){var t;return e<60?"00:"+(e<10?"0":"")+e:((t=Math.floor(e/60))<10?"0":"")+t+":"+((e-=60*t)<10?"0":"")+e}var Vue=i("./node_modules/vue/dist/vue.min.js"),n=i("./src/pages/modules/publish/publish_list_view/publish_list_view.tpl"),a=i("./src/pages/modules/utils/time.js");i("./src/pages/modules/publish/tpl/publish_tpl.js"),i("./src/pages/modules/publish/publish_list_view/publish_list_view.less");Vue.component("mp-publish-list-view",{template:n,provide:{customerType:0},props:{item:{type:Object,default:function(){return{}}},info:{type:Object,default:function(){return{}}},isAlbum:{type:Boolean,default:!1},isPayAlbum:{type:Boolean,default:!1},showType:{default:"",validator:function(e){return""===e||0===e||5===e||7===e}},keyword:{type:String,default:""},disabled:{type:Boolean,default:!1},isfromselectmsg:{type:Boolean,default:!1},maxSelectNumber:{type:Number,default:1}},methods:{select:function(e){var t=this;this.cannotSelect||this.disabled||(this.$emit("click"),this.$nextTick(function(){t.$forceUpdate()}))},listClick:function(e,t){this.cannotSelect||this.disabled||this.select(e.selected)},preFormate:function(){var e=this.info;e.update_time&&!e.update_time.length&&(e.update_time=a.getFullTime(e.update_time),e.update_time=e.update_time.slice(0,e.update_time.length-3)),e.duration&&"number"==typeof e.duration&&(e.duration=s(e.duration)),7===e.share_page_type&&0<e.share_voiceinfo.length&&"number"==typeof e.play_length&&(e.play_length=s(e.share_voiceinfo[0].play_length)),5===e.share_page_type&&0<e.share_videoinfo.length&&"number"==typeof e.play_length&&(e.play_length=s(e.share_videoinfo[0].play_length))}},watch:{info:function(){this.preFormate()}},computed:{cannotSelect:function(){var e=!1;return!!this.info&&(this.info.appmsg_album_infos?e=this.info.appmsg_album_infos:this.info.appmsg_album_info&&(e=this.info.appmsg_album_info.appmsg_album_infos),this.isAlbum&&""!==this.showType?!this.item.selected&&(!!e&&!(e.length<{0:5,5:5,7:1}[this.showType])):void 0)}},data:function(){return this.preFormate(),this.info.isDel=!1,{}}})},"./src/pages/modules/publish/publish_list_view/publish_list_view.less":function(e,t,i){},"./src/pages/modules/publish/publish_list_view/publish_list_view.tpl":function(e,t){e.exports='\x3c!-- 视频 --\x3e\n<mp-tooltip v-if="cannotSelect">\n  <div slot="content" class="album_hover_word">\n    <span v-if="showType === 7">音频合集规则：每条音频至多添加1个标签，请删除后再试</span>\n    <span v-else>视频合集规则：每条视频至多添加5个标签，请删除后再试</span>\n  </div>\n  <div class="weui-desktop-table__wrp weui-desktop-table_simple-appmsg appmsg-list appmsg-list-publish" slot="target">\n    \x3c!-- 普通 0 9 11 --\x3e\n    <template v-if="maxSelectNumber > 1">\n      <mp-checkbox :value="item.selected" @change="select" :disabled="cannotSelect || disabled"></mp-checkbox>\n    </template>\n    <template v-else>\n      <mp-radio v-model="item.selected" @click.native="select" :disabled="cannotSelect"></mp-radio>\n    </template>\n    <div class="publish_list_item" :class="{\'can_not_selected\': cannotSelect}">\n      <template v-if="info.share_page_type==0||info.share_page_type==9||info.share_page_type==11">\n        <appmsg-item :info="info" :item="item" :fromPublishDialog="true" :keyword="keyword" :is-album="isAlbum" :is-pay-album="isPayAlbum"></appmsg-item>\n      </template>\n\n      \x3c!-- 视频 --\x3e\n      <template v-if="info.share_page_type==5">\n        <appmsg-video-item :info="info" :item="item" :fromPublishDialog="true" :keyword="keyword" :is-album="isAlbum" :is-pay-album="isPayAlbum"></appmsg-video-item>\n      </template>\n\n      \x3c!-- 图片 --\x3e\n      <template v-if="info.share_page_type==8">\n        <appmsg-img-item :info="info" :item="item" :fromPublishDialog="true" :keyword="keyword" :is-album="isAlbum" :is-pay-album="isPayAlbum"></appmsg-img-item>\n      </template>\n      \x3c!-- 语音 --\x3e\n      <template v-if="info.share_page_type==7">\n        <appmsg-audio-item :info="info" :item="item" :fromPublishDialog="true" :keyword="keyword" :is-album="isAlbum" :is-pay-album="isPayAlbum"></appmsg-audio-item>\n      </template>\n      \x3c!-- 文字 --\x3e\n      <template v-if="info.share_page_type==10">\n        <appmsg-text-item :info="info" :item="item" :fromPublishDialog="true" :keyword="keyword" :is-album="isAlbum" :is-pay-album="isPayAlbum"></appmsg-text-item>\n      </template>\n      \x3c!-- 直播 --\x3e\n      <template v-if="info.share_page_type==19">\n        <appmsg-live-item :info="info" :item="item" :fromPublishDialog="true" :keyword="keyword" :is-album="isAlbum" :is-pay-album="isPayAlbum"></appmsg-live-item>\n      </template>\n      \x3c!-- 卡卷 --\x3e\n      <template v-if="item.type == 17 && item.view && item.view.card">\n        <div>\n          <div class="weui-desktop-mass-media weui-desktop-mass-cardticket weui-desktop-mass-appmsg" :class="{\'weui-desktop-mass-media_del\':item.sent_result.msg_status==7,\'timer_send_appmsg_item\':!!item.timerSendInfo}">\n            <div class="weui-desktop-mass-appmsg__hd">\n              <span class="weui-desktop-mass-cardticket__logo__wrp weui-desktop-vm_default">\n                <i class="weui-desktop-mass-cardticket__logo" :style="{backgroundImage: \'url(\' + item.view.card.logo_url + \')\'}"></i>\n              </span>\n            </div>\n            <div class="weui-desktop-mass-appmsg__bd">\n                <div class="weui-desktop-mass-cardticket__info weui-desktop-vm_primary">\n                    <strong class="weui-desktop-mass-cardticket__title">{{item.view.card.title}}</strong>\n                    <div class="weui-desktop-mass-cardticket__desc">{{item.view.card.brand_name}}</div>\n                </div>\n            </div>\n          </div>\n        </div>\n      </template>\n\n    </div>\n    <div class="publish_time">\n      {{info.update_time}}\n    </div>\n\n  </div>\n</mp-tooltip>\n\n<div v-else class="weui-desktop-table__wrp weui-desktop-table_simple-appmsg appmsg-list appmsg-list-publish" :class="{ \'appmsg-list-publish_disabled\': disabled }" slot="target" @click="listClick(item, $event)">\n  <div v-if="disabled && info.share_page_type == 7 && item.appmsg_info[0].voice_verify_state === 4" class="appmsg-list-publish-disabled_bar">已下架的音频，不可以使用</div>\n\n  \x3c!-- 普通 0 9 11 --\x3e\n  <template v-if="maxSelectNumber > 1">\n    <mp-checkbox :value="item.selected" @change="select" :disabled="cannotSelect || disabled" @click.native.stop></mp-checkbox>\n  </template>\n  <template v-else>\n    <mp-radio v-model="item.selected" @click.native="select" :disabled="cannotSelect || disabled"></mp-radio>\n  </template>\n  <div class="publish_list_item" :class="{\'can_not_selected\': cannotSelect || disabled}">\n    <template v-if="info.share_page_type==0||info.share_page_type==9||info.share_page_type==11">\n      <appmsg-item :info="info" :item="item" :fromPublishDialog="true" :keyword="keyword" :is-album="isAlbum" :is-pay-album="isPayAlbum"></appmsg-item>\n    </template>\n\n    \x3c!-- 视频 --\x3e\n    <template v-if="info.share_page_type==5">\n      <appmsg-video-item :info="info" :item="item" :fromPublishDialog="true" :keyword="keyword" :is-album="isAlbum" :is-pay-album="isPayAlbum"></appmsg-video-item>\n    </template>\n\n    \x3c!-- 图片 --\x3e\n    <template v-if="info.share_page_type==8">\n      <appmsg-img-item :info="info" :item="item" :fromPublishDialog="true" :keyword="keyword" :is-album="isAlbum" :is-pay-album="isPayAlbum"></appmsg-img-item>\n    </template>\n    \x3c!-- 语音 --\x3e\n    <template v-if="info.share_page_type==7">\n      <appmsg-audio-item :info="info" :item="item" :fromPublishDialog="true" :keyword="keyword" :is-album="isAlbum" :is-pay-album="isPayAlbum" :style="{ opacity: disabled ? 0.3 : 1 }"></appmsg-audio-item>\n    </template>\n    \x3c!-- 文字 --\x3e\n    <template v-if="info.share_page_type==10">\n      <div v-if="isfromselectmsg" class="disabled_text_bar">文字消息暂不支持选择</div>\n      <appmsg-text-item :info="info" :item="item" :fromPublishDialog="true" :keyword="keyword" :is-album="isAlbum" :is-pay-album="isPayAlbum"></appmsg-text-item>\n    </template>\n    \x3c!-- 直播 --\x3e\n    <template v-if="info.share_page_type==19">\n      <appmsg-live-item :info="info" :item="item" :fromPublishDialog="true" :keyword="keyword" :is-album="isAlbum" :is-pay-album="isPayAlbum"></appmsg-live-item>\n    </template>\n    \x3c!-- 卡卷 --\x3e\n    <template v-if="item.type == 17 && item.view && item.view.card">\n      <div>\n        <div class="weui-desktop-mass-media weui-desktop-mass-cardticket weui-desktop-mass-appmsg" :class="{\'weui-desktop-mass-media_del\':item.sent_result.msg_status==7,\'timer_send_appmsg_item\':!!item.timerSendInfo}">\n          <div class="weui-desktop-mass-appmsg__hd">\n            <span class="weui-desktop-mass-cardticket__logo__wrp weui-desktop-vm_default">\n              <i class="weui-desktop-mass-cardticket__logo" :style="{backgroundImage: \'url(\' + item.view.card.logo_url + \')\'}"></i>\n            </span>\n          </div>\n          <div class="weui-desktop-mass-appmsg__bd">\n            <div class="weui-desktop-mass-cardticket__info weui-desktop-vm_primary">\n              <strong class="weui-desktop-mass-cardticket__title">{{item.view.card.title}}</strong>\n              <div class="weui-desktop-mass-cardticket__desc">{{item.view.card.brand_name}}</div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </template>\n  </div>\n\n  <div class="publish_time">\n    {{info.update_time}}\n  </div>\n</div>'},"./src/pages/modules/publish/tpl/appmsg.tpl":function(e,t){e.exports='<template>\n  <div class="weui-desktop-mass-media weui-desktop-mass-appmsg" :class="{\'weui-desktop-mass-media_del\': info.is_deleted || info.deleteFlag}">\n    <div class="weui-desktop-mass-appmsg__hd">\n      <i class="weui-desktop-mass-appmsg__thumb" v-if="info.cover" :style="\'background-image:url(\\\'\' + info.cover + \'\\\');\'"></i>\n      <i class="weui-desktop-mass-appmsg__thumb weui-desktop-mass-appmsg__thumb_default" v-else style=\'background-image:url("data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iNDBweCIgaGVpZ2h0PSIyOHB4IiB2aWV3Qm94PSIwIDAgNDAgMjgiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDQ3LjEgKDQ1NDIyKSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5JY29uIC8gIERlZmF1bHQgLyBQaWM8L3RpdGxlPgogICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+CiAgICA8ZGVmcz48L2RlZnM+CiAgICA8ZyBpZD0iSWNvbi3lm77moIciIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIG9wYWNpdHk9IjAuMTAwMDAwMDAxIj4KICAgICAgICA8ZyBpZD0iSWNvbi0vLS1EZWZhdWx0LS8tUGljIj4KICAgICAgICAgICAgPGc+CiAgICAgICAgICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlLTQwIiBzdHJva2U9IiMzNTM1MzUiIHN0cm9rZS13aWR0aD0iMyIgeD0iMS41IiB5PSIxLjUiIHdpZHRoPSIzNyIgaGVpZ2h0PSIyNSIgcng9IjEiPjwvcmVjdD4KICAgICAgICAgICAgICAgIDxwb2x5Z29uIGlkPSJSZWN0YW5nbGUtMzkiIGZpbGw9IiMzNTM1MzUiIHBvaW50cz0iMjkuOTU1NzY4NyAxMS42NzU1ODg5IDI0LjU0MzM1MzUgMTUuODA3NzA2OSAyNi40NDM0OTY2IDE5LjY2NDA1NjIgMTMuMTcyNzUzNiA3LjY0NDg4NjM2IDAuNjUgMTkuMTg3MDU4MyAwLjY1IDI1LjcxMzYzNjggMzguNDMxMjUgMjUuNzEzNjM2OCAzOC40MzEyNSAxOS4xODcwNTgzIj48L3BvbHlnb24+CiAgICAgICAgICAgIDwvZz4KICAgICAgICA8L2c+CiAgICA8L2c+Cjwvc3ZnPg==")\'></i>\n    </div>\n    <div class="weui-desktop-mass-appmsg__bd">\n      \n      <mp-tooltip position="bottom-center" :delay="300" v-if="info.is_deleted && !info.is_cooling_article" class="weui-desktop-mass-appmsg__tips">\n        <span v-if="info.deleteFormatTime" class="weui-desktop-mass-appmsg__tips_content">删除时间 {{info.deleteFormatTime}}</span>\n        \n        <span v-else class="weui-desktop-mass-appmsg__tips_content">已删除</span>\n        <a slot="target" v-if="!fromPublishDialog" :href="actualUrl || \'javascript:;\'" target="_blank"  class="weui-desktop-mass-appmsg__title">\n          <span v-if="keyword !== \'\'" v-html="info.highlight_title"></span>\n          <span v-else-if="info.title" v-html="info.title"></span>\n          <span v-else>未命名图文</span>\n          <b class="weui-desktop-key-tag" v-if="info.copyright_status == 11">原创</b>\n          <b class="weui-desktop-key-tag" v-else-if="info.copyright_status == 12 || info.copyright_status == 101 || info.copyright_status == 201 || info.copyright_status == 202">转载</b>\n          <b class="weui-desktop-key-tag" v-if="info.modify_status == 3">已修改</b>\n          <b class="weui-desktop-key-tag weui-desktop-key-tag_pay" v-if="info.is_pay_subscribe == 1">付费</b>\n          \n          <mp-popover trigger="hover" position="up-center" :delay="300" v-if="info.is_from_transfer == 1 && info.is_pay_subscribe == 1 && !hasPayPlugin" class="weui-desktop-mass-appmsg__tips">\n            <span class="weui-desktop-mass-appmsg__tips_content">此内容来自于迁移前的帐号，已付费的用户可以继续阅读全文，未付费的用户不支持付费，重新开通付费功能后即可正常付费。</span>\n            <mp-icon :width="20" :height="20" icon="tips" color="var(--weuiDesktop_subColor)" slot="target" size="small" class="weui-desktop-mass-appmsg__tips_icon"></mp-icon>\n          </mp-popover>\n        </a>\n        <div slot="target" v-else class="weui-desktop-mass-appmsg__title">\n          <span v-if="keyword !== \'\'" v-html="info.title"></span>\n          <span v-else-if="info.title" v-html="info.title"></span>\n          <span v-else>未命名图文</span>\n          <b class="weui-desktop-key-tag" v-if="info.copyright_status == 11">原创</b>\n          <b class="weui-desktop-key-tag" v-else-if="info.copyright_status == 12 || info.copyright_status == 101 || info.copyright_status == 201 || info.copyright_status == 202">转载</b>\n          <b class="weui-desktop-key-tag" v-if="info.modify_status == 3">已修改</b>\n          <b class="weui-desktop-key-tag weui-desktop-key-tag_pay" v-if="info.is_pay_subscribe == 1">付费</b>\n        </div>\n      </mp-tooltip>\n      \n\n      \n      <div v-else>\n        <a v-if="!fromPublishDialog" :href="actualUrl || \'javascript:;\'" target="_blank" class="weui-desktop-mass-appmsg__title" @click="checkAppmsgJumpSuc(info.content_url)">\n          <span v-if="keyword !== \'\'" v-html="info.highlight_title"></span>\n          <span v-else-if="info.title" v-html="info.title"></span>\n          <span v-else>未命名图文</span>\n          <b class="weui-desktop-key-tag" v-if="info.copyright_status == 11">原创</b>\n          <b class="weui-desktop-key-tag" v-else-if="info.copyright_status == 12 || info.copyright_status == 101 || info.copyright_status == 201 || info.copyright_status == 202">转载</b>\n          <b class="weui-desktop-key-tag" v-if="info.modify_status == 3">已修改</b>\n          <b class="weui-desktop-key-tag weui-desktop-key-tag_pay" v-if="info.is_pay_subscribe == 1">付费</b>\n          \n          <mp-popover trigger="hover" position="up-center" :delay="300" v-if="info.is_from_transfer == 1 && info.is_pay_subscribe == 1 && !hasPayPlugin" class="weui-desktop-mass-appmsg__tips">\n            <span class="weui-desktop-mass-appmsg__tips_content">此内容来自于迁移前的帐号，已付费的用户可以继续阅读全文，未付费的用户不支持付费，重新开通付费功能后即可正常付费。</span>\n            <mp-icon :width="20" :height="20" icon="tips" color="var(--weuiDesktop_subColor)" slot="target" size="small" class="weui-desktop-mass-appmsg__tips_icon"></mp-icon>\n          </mp-popover>\n        </a>\n        <div v-else class="weui-desktop-mass-appmsg__titile_wrap">\n          <div class="weui-desktop-mass-appmsg__title">\n            <span v-if="keyword !== \'\'" v-html="info.title"></span>\n            <span v-else-if="info.title" v-html="info.title"></span>\n            <span v-else>未命名图文</span>\n          </div>\n          <div class="weui-desktop-mass-appmsg__title_tag">\n            <b class="weui-desktop-key-tag" v-if="info.copyright_status == 11">原创</b>\n            <b class="weui-desktop-key-tag" v-else-if="info.copyright_status == 12 || info.copyright_status == 101 || info.copyright_status == 201 || info.copyright_status == 202">转载</b>\n            <b class="weui-desktop-key-tag" v-if="info.modify_status == 3">已修改</b>\n            <b class="weui-desktop-key-tag weui-desktop-key-tag_pay" :class="item.payDisable ? \'disable-tag_pay\':\'\'" v-if="info.is_pay_subscribe">付费</b>\n            <mp-album-intro class="appmsg-pay-intro" v-if="item.payDisable" :append-to-body="true" pos="up-left">\n              <p slot="intro">\n                <p v-if="item.isDelAlbum">已添加到其他付费合集，合集已被删除</p>\n                <p v-else-if="item.isAddPayAlbum">内容已添加至其他付费合集</p>\n                <p v-else-if="info.is_pay_subscribe == 1">为避免用户重复付费，合集发布后不能再添加单篇付费文章</p>\n                <p v-else-if="info.ban_flag === 1">文章因违规不可加入付费合集</p>\n              </p>\n            </mp-album-intro>\n            <mp-album-intro class="appmsg-pay-intro" v-else-if="info.is_pay_subscribe == 1 && isPayAlbum" :append-to-body="true" pos="up-left">\n              <p slot="intro">\n                <p>文章添加至付费合集后，不再支持单篇购买，读者需购买合集后才可阅读全文</p>\n              </p>\n            </mp-album-intro>\n          </div>\n        </div>\n      </div>\n      \n\n      \n      <div v-if="info.digest && !fromPublishDialog && keyword !== \'\'" class="weui-desktop-mass-appmsg__digest">\n        <span v-html="info.digest"></span>\n      </div>\n      <p class="weui-desktop-mass-appmsg__desc" v-if="keyword !== \'\' && info.content && info.content !== \'\'" v-html="info.content">\n      </p>\n      <div class="album_appmsg_title" v-if="info.appmsg_album_infos && info.appmsg_album_infos.length > 0 && isAlbum">\n        <div v-if="info.is_pay_subscribe == 1 && isPayAlbum && info.wecoin_count" style="margin-bottom:2px;">原价 <span class="wecoin-icon" style="margin-bottom:3px"></span> {{info.wecoin_count}} 微信豆</div>\n        <template v-for="item in info.appmsg_album_infos">\n          <span v-if="item.del_flag === undefined ? true : !item.del_flag">#{{item.title}}</span>\n        </template>\n      </div>\n      <div class="album_appmsg_title" v-else-if="info.is_pay_subscribe == 1 && isPayAlbum && info.wecoin_count">\n        <span>原价 <span class="wecoin-icon" style="margin-bottom:3px"></span> {{info.wecoin_count}} 微信豆</span>\n      </div>\n      <template v-if="!fromPublishDialog && !item.timerSendInfo">\n        <num-item v-if="hasnum" :info="info" :i="i" :item="item"></num-item>\n      </template>\n    </div>\n\n    <div class="weui-desktop-mass-appmsg__ft" v-if="!fromPublishDialog">\n      <div class="weui-desktop-mass-media__opr">\n        \n        \n         <div v-if="(info.is_deleted || info.is_cooling_article) && item.copy_appmsg_id" class="weui-desktop-mass-media__opr__meta">\n          <button slot="target" @click="reeditmsg" class="re-edit_btn weui-desktop-opr-btn weui-desktop-opr-btn_primary">\n            <mp-icon class="re-edit_icon" icon="edit" :width="20" :height="20" color="var(--weuiDesktop_focusColor)"></mp-icon>\n            <span class="re-edit_wording">重新编辑</span>\n          </button>\n         </div>\n        \n        \n        <template v-if="(item.view.status === \'已群发\' || item.view.status === \'已删除\' || item.view.status === \'无法查看\') && item.view.sourceType !== 4">\n          <div class="weui-desktop-mass-media__opr__meta">\n            <mp-tooltip slot="target" class="weui-desktop-link" position="down-center" :content="item.view.dataPageWording" :delay="300">\n              <button slot="target" @click="goToDataPage(info.appmsgid, info.itemidx, item.view.publishDate, item.view.isGoToDataPage)" :class="{\'weui-desktop-opr-btn_disabled\':!item.view.isGoToDataPage}" class="weui-desktop-icon20 weui-desktop-icon-btn weui-desktop-opr-btn weui-desktop-opr-btn_primary">\n                <mp-icon icon="rate" :width="20" :height="20" color="var(--weuiDesktop_focusColor)"></mp-icon>\n              </button>\n            </mp-tooltip>\n          </div>\n        </template>\n        \n        <mp-popover position="up-right" v-model="info.undelShow" trigger=\'click\'>\n            <a slot="target" style="cursor: pointer;" v-if="info.can_undelete&&info.is_deleted">恢复这篇内容</a>\n            <div slot="content">恢复后用户将正常访问此页面，确定恢复？该入口为恢复故障数据的临时入口，将在9月11日零点关闭。</div>\n            <div slot="bar">\n              <mp-button type="primary" @click="undel(info)" >确定</mp-button>\n              <mp-button type="default" @click="info.undelShow=false">取消</mp-button>\n            </div>\n        </mp-popover>\n\n        \n        <template v-if="info.modify_wording && info.modify_wording != \'\' && (!item.copy_type || item.copy_type !== 11) && !info.is_cooling_article">\n        <div class="weui-desktop-mass-media__opr__meta">\n          <mp-tooltip slot="target" class="weui-desktop-link" :content="info.modify_wording" position="down-center" :delay="300">\n            \n            <button slot="target" @click="modifyItem(info.appmsgid, info.itemidx, item.msgid, info.modify_status)" :class="{\'weui-desktop-opr-btn_disabled\': (info.modify_status != 1 && info.modify_status != 2 && info.modify_status != 4)}" class="weui-desktop-icon20 weui-desktop-icon-btn weui-desktop-opr-btn weui-desktop-opr-btn_primary">\n              <svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path fill="transparent" d="M0 0h24v24H0z"/><path d="M19.939 21L21 19.445c-1.592-.914-2.987-2.177-4.205-3.81 1.336-2.216 2.063-4.918 2.2-8.125h1.376V5.76H14.32c.177-.777.334-1.594.491-2.449L12.983 3c-.472 3.305-1.396 5.929-2.771 7.873l1.14 1.438c.393-.505.746-1.07 1.1-1.652.61 1.827 1.356 3.48 2.22 4.937-1.257 1.633-2.947 2.916-5.109 3.849l1.14 1.516c2.044-.972 3.714-2.235 5.011-3.81 1.179 1.614 2.594 2.897 4.225 3.849zM3.766 19.99c2.555-.817 4.893-1.73 6.976-2.722l-.255-1.691c-1.65.777-3.242 1.438-4.795 1.963v-5.657h4.323V4.225H3v1.769h5.188v4.179H3.884v7.037c0 .622-.236 1.01-.668 1.185l.55 1.594zm11.928-6.046c-.904-1.555-1.65-3.363-2.24-5.443.118-.31.236-.641.354-.991h3.38c-.06 2.449-.55 4.607-1.494 6.434z" fill="#4C4D4E"/></g></svg>\n              \n            </button>\n          </mp-tooltip>\n        </div>\n        </template>\n        \n\n        \n\n        <more-item :i="i" :idx="idx" :item="item" :is-appmsg="true" :info="info"\n            v-if="!item.timerSendInfo && !info.is_deleted"\n            :show-delete="!item.timerSendInfo && !info.is_deleted"\n            :show-tags="showMoreTips">\n        </more-item>\n      </div>\n    </div>\n  </div>\n</template>'},"./src/pages/modules/publish/tpl/audio.tpl":function(e,t){e.exports='<template>\n  <div class="weui-desktop-mass-media weui-desktop-mass-appmsg weui-desktop-mass-audio" :class="{\'weui-desktop-mass-media_del\':info.is_deleted || info.deleteFlag || info.is_cooling_article,\'weui-desktop-mass-audio__playing\':info.isPlaying}">\n    <div class="weui-desktop-mass-appmsg__hd">\n      <div class="weui-desktop-mass-appmsg__thumb" @click="audioPlay(info)">\n        \x3c!--<div :style="{width:info.progress+\'%\'}" class="weui-desktop-mass-audio__progress js_audio_progress"></div>--\x3e\n        <div class="weui-desktop-mass-audio__info">\n          \x3c!--<mp-icon icon="voice" :width="32" :height="32"></mp-icon>--\x3e\n          <em class="weui-desktop-audio-player__switch" :class="{\'green\': info.progress>0}"></em>\n          <div class="weui-desktop-mass-audio__desc">\n            <em class="weui-desktop-mass-audio__length_total" v-if="info.duration">{{info.duration|formatDuration}}</em>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class="weui-desktop-mass-appmsg__bd">\n\n      \x3c!--删除音频标题删除时间气泡begin 前端强信任is_deleted和delete_time字段--\x3e\n      <mp-tooltip position="bottom-center" :delay="300" v-if="info.is_deleted && !info.is_cooling_article" class="weui-desktop-mass-appmsg__tips">\n        <span v-if="info.deleteFormatTime" class="weui-desktop-mass-appmsg__tips_content">删除时间 {{info.deleteFormatTime}}</span>\n        \x3c!--加一层删除时间为空的保护--\x3e\n        <span v-else class="weui-desktop-mass-appmsg__tips_content">已删除</span>\n        \n        <template v-if="!fromPublishDialog" slot="target">\n          <a v-if="keyword !== \'\'" class="weui-desktop-mass-appmsg__title weui-desktop-mass-audio__title"  @click="go" href="javascript:void(0);" v-html="info.highlight_title"></a>\n          <a v-else class="weui-desktop-mass-appmsg__title weui-desktop-mass-audio__title"  @click="go" href="javascript:void(0);" v-html="info.title"></a>\n        </template>\n        <template v-else slot="target">\n          <div v-if="keyword !== \'\'" class="weui-desktop-mass-appmsg__title weui-desktop-mass-audio__title" v-html="info.title"></div>\n          <div v-else class="weui-desktop-mass-appmsg__title weui-desktop-mass-audio__title" v-html="info.title"></div>\n          <div v-if="info?.appmsg_album_infos && info.appmsg_album_infos.length > 0 && isAlbum">\n            <span v-for="item in info.appmsg_album_infos" v-html="item.title"></span>\n          </div>\n          <div v-if="info.appmsg_title !== info.title && isAlbum" class="album_appmsg_title">来源文章: {{info.appmsg_title}}</div>\n        </template>\n      </mp-tooltip>\n      \x3c!--删除音频标题删除时间气泡end--\x3e\n      \x3c!--普通音频标题begin--\x3e\n      <div v-else>\n        <template v-if="!fromPublishDialog">\n          <a v-if="keyword !== \'\'" class="weui-desktop-mass-appmsg__title weui-desktop-mass-audio__title"  @click="go" href="javascript:void(0);" v-html="info.highlight_title"></a>\n          <a v-else class="weui-desktop-mass-appmsg__title weui-desktop-mass-audio__title"  @click="go" href="javascript:void(0);" v-html="info.title"></a>\n        </template>\n        <template v-else>\n          <div v-if="keyword !== \'\'" class="weui-desktop-mass-appmsg__title weui-desktop-mass-audio__title" v-html="info.title"></div>\n          <div v-else class="weui-desktop-mass-appmsg__title weui-desktop-mass-audio__title" v-html="info.title"></div>\n          <div v-if="info?.appmsg_album_infos && info.appmsg_album_infos.length > 0 && isAlbum">\n            <span v-for="item in info.appmsg_album_infos">#{{item.title}}  </span>\n          </div>\n          <div v-if="info.appmsg_title !== info.title && isAlbum" class="album_appmsg_title">来源文章: {{info.appmsg_title}}</div>\n        </template>\n      </div>\n      \x3c!--普通音频标题end--\x3e\n\n      <num-item v-if="hasnum" :info="info" :i="i" :item="item"></num-item>\n\n\n    </div>\n    <div class="weui-desktop-mass-appmsg__ft" v-if="!fromPublishDialog">\n      <div class="weui-desktop-mass-media__opr">\n      \x3c!--这里是删除后重新编辑icon--\x3e \n      <div v-if="(info.is_deleted || info.is_cooling_article) && item.copy_appmsg_id"  class="weui-desktop-mass-media__opr__meta">\n        <button slot="target" @click="reeditmsg" class="re-edit_btn weui-desktop-opr-btn weui-desktop-opr-btn_primary">\n            <mp-icon class="re-edit_icon" icon="edit" :width="20" :height="20" color="var(--weuiDesktop_focusColor)"></mp-icon>\n            <span class="re-edit_wording">重新编辑</span>\n          </button>\n      </div>\n      \x3c!-- 群发列表跳转单篇群发数据 --\x3e\n      <template v-if="(item.view.status === \'已群发\' || item.view.status === \'已删除\' || item.view.status === \'无法查看\') && item.view.sourceType !== 4">\n        <div class="weui-desktop-mass-media__opr__meta">\n          <mp-tooltip slot="target" class="weui-desktop-link" position="down-center" :content="item.view.dataPageWording" :delay="300">\n            <button slot="target" @click="goToDataPage(info.appmsgid, info.itemidx, item.view.publishDate, item.view.isGoToDataPage)" :class="{\'weui-desktop-opr-btn_disabled\':!item.view.isGoToDataPage}" class="weui-desktop-icon20 weui-desktop-icon-btn weui-desktop-opr-btn weui-desktop-opr-btn_primary">\n              <mp-icon icon="rate" :width="20" :height="20" color="var(--weuiDesktop_focusColor)"></mp-icon>\n            </button>\n          </mp-tooltip>\n        </div>\n      </template>\n      \x3c!-- 群发列表跳转单篇群发数据 end --\x3e\n\n        \x3c!-- <template v-if="(canUsePublicTag === 1 || realnameType === 2) && item.view.status === \'已群发\'">\n          <tag-item :info="info" :i="i" :item="item"></tag-item>\n        </template> --\x3e\n\n        \x3c!-- <span class="weui-desktop-mass-media__opr__meta js_del" v-if="hasdel">\n          <del-item :i="i" :item="item" :is-appmsg="item.type==9" :idx="idx" :info="info"></del-item>\n        </span> --\x3e\n\n        <more-item :i="i" :item="item" :is-appmsg="item.type==9" :idx="idx" :info="info"\n        :show-delete="hasdel">\n        </more-item>\n      </div>\n    </div>\n</div>    \n</template>'},"./src/pages/modules/publish/tpl/del.tpl":function(e,t){e.exports='\x3c!--<mp-popover  position="up-right" v-if="isAppmsg" v-model="info.delPopShow">\n    <mp-tooltip slot="target" class="weui-desktop-link" content="删除" position="down-center" :delay="300" >\n      <button  slot="target" class="weui-desktop-icon20 weui-desktop-icon-btn weui-desktop-opr-btn weui-desktop-opr-btn_primary">\n        <icon-svg src="pages/modules/base/svg/default/common-del.svg?__symbol"></icon-svg>\n      </button>\n    </mp-tooltip>\n    <div slot="content">{{info.delWording || \'删除后用户将无法访问此页面，确定删除？该操作只能删除历史消息中的记录，不能删除已经成功发送到用户的消息。\'}}</div>\n    <div slot="bar">\n      <mp-button type="primary" @click="delItem(item,i,isAppmsg,idx)">确定</mp-button>\n      <mp-button type="default" @click="info.delPopShow=false">取消</mp-button>\n    </div>\n</mp-popover>   \n\n<mp-popover  position="up-right" v-else v-model="item.delPopShow">\n    <mp-tooltip slot="target" class="weui-desktop-link" content="删除" position="down-center" :delay="300" >\n      <button  slot="target" class="weui-desktop-icon20 weui-desktop-icon-btn weui-desktop-opr-btn weui-desktop-opr-btn_primary">\n        <icon-svg src="pages/modules/base/svg/default/common-del.svg?__symbol"></icon-svg>\n      </button>\n    </mp-tooltip>\n    <div slot="content">{{item.delWording || \'删除后用户将无法访问此页面，确定删除？该操作只能删除历史消息中的记录，不能删除已经成功发送到用户的消息。\'}}</div>\n    <div slot="bar">\n      <mp-button type="primary" @click="delItem(item,i,isAppmsg,idx)">确定</mp-button>\n      <mp-button type="default" @click="item.delPopShow=false">取消</mp-button>\n    </div>\n</mp-popover> --\x3e\n<div position="up-right" v-if="isAppmsg" trigger="click" class="delect_content">\n    <div class="weui-desktop-popover__content">{{info.delWording || \'删除后用户将无法访问此页面，确定删除？\'}}</div>\n    <div class="weui-desktop-popover__bar">\n      <mp-button type="primary" @click="delItem(item,i,isAppmsg,idx)">确定</mp-button>\n      <mp-button type="default" @click="() => {info.delPopShow=false; this.$emit(\'cancel\');}">取消</mp-button>\n    </div>\n</div>   \n\n<div position="up-right" v-else trigger="click" class="delect_content">\n    <div class="weui-desktop-popover__content">{{item.delWording || \'删除后用户将无法访问此页面，确定删除？\'}}</div>\n    <div class="weui-desktop-popover__bar">\n      <mp-button type="primary" @click="delItem(item,i,isAppmsg,idx)">确定</mp-button>\n      <mp-button type="default" @click="() => {item.delPopShow=false; this.$emit(\'cancel\');}">取消</mp-button>\n    </div>\n</div> \n'},"./src/pages/modules/publish/tpl/featuredtoast.tpl":function(e,t){e.exports='<template>\n    <div class=\'featured_toast_container\'>\n      <mp-dialog v-model="showDialog">\n        <h2 class="featured_toast_title">已精选</h2>\n        <h4 class="featured_toast_content">最多精选两篇内容，精选后的内容会置顶在profile页</h4>\n        <h6 class="featured_toast_content_descr">(安卓8.0.21、iOS 8.0.24及以上版本可见)</h6>\n        <div class="featured_toast_img">\n          <img src="https://res.wx.qq.com/op_res/leLgHoQssO1-tVR4Hi8uBBJjgJ-DCWt6Ul-ZRvAOYf92rNyLQTk14XOBuZrS9BJWAgwUcdIViq_fMOZbxC4SBg">\n        <div class="featured_toast_button" slot="footer">\n          <mp-button type=\'primary\' @click="closeDialog">知道了</mp-button>\n        </div>\n      </mp-dialog>\n    </div>\n</template>'},"./src/pages/modules/publish/tpl/img.tpl":function(e,t){e.exports='\n<div class="weui-desktop-mass-media weui-desktop-mass-img weui-desktop-mass-appmsg" v-if="fromPublishDialog || item.type==9 || !!item.publish_info" :class="{\'weui-desktop-mass-media_del\':info.is_deleted || info.deleteFlag || info.is_cooling_article}">\n    <div class="weui-desktop-mass-appmsg__hd">\n      <template v-if="!fromPublishDialog">\n        <a class="weui-desktop-mass-appmsg__thumb" :style="\'background-image:url(\\\'\' + cover + \'\\\');\'" :href="cover" target="_blank">\n          <mp-icon icon="defaultPic" :width="32" :height="32"></mp-icon>\n        </a>\n      </template>\n      <template v-else>\n      <div class="weui-desktop-mass-appmsg__thumb" :style="\'background-image:url(\\\'\' + cover + \'\\\');\'">\n        <mp-icon icon="defaultPic" :width="32" :height="32"></mp-icon>\n      </div>\n      </template>\n\n    </div>\n\n    <div class="weui-desktop-mass-appmsg__bd">\n      \x3c!--删除图片标题删除时间气泡begin 前端强信任is_deleted和delete_time字段--\x3e\n      <mp-tooltip position="bottom-center" :delay="300" v-if="info.is_deleted && !info.is_cooling_article" class="weui-desktop-mass-appmsg__tips">\n        <span v-if="info.deleteFormatTime" class="weui-desktop-mass-appmsg__tips_content">删除时间 {{info.deleteFormatTime}}</span>\n        \x3c!--加一层删除时间为空的保护--\x3e\n        <span v-else class="weui-desktop-mass-appmsg__tips_content">已删除</span>       \n        <template v-if="!fromPublishDialog" slot="target">\n          <a v-if="info.title" class="weui-desktop-mass-appmsg__title" :href="actualUrl || \'javascript:;\'" target="_blank">\n            <span v-if="keyword !== \'\'" v-html="info.title"></span>\n            <span v-else v-html="info.title"></span>\n          </a>\n        </template>\n        <template v-else slot="target">\n          <span v-if="info.title" class="weui-desktop-mass-appmsg__title">\n            <span v-if="keyword !== \'\'" v-html="info.highlight_title"></span>\n            <span v-else v-html="info.title"></span>\n          </span>\n        </template>\n      </mp-tooltip>\n      \x3c!--删除图片标题删除时间气泡end--\x3e\n      \n      \x3c!--普通图片标题begin--\x3e\n      <div v-else>\n        <template v-if="!fromPublishDialog">\n          <a v-if="info.title" class="weui-desktop-mass-appmsg__title" :href="actualUrl || \'javascript:;\'" target="_blank">\n            <span v-if="keyword !== \'\'" v-html="info.title"></span>\n            <span v-else v-html="info.title"></span>\n          </a>\n        </template>\n        <template v-else>\n          <span v-if="info.title" class="weui-desktop-mass-appmsg__title">\n            <span v-if="keyword !== \'\'" v-html="info.highlight_title"></span>\n            <span v-else v-html="info.title"></span>\n          </span>\n        </template>\n      </div>\n      \x3c!--普通图片标题end--\x3e\n\n      <num-item v-if="hasnum && !fromPublishDialog" :info="info" :i="i" :item="item"></num-item>\n\n    </div>    \n    <div class="weui-desktop-mass-appmsg__ft" v-if="!fromPublishDialog">\n      \x3c!--数据统计入口begin--\x3e\n      <span class="weui-desktop-mass-media__opr js_del">\n            \x3c!--这里是删除后重新编辑icon--\x3e\n          <div v-if="(info.is_deleted || info.is_cooling_article) && item.copy_appmsg_id"  class="weui-desktop-mass-media__opr__meta">\n            <button slot="target" @click="reeditmsg" class="re-edit_btn weui-desktop-opr-btn weui-desktop-opr-btn_primary">\n              <mp-icon class="re-edit_icon" icon="edit" :width="20" :height="20" color="var(--weuiDesktop_focusColor)"></mp-icon>\n              <span class="re-edit_wording">重新编辑</span>\n            </button>\n          </div>\n          <template v-if="(item.view.status === \'已群发\' || item.view.status === \'已删除\' || item.view.status === \'无法查看\') && item.view.sourceType !== 4">\n          <div class="weui-desktop-mass-media__opr__meta">\n            <mp-tooltip slot="target" class="weui-desktop-link" position="down-center" :content="item.view.dataPageWording" :delay="300">\n              <button slot="target" @click="goToDataPage(info.appmsgid, info.itemidx, item.view.publishDate, item.view.isGoToDataPage)" :class="{\'weui-desktop-opr-btn_disabled\':!item.view.isGoToDataPage}" class="weui-desktop-icon20 weui-desktop-icon-btn weui-desktop-opr-btn weui-desktop-opr-btn_primary">\n                <mp-icon icon="rate" :width="20" :height="20" color="var(--weuiDesktop_focusColor)"></mp-icon>\n              </button>\n            </mp-tooltip>\n          </div>\n        </template>\n        \x3c!--<del-item v-if="hasdel" :i="i" :item="item" :idx="idx" :is-appmsg="item.type==9" :info="info"></del-item>--\x3e\n        \x3c!-- 图片消息没有话题 --\x3e\n        <more-item :i="i" :item="item" :idx="idx" :is-appmsg="item.type==9" :info="info"\n            :show-delete="hasdel" :show-tags="false">\n        </more-item>\n      </span>\n      \x3c!--数据统计入口end--\x3e\n    </div>    \n\n</div>    \n\n<div class="weui-desktop-mass-media weui-desktop-mass-img" v-else :class="{\'weui-desktop-mass-media_del\':info.is_deleted || info.deleteFlag}">\n\n    <a class="weui-desktop-mass-img__thumb" :href="cover" target="_blank">\n      <img :src="cover || info.cover" alt="">\n    </a>\n    \x3c!--<span class="weui-desktop-mass-media__opr js_del">\n      <del-item v-if="hasdel" :i="i" :item="item" :idx="idx" :is-appmsg="item.type==9" :info="info"></del-item>\n    </span>--\x3e\n    \x3c!-- 图片消息没有话题 --\x3e \n    <more-item :i="i" :item="item" :idx="idx" :is-appmsg="item.type==9" :info="info"\n        :show-delete="hasdel" v-if="!fromPublishDialog" :show-tags="false">\n    </more-item>\n\n</div>\n'},"./src/pages/modules/publish/tpl/live.tpl":function(e,t){e.exports='<template>\n  <div class="weui-desktop-mass-media weui-desktop-mass-appmsg" :class="{\'weui-desktop-mass-media_del\': info.is_deleted || info.deleteFlag}">\n    \x3c!-- 封面 --\x3e\n    <div class="weui-desktop-mass-appmsg__hd">\n      <i class="weui-desktop-mass-appmsg__thumb" v-if="info.live_cover_cdnurl" :style="\'background-image:url(\\\'\' + info.live_cover_cdnurl + \'\\\');\'"></i>\n      <i class="weui-desktop-mass-appmsg__thumb weui-desktop-mass-appmsg__thumb_default" v-else style=\'background-color: #E3E4E5;\'></i>\n    </div>\n\n    \x3c!-- title和状态 --\x3e\n    <div class="weui-desktop-mass-appmsg__bd appmsg_live__bg">\n      \x3c!-- 有删除 --\x3e\n      <mp-tooltip v-if="info.is_deleted && !info.is_cooling_article" position="bottom-center" :delay="300" class="weui-desktop-mass-appmsg__tips">\n        <span v-if="info.deleteFormatTime" class="weui-desktop-mass-appmsg__tips_content">删除时间 {{info.deleteFormatTime}}</span>\n        <span v-else class="weui-desktop-mass-appmsg__tips_content">已删除</span>\n        <a slot="target" v-if="!fromPublishDialog" :href="actualUrl || \'javascript:;\'" target="_blank" class="weui-desktop-mass-appmsg__title">\n          <template v-if="info.live_desc">\n            <span class="appmsg_live_desc">{{info.live_desc | titleFilter}}</span>\n            <template v-if="info.live_export_id">\n              <b v-if="info.biz_live_status == 2" class="appmsg_live_tag weui-desktop-key-tag weui-desktop-key-tag__offlive">直播已结束</b>\n              <b v-else-if="info.biz_live_status == 1" class="appmsg_live_tag weui-desktop-key-tag__onlive">\n                <img src="https://res.wx.qq.com/op_res/zWRZkxXDN3HImHbyOUXeWdb_9D9qX0dWcKgwuIGFotLQUaQmDm6ZI9bmxl_uSTinRNbfiU_4r6hTaiOs-VX_Wg">\n              </b>\n            </template>\n          </template>\n          <template v-else>\n            <span>定时群发直播消息</span>\n          </template>\n        </a>\n        <div slot="target" v-else class="weui-desktop-mass-appmsg__title">\n          <template v-if="info.live_desc">\n            <span class="appmsg_live_desc">{{info.live_desc | titleFilter}}</span>\n            <template v-if="info.live_export_id">\n              <b v-if="info.biz_live_status == 2" class="appmsg_live_tag weui-desktop-key-tag">直播已结束</b>\n              <b v-else-if="info.biz_live_status == 1" class="appmsg_live_tag weui-desktop-key-tag__onlive">\n                <img src="https://res.wx.qq.com/op_res/zWRZkxXDN3HImHbyOUXeWdb_9D9qX0dWcKgwuIGFotLQUaQmDm6ZI9bmxl_uSTinRNbfiU_4r6hTaiOs-VX_Wg">\n              </b>\n            </template>\n          </template>\n          <template v-else>\n            <span>定时群发直播消息</span>\n          </template>\n        </div>\n      </mp-tooltip>\n\n      \x3c!-- 正常标题 --\x3e\n      <div v-else>\n        <div class="weui-desktop-mass-appmsg__titile_wrap">\n          <a v-if="!fromPublishDialog" :href="actualUrl || \'javascript:;\'" target="_blank" class="weui-desktop-mass-appmsg__title appmsg_live__title">\n            <template v-if="info.live_desc">\n              <span class="appmsg_live_desc">{{info.live_desc | titleFilter}}</span>\n              <template v-if="info.live_export_id">\n                <b v-if="info.biz_live_status == 2" class="appmsg_live_tag weui-desktop-key-tag weui-desktop-key-tag__offlive">直播已结束</b>\n                <b v-else-if="info.biz_live_status == 1" class="appmsg_live_tag weui-desktop-key-tag__onlive">\n                  <img src="https://res.wx.qq.com/op_res/zWRZkxXDN3HImHbyOUXeWdb_9D9qX0dWcKgwuIGFotLQUaQmDm6ZI9bmxl_uSTinRNbfiU_4r6hTaiOs-VX_Wg">\n                </b>\n              </template>\n            </template>\n            <template v-else>\n              <span>定时群发直播消息</span>\n            </template>\n          </a>\n          <div v-else class="weui-desktop-mass-appmsg__title">\n            <template v-if="info.live_desc">\n              <span class="appmsg_live_desc">{{info.live_desc | titleFilter}}</span>\n              <template v-if="info.live_export_id">\n                <b v-if="info.biz_live_status == 2" class="appmsg_live_tag weui-desktop-key-tag">直播已结束</b>\n                <b v-else-if="info.biz_live_status == 1" class="appmsg_live_tag weui-desktop-key-tag__onlive">\n                  <img src="https://res.wx.qq.com/op_res/zWRZkxXDN3HImHbyOUXeWdb_9D9qX0dWcKgwuIGFotLQUaQmDm6ZI9bmxl_uSTinRNbfiU_4r6hTaiOs-VX_Wg">\n                </b>\n              </template>\n            </template>\n            <template v-else>\n              <span>定时群发直播消息</span>\n            </template>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    \x3c!-- 查看数据 --\x3e\n    <div class="weui-desktop-mass-appmsg__ft">\n      <div class="weui-desktop-mass-media__opr">\n        <template v-if="!fromPublishDialog && item.view && (item.view.status === \'已群发\' || item.view.status === \'已删除\' || item.view.status === \'无法查看\') && item.view.sourceType !== 4">\n          <div class="weui-desktop-mass-media__opr__meta">\n            <mp-tooltip slot="target" class="weui-desktop-link" position="down-center" content=\'前往视频号助手查看直播数据\' :delay="300">\n              <button slot="target" @click="goFinder" class="weui-desktop-icon20 weui-desktop-icon-btn weui-desktop-opr-btn weui-desktop-opr-btn_primary">\n                <mp-icon icon="rate" :width="20" :height="20" color="var(--weuiDesktop_focusColor)"></mp-icon>\n              </button>\n            </mp-tooltip>\n          </div>\n        </template>\n      </div>\n    </div>\n  </div>\n</template>'},"./src/pages/modules/publish/tpl/more.tpl":function(e,t){e.exports='<template>\n  <div class="weui-desktop-mass-media__opr__meta" v-if="showMoreTips">\n  <div class="more_icon">\n    <mp-popover position="up-right" trigger="hover" :disabled="false" v-model="morePopover" @show="componentContent = false">\n      <button slot="target" class="weui-desktop-icon20 weui-desktop-icon-btn weui-desktop-opr-btn weui-desktop-opr-btn_primary">\n        <mp-icon icon="more" :width="20" :height="20"></mp-icon>\n      </button>\n\n        <div slot="content">\n          <tag-item ref="tagitem" :info="info" :i="i" :item="item" :realname-type="realnameType"></tag-item>\n          <template v-if="componentContent">\n            <template v-if="deleteComponent">\n              <del-item :i="i" :idx="idx" v-if="hasdel" :item="item" :is-appmsg="true" :info="info" @cancel="() => {componentContent = false; deleteComponent = false;}"></del-item>\n            </template>\n          </template>\n          <template v-else>\n            <ul class="select_option">\n              <li @click="updateFeaturedList">\n                \x3c!-- 未精选的item，hover判断是否满足精选条件 --\x3e\n                <template v-if="!inFeaturedlist">\n                  <template v-if="item.view.sourceType !== 1">\n                    <mp-popover content="发布的内容暂不可被精选" trigger="hover" width="162" position="down-center" class="more_item_select">\n                      <p slot="target" class="more_item_select_grey">精选</p>\n                    </mp-popover>\n                  </template>  \n                  <template v-else-if="isOutofDate">\n                    <mp-popover content="2021.1.1前群发的内容不可被精选" trigger="hover" width="213" position="down-center" class="more_item_select">\n                      <p slot="target" class="more_item_select_grey">精选</p>\n                    </mp-popover>\n                  </template>  \n                  <template v-else-if="!is_send_all">\n                    <mp-popover content="分组群发的内容不可被精选" trigger="hover" width="177" position="down-center" class="more_item_select">\n                      <p slot="target" class="more_item_select_grey">精选</p>\n                    </mp-popover>\n                  </template>  \n                  <template v-else-if="haveTwoMsg">\n                    <mp-popover content="已精选两篇，无法继续精选" trigger="hover" width="177" position="down-center" class="more_item_select">\n                      <p slot="target" class="more_item_select_grey">精选</p>\n                    </mp-popover>\n                  </template>\n                  <template v-else-if="isText">\n                    <mp-popover content="文本消息不支持和其他类型消息一并精选" trigger="hover" width="150" position="down-center" class="more_item_select">\n                      <p slot="target" class="more_item_select_grey">精选</p>\n                    </mp-popover>\n                  </template>\n                  <template v-else-if="haveText">\n                    <mp-popover content="已精选文本消息，不支持精选更多" trigger="hover" width="218" position="down-center" class="more_item_select">\n                      <p slot="target" class="more_item_select_grey">精选</p>\n                    </mp-popover>\n                  </template>\n                  <template v-else>\n                    <span>精选</span>\n                  </template>\n                </template>\n                \x3c!-- 已精选的item，hover显示取消精选 --\x3e\n                <template v-else>\n                  <span>取消精选</span>\n                </template>\n              </li>\n              <li @click="copyLink" v-if="!!!(item.view&&item.view.card) && !isOldText && !item.copy_type || item.copy_type !== 11">复制链接</li>\n              <li @click="editTags" v-if="showTags && (!item.copy_type || item.copy_type !== 11)">\n                <template v-if="haveTags">\n                  修改合集\n                </template>\n                <template v-else>\n                  添加合集\n                </template>\n              </li>\n              <li v-if="showDelete && hasdel" @click="() => {componentContent = true; deleteComponent = true;}">删除</li>\n            </ul>\n          </template>\n        </div>\n      </mp-popover>\n    </div>\n  </div>\n</template>\n'},"./src/pages/modules/publish/tpl/num.tpl":function(e,t){e.exports='<div class="weui-desktop-mass-media__data-list">\n  \x3c!-- 付费的显示‘打开文章人数’，非付费的显示‘阅读数’ --\x3e\n  <mp-tooltip trigger="hover">\n    <template slot="content" v-if="info.is_pay_subscribe == 1">打开文章人数</template>\n    <template slot="content" v-else>阅读数</template>\n    <div class="weui-desktop-mass-media__data appmsg-view" slot="target">\n      <span class="weui-desktop-mass-media__data__inner">{{info.read_num | formatThousandth}}</span>\n    </div>\n  </mp-tooltip>\n\n  \x3c!-- 付费的显示‘付费人数’ --\x3e\n  <mp-tooltip content="付费人数" trigger="hover" v-if="typeof(info.paysubscribe_num) != \'undefined\'">\n    <a :href="\'/merchant/mppaysubscribe?action=getlatestpay&id=\' + info.appmsgid + \'_\' + info.itemidx" target="_blank" class="weui-desktop-mass-media__data appmsg-pay weui-desktop-icon__response-mouse" slot="target">\n      <span class="weui-desktop-mass-media__data__inner">\n        <span class="weui-desktop-link">{{info.paysubscribe_num | formatThousandth}}</span>\n      </span>\n    </a>\n  </mp-tooltip>\n\n  \x3c!-- 看一看数 --\x3e\n  <mp-tooltip trigger="hover">\n    <template slot="content">在看数</template>\n    <div class="weui-desktop-mass-media__data appmsg-haokan" slot="target">\n      <span class="weui-desktop-mass-media__data__inner">{{info.like_num | formatThousandth}}</span>\n    </div>\n  </mp-tooltip>\n  \x3c!-- <div class="weui-desktop-icon__response-mouse weui-desktop-mass-media__data appmsg-haokan">\n    <span class="weui-desktop-mass-media__data__inner">{{info.like_num}}</span>\n  </div> --\x3e\n\n  \x3c!-- 留言数 --\x3e\n  <mp-tooltip content="留言数" trigger="hover" v-if="typeof(info.comment_id)!=\'undefined\'&info.is_comment_enable">\n    <a :href="\'/misc/appmsgcomment?action=list_latest_comment&begin=0&count=10&mp_version=7&sendtype=MASSSEND&comment_id=\'+info.comment_id" target="_blank" class="weui-desktop-icon__response-mouse weui-desktop-mass-media__data appmsg-comment" slot="target">\n      <span class="js_comment_info weui-desktop-mass-media__data__inner">\n        <span class="weui-desktop-link">{{info.comment_num | formatThousandth}}</span>\n      </span>\n    </a>\n  </mp-tooltip>\n  <a v-else-if="!info.open_fansmsg && info.comment_id" :href="\'/misc/appmsgcomment?action=list_latest_comment&begin=0&count=10&mp_version=7&sendtype=MASSSEND&comment_id=\' + info.comment_id" target="_blank" class="weui-desktop-icon__response-mouse weui-desktop-mass-media__data appmsg-comment">\n    <span class="js_comment_info weui-desktop-mass-media__data__inner">\n      <span class="weui-desktop-link">开启留言</span>\n    </span>\n  </a>\n\n  <mp-popover position="up-center" v-model="info.commentPopShow" trigger="click">\n    <div slot="target" class="weui-desktop-icon__response-mouse weui-desktop-mass-media__data appmsg-comment appmsg-comment_link" v-if="typeof(info.comment_id)!=\'undefined\'&!info.is_comment_enable&info.is_deleted&!info.open_fansmsg">\n      \x3c!-- 留言关闭 隐藏留言数 --\x3e\n      <span class="js_comment_info weui-desktop-mass-media__data__inner">\n        <span class="weui-desktop-link">开启留言</span>\n      </span>\n    </div>\n    <div slot="content">确定开启留言？</div>\n    <div slot="bar">\n      <mp-button type="primary" @click="openComment(info,i,item.msgid)">确定</mp-button>\n      <mp-button type="default" @click="info.commentPopShow=false">取消</mp-button>\n    </div>\n  </mp-popover>\n\n  <mp-tooltip trigger="hover">\n    <div class="weui-desktop-mass-media__data appmsg-like" slot="target">\n      <span class="weui-desktop-mass-media__data__inner">{{info.old_like_num | formatThousandth}}</span>\n    </div>\n    <span slot="content">点赞数</span>\n  </mp-tooltip>\n  <mp-tooltip content="赞赏数" trigger="hover" v-if="typeof(info.reward_money)!=\'undefined\'">\n    <a :href="\'/merchant/reward?action=getlatestreward&appmsgid=\'+info.appmsgid+\'&idx=\'+(i+1)+\'&count=10\'" target="_blank" class="weui-desktop-icon__response-mouse weui-desktop-mass-media__data appmsg-reward" slot="target">\n      <span class="js_comment_info weui-desktop-mass-media__data__inner">\n        <span class="weui-desktop-link">{{info.reward_money  | formatThousandth}}</span>\n      </span>\n    </a>\n  </mp-tooltip>\n\n  <mp-tooltip content="被转载/引用/分享" trigger="hover">\n    <a :href="\'/cgi-bin/appmsgcopyright?action=reprint&begin=0&count=10&id=\' + info.appmsgid + \'&idx=\' + (i + 1) + \'&need_quote=1\'" target="_blank" class="weui-desktop-icon__response-mouse weui-desktop-mass-media__data appmsg-forward" slot="target" v-if="typeof(info.reprint_num)!=\'undefined\'">\n      <span class="weui-desktop-mass-media__data__inner">\n        <span class="weui-desktop-link">{{info.reprint_num | formatThousandth}}</span>\n      </span>\n    </a>\n  </mp-tooltip>\n\n  \x3c!-- 投票数 --\x3e\n  <mp-tooltip content="投票" trigger="hover">\n    <a :href="\'/cgi-bin/newoperatevote?action=show&t=vote/vote_detail&supervoteid=\'+info.super_vote_id[0]" target="_blank" class="weui-desktop-icon__response-mouse weui-desktop-mass-media__data appmsg-vote" v-if="typeof(info.vote_person_num)!=\'undefined\'" slot="target">\n      <span class="weui-desktop-mass-media__data__inner">\n        <span class="weui-desktop-link">{{info.vote_person_num | formatThousandth}}</span>\n      </span>\n    </a>\n  </mp-tooltip>\n</div>\n\n'},"./src/pages/modules/publish/tpl/publish_tpl.js":function(m,r,e){function d(e){return function(e){if(Array.isArray(e))return u(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return u(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(i="Object"===i&&e.constructor?e.constructor.name:i)||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?u(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,s=new Array(t);i<t;i++)s[i]=e[i];return s}var Vue=e("./node_modules/vue/dist/vue.min.js"),c=e("./src/pages/modules/utils/time.js"),p=e("./src/mmbizweb-web2-common/modules/utils/cgi.js"),_=e("./src/3rd/moment/moment.js"),g=e("./src/pages/modules/utils/url.js"),t=e("./src/pages/modules/publish/tpl/num.tpl"),f=e("./src/pages/modules/publish/tpl/del.tpl"),i=e("./src/pages/modules/publish/tpl/tag.tpl"),v=e("./src/pages/modules/publish/tpl/more.tpl"),h=e("./src/pages/modules/publish/tpl/appmsg.tpl"),b=e("./src/pages/modules/publish/tpl/video.tpl"),w=e("./src/pages/modules/publish/tpl/img.tpl"),y=e("./src/pages/modules/publish/tpl/audio.tpl"),k=e("./src/pages/modules/publish/tpl/text.tpl"),x=e("./src/pages/modules/publish/tpl/live.tpl"),D=e("./src/pages/modules/publish/tpl/featuredtoast.tpl"),S=e("./src/pages/modules/utils/str_util.js"),A=e("./src/pages/modules/common/emoji/emoji_data.js"),P=(e("./src/pages/modules/common/emoji/emoji.js"),e("./src/3rd/soundmanager2.js")),T=e("./src/3rd/editor/common/monitor.js"),I=e("./src/pages/modules/utils/string.js"),j=e("./src/3rd/editor/common/browser.js").browser,C=e("./src/mmbizweb-web2-common/utils/thousandth.js").thousandth,M=e("./src/3rd/utils/comm_store.js"),s=e("./src/pages/modules/common/album_utils.js"),L=s.originalCheckResult,F=s.ordinaryCheckResult,N=s.publishStatusCheckResult;function E(e){return"string"==typeof e?e:3600<e?Math.floor(e/3600)+":"+_.unix(e).format("mm:ss"):_.unix(e).format("mm:ss")}function $(e,t){if(0<arguments.length)for(var i in t){var s;void 0!==t[i]&&(s=new RegExp("({"+i+"})","g"),e=e.replace(s,t[i]))}return e}e("./src/pages/modules/publish/tpl/publish_tpl.less"),e("./src/pages/modules/media/audio/audio_chatmsg/audio_chatmsg.js"),e("./src/pages/album/modules/album_intro/album_intro.js");for(var n={emojiImg:'<img src="https://res.wx.qq.com/mpres/zh_CN/htmledition/comm_htmledition/images/pic/common/pic_blank.gif"  class="icon_emotion_single #style#" alt="#name#">',emojiDataMap:{}},a=0,z=A.length;a<z;a++){var o=A[a];o.cn&&!n.emojiDataMap[o.cn]&&(n.emojiDataMap[o.cn]={index:a}),o.hk&&!n.emojiDataMap[o.hk]&&(n.emojiDataMap[o.hk]={index:a}),o.us&&!n.emojiDataMap[o.us]&&(n.emojiDataMap[o.us]={index:a})}var l={audioPlayer:null,playing_item:null,playing_timer:null,is_playing:!1,init:function(){this.audioPlayer=P,this.audioPlayer.setup({url:"/mpres/zh_CN/htmledition/plprecorder/biz_web/",preferFlash:!1,debugMode:!1})},play:function(e){var t=e.duration,i=e.id,s=e.voice_encode_fileid,n=(e.playing_duration=0,this),a="",a=s?"https://res.wx.qq.com/voice/getvoice?mediaid="+s+"&token="+wx.commonData.data.t+"&lang=zh_CN":"/cgi-bin/getvoicedata?source=mass&msgid="+i+"&token="+wx.commonData.data.t;this.audioPlayer.createSound({id:i,url:a,onfinish:function(){n.reset()}}),this.audioPlayer.play(i),this.playing_timer=setInterval(function(){e.playing_duration++,e.playing_duration<t&&(e.progress=e.playing_duration/t*100)},1e3),this.playing_item=e,this.is_playing=!0,e.isPlaying=!0},stop:function(e){var t=e.id;this.audioPlayer.stop(t),clearInterval(this.playing_timer),this.playing_timer=null,this.playing_item=null,this.is_playing=!1,e.isPlaying=!1,e.playing_duration=0,e.progress=0},reset:function(){this.audioPlayer.stop(this.playing_item.id),clearInterval(this.playing_timer),this.playing_timer=null,this.is_playing=!1,this.playing_item.isPlaying=!1,this.playing_item.playing_duration=0,this.playing_item.progress=0,this.playing_item=null}},s=(window.onload=function(){l.init()},{inject:["customerType","hasPayPlugin"],props:{info:{type:Object},i:{type:Number,default:1},item:{type:Object},keyword:{default:""},canUsePublicTag:{type:Number,default:0},realnameType:{type:Number,default:0},customerType:{type:Number,default:1},fromPublishDialog:{type:Boolean,default:!1},isAlbum:{type:Boolean,default:!1},isPayAlbum:{type:Boolean,default:!1}},computed:{editUrl:function(){return"/cgi-bin/appmsg?t=media/appmsg_edit&action=edit&type=77&appmsgid=".concat(this.item.copy_appmsg_id,"&isMul=1&get_delete=1")},hasnum:function(){return!(!this.item||0===this.item.type||this.fromPublishDialog)&&(!!this.item.publish_info||(10001===this.item.type||9===this.item.type||10===this.item.type||11===this.item.type)&&this.item.view&&!this.item.view.noReadNum&&!this.item.view.isFirst&&!this.item.timerSendInfo)},hasdel:function(){return!!this.item.publish_info||!(!this.item||0===this.item.type||this.fromPublishDialog)&&(10001===this.item.type?!1===this.info.is_deleted:5===this.info.share_type&&9===this.item.type?!1===this.info.is_deleted&&6!==this.item.sent_result.msg_status:9===this.item.type||10===this.item.type||11===this.item.type?!this.item.timerSendInfo&&!1===this.info.is_deleted&&(2===this.item.sent_result.msg_status||5===this.item.sent_result.msg_status||6===this.item.sent_result.msg_status):!this.item.timerSendInfo&&(2===this.item.sent_result.msg_status||5===this.item.sent_result.msg_status))},isMediaAccount:function(){return 2===this.realnameType||9===this.realnameType},isInstitutionAccount:function(){return 11===this.customerType},actualUrl:function(){return 1===this.info.is_cooling_article?this.info.cooling_content_url:1===this.info.is_pay_subscribe?this.info.pay_content_url:this.info.content_url}},filters:{formatDuration:E,formatThousandth:function(e){return C(e)}},methods:{checkAppmsgJumpSuc:function(t){var e=t.split("#");2===e.length&&p.get({url:(e[0]+"&f=json").replace("http","https")},function(e){e.base_resp&&0===e.base_resp.ret||(e=(e.base_resp||e).ret,window.WX_BJ_REPORT&&window.WX_BJ_REPORT.BadJs&&window.WX_BJ_REPORT.BadJs.report("check jump appmsg","bizuin: ".concat(window.wx.commonData.data.uin," | timestamp: ").concat(Date.now()),{mid:"mmbizweb:checkJumpAppmsg",view:"web_business",info:{url:t,ret:e}}))})},reeditmsg:function(){window.openUrl(this.editUrl,{},!0)},goToDataPage:function(e,t,i,s){return T.setSum(238323,1,1).send(),s&&(window.openUrl("/misc/appmsganalysis?action=detailpage&msgid=".concat(e,"_").concat(t,"&publish_date=").concat(i,"&type=int"),{},!0),T.setSum(238323,2,1).send()),!1},modifyItem:function(e,t,i,s){return 4!==s&&1!==s&&2!==s||window.openUrl("/cgi-bin/masssendmodify?action=edit&appmsgid=".concat(e,"&idx=").concat(t,"&msgid=").concat(i),{},!0),!1},undel:function(e){var t;e.can_undelete&&(t=this,p.post({url:"/cgi-bin/masssendpage?action=undelete",data:{id:e.msgid,idx:e.itemidx}},function(e){0===e.base_resp.ret?(t.$tipsSuc("恢复成功"),setTimeout(function(){location.reload()},1e3)):t.$tipsErr("系统错误，请稍后再试")},function(){t.$tipsErr("系统错误，请稍后再试")}))},openComment:function(t,e,i){var s=this;p.post({url:"/misc/appmsgcomment?action=set_can_comment",data:{enabled:1,comment_id:t.comment_id,app_msg_id:i,app_msg_item_idx:e}},function(e){0===e.base_resp.ret?(s.$tipsSuc("开启留言成功"),t.is_comment_enable=!0):200007===e.base_resp.ret&&s.$tipsErr("该文章留言因违反相关规定被关闭")},function(){s.$tipsErr("系统错误，请稍后再试")}),t.commentPopShow=!1},audioPlay:function(e){this.fromPublishDialog||(!1===l.is_playing?l.play(e):!0===l.is_playing&&(e.isPlaying?l.stop(e):(l.reset(),l.play(e))))}}}),e={template:t,mixins:[s]},t={template:i,mixins:[s],computed:{btnDisabled:function(){return!1}},methods:{addTags:function(){this.$bus.$emit("tag-item:addTags",{info:this.info})},removeTags:function(){this.$bus.$emit("tag-item:removeTags",{info:this.info})},getTagsInfo:function(e){var t=e.appmsg_album_info,e=e.public_tag_info,i=[],s=(e&&(i=e.public_tag_list&&e.public_tag_list.map(function(e){return{id:e.tag_id||e.id,title:e.tag_name||e.title,isPublic:!0}})||[]),t&&t.appmsg_album_infos.map(function(e){return{id:e.id||"",title:e.title||"",isPublic:!1}})||[]),i=i.filter(function(t){return!s.find(function(e){return e.title===t.title})});return s.concat(i)}}},i={template:f,mixins:[s],props:{isAppmsg:Boolean,idx:{type:Number,default:1}},methods:{delItem:function(e,t,i,s){if(void 0===s&&(s=t+1),(9===e.type||10===e.type||11===e.type)&&e.appmsg_info&&1<e.appmsg_info.length)switch(e.appmsg_info[t].can_delete_status){case 0:this.$bus.$emit("del-item:delete",{msgid:e.msgid,idx:s,i:t,isAppmsg:i,item:e});break;case 1:this.$tipsErr("该内容经合议涉嫌洗稿，已被替换为洗稿中间页展示，不可自行删除");break;case 2:this.$tipsErr("该内容经鉴定涉嫌造谣，已被替换为谣言中间页展示，不可自行删除");break;default:this.$bus.$emit("del-item:delete",{msgid:e.msgid,idx:s,i:t,isAppmsg:i,item:e})}else this.$bus.$emit("del-item:delete",{msgid:e.msgid,idx:s,i:t,isAppmsg:i,item:e})}}},f={name:"more-item",components:{"del-item":i,"tag-item":t},template:v,mixins:[s],inject:["is_send_all"],props:{isAppmsg:Boolean,idx:{type:Number,default:1},showDelete:{type:Boolean,default:!1},isOldText:{type:Boolean,default:!1},showTags:{type:Boolean,default:!1}},data:function(){return{componentContent:!1,deleteComponent:!1,tagComponent:!1,showMoreContent:!1,morePopover:!1}},methods:{copyLink:function(){var e=document.createElement("input");e.value=this.info.content_url,document.body.appendChild(e),e.select(),document.execCommand("copy"),this.morePopover=!1,this.$tipsSuc("复制成功"),document.body.removeChild(e)},editTags:function(){this.componentContent=!0,this.$refs.tagitem.addTags(),this.componentContent=!1},getTagsInfo:function(e){var t=e.appmsg_album_info,e=e.public_tag_info,i=[],s=(e&&(i=e.public_tag_list&&e.public_tag_list.map(function(e){return{id:e.tag_id||e.id,title:e.tag_name||e.title,isPublic:!0}})||[]),t&&t.appmsg_album_infos.map(function(e){return{id:e.id||"",title:e.title||"",isPublic:!1}})||[]),i=i.filter(function(t){return!s.find(function(e){return e.title===t.title})});return s.concat(i)},updateFeaturedList:function(){var e,i,s,n,a,t,o=this;(1!==this.item.view.sourceType||!this.is_send_all||this.haveTwoMsg||this.isText||this.haveText||this.isOutofDate)&&!this.inFeaturedlist||(e=(t=this.info).msgid,i=t.itemidx,s=t.appmsgid,n=t.share_type,a=this.inFeaturedlist?"2":"1",t="/cgi-bin/featuredlist?sub=update&op=".concat(a,"&msgid=").concat(e,"&appmsgid=").concat(s,"&itemidx=").concat(i,"&token=").concat(wx.commonData.data.t),p.post({url:t},function(e){var t;e.base_resp&&0===e.base_resp.ret?(t=o.$store.state.featuredlist,"1"==a?(t=[].concat(d(t),[{appmsgid:s,share_type:n,itemidx:i}]),o.$bus.$emit("featuredDialog")):(t=t.filter(function(e){return e.appmsgid!==s||e.itemidx!==i}),o.$tipsSuc("已取消精选"),o.$bus.$emit("deleteInFeaturedTab",{appmsgid:s,itemidx:i})),o.morePopover=!1,o.$store.dispatch("updateFeaturedlist",{featuredlist:t})):e.base_resp&&803003===e.base_resp.ret?o.$tipsErr("此帐号因违规不能精选内容"):e.base_resp&&803004===e.base_resp.ret?o.$tipsErr("此文章因违规不可被精选"):o.$tipsErr("网络请求失败，请稍后重试")}))}},computed:{haveTags:function(){if(!this.info)return!1;var e=this.getTagsInfo(this.info);return!!e&&0<e.length},inFeaturedlist:function(){var e=this.info,t=e.appmsgid,i=e.itemidx;return!!this.$store.state.featuredlist.find(function(e){return e.appmsgid===t&&e.itemidx===i})},isOutofDate:function(){var e=this.item.view&&this.item.view.publishDate;return!!e&&+e.split("-")[0]<2021},haveTwoMsg:function(){return 2<=this.$store.state.featuredlist.length},isText:function(){return this.$store.state.featuredlist.length&&10===this.info.share_type},haveText:function(){return!!this.$store.state.featuredlist.length&&10===this.$store.state.featuredlist[0].share_type},showMoreTips:function(){return"发布成功"===this.item.view.status||"已群发"===this.item.view.status||"已发布"===this.item.view.status||/^\d+处替换失败$/.test(this.item.view.status)}}},v={template:h,mixins:[s],components:{},props:{idx:Number,default:1},computed:{showMoreTips:function(){return!this.info.is_deleted&&("发布成功"===this.item.view.status||"已群发"===this.item.view.status||"已发布"===this.item.view.status||/^\d+处替换失败$/.test(this.item.view.status))&&12!==this.info.copyright_status&&101!==this.info.copyright_status&&201!==this.info.copyright_status&&202!==this.info.copyright_status}}},h={template:b,mixins:[s],props:{idx:Number,default:1},components:{"num-item":e,"del-item":i,"tag-item":t},computed:{cover:function(){return this.fromPublishDialog||9===this.item.type||16===this.item.type||10001===this.item.type?this.info.cover:4===this.item.type?g.fullUrl("/cgi-bin/getimgdata?msgid="+this.item.msgid+"&mode=small&source=mass"):""}}},b={template:y,mixins:[s],props:{idx:Number,default:1},components:{"num-item":e,"del-item":i,"tag-item":t},mounted:function(){},methods:{go:function(){this.$emit("go"),this.actualUrl&&window.openUrl(this.actualUrl,{},!0)}}},y={template:w,mixins:[s],props:{idx:Number,default:1},components:{"num-item":e,"del-item":i},computed:{cover:function(){return 9===this.item.type||this.item.publish_info?this.info.cover:2===this.item.type?this.info.url||g.fullUrl("/cgi-bin/getimgdata?msgid="+this.item.msgid+"&mode=large&source=mass&fileId="+this.item.image_info.fileid):this.item.cover}}},w={template:k,mixins:[s],props:{idx:Number,default:1},components:{"num-item":e,"del-item":i},computed:{highLight:function(){var e=(this.fromPublishDialog?this.info.title:this.info.highlight_title).replace(/<em class=\"highlight\">/g,"__s{em}__").replace(/<\/em>/g,"__e{em}__");return e=(e=S.html(e,!0)).replace(/__s{em}__/g,'<em class="highlight">').replace(/__e{em}__/g,"</em>"),this.$options.filters.emojiFormat(e)},titleAfterFilter:function(){var e=this.$options.filters.emojiFormat(this.$options.filters.titleFilter(this.info.title)).replace(/&amp;/g,"&").replace(/&nbsp;/g," ");return j.safari?e.slice(0,113):e.replace(/\n/g,"<br>")}},filters:{titleFilter:function(e){return S.html(e,!0)},emojiFormat:function(e){return/\[[^\[\]]+\]/.test(e)?e.replace(/\[[^\[\]]+\]/g,function(e){var t;return n.emojiDataMap[e]&&A[n.emojiDataMap[e].index]?(t=A[n.emojiDataMap[e].index],n.emojiImg.replace("#name#",e).replace("#style#",t.style)):e}):e}}},k={template:x,mixins:[s],methods:{goFinder:function(){window.open("https://channels.weixin.qq.com")}},filters:{titleFilter:function(e){return I.htmlDecode(e)}}},x={template:D,data:function(){return{isFirstFeatured:!1,key:"featuredlist",showDialog:!1}},created:function(){var t=this;M.get({key:this.key,success:function(e){null===e?t.isFirstFeatured=!0:e&&void 0!==e.isFirstFeatured&&(t.isFirstFeatured=e.isFirstFeatured)},error:function(e){void 0!==window.WX_BJ_REPORT&&window.WX_BJ_REPORT.BadJs&&"function"==typeof window.WX_BJ_REPORT.BadJs.onError&&window.WX_BJ_REPORT.BadJs.onError(e,{info:"get featuredStatusErr"}),t.$tipsErr("获取精选状态失败，请检查网络")}}),this.$bus.$on("featuredDialog",function(){t.isFirstFeatured?M.set({key:t.key,value:{isFirstFeatured:!1},success:function(){t.showDialog=!0,t.isFirstFeatured=!1},error:function(e){void 0!==window.WX_BJ_REPORT&&window.WX_BJ_REPORT.BadJs&&"function"==typeof window.WX_BJ_REPORT.BadJs.onError&&window.WX_BJ_REPORT.BadJs.onError(e,{info:"set featuredStatusErr"}),t.$tipsErr("更新精选状态失败，请检查网络")}}):t.$tipsSuc("已精选")})},methods:{closeDialog:function(){this.isFirstFeatured=!1,this.showDialog=!1}}};function U(t){switch(t.publish_info.publish_status){case 1:case 2:t.view.status="等候发表",t.view.msg="正在排队等候系统发表，可能需要10-20分钟";break;case 3:case 4:case 5:t.view.status="审核中",t.view.msg="审核中，预计需要10-20分钟";break;case 102:t.view.status="发布失败",t.publish_info.check_results?(e=t.publish_info.check_results,t.view.msg=[],e.forEach(function(e){t.view.msg.push(N({item:JSON.parse(e.result),itemAppealStatus:e.appeal_status}))})):t.view.msg="此内容发表失败无法查看";break;case 103:t.view.status="发布失败",t.view.msg="此内容发布失败，请前往草稿箱修改后重试";break;case 104:t.view.status="发布失败",t.view.msg="此内容因违规无法查看，请前往草稿箱修改后重试";var e=t.publish_info.xa_check_items;e&&e.forEach(function(e){1===e.status&&t.appmsg_info[e.idx-1]&&(t.appmsg_info[e.idx-1].deleteFlag=!0)});break;case 200:var e=t.publish_info.replace_scene_info;e&&!e.all_result?(e=e.replace_infos.filter(function(e){return!e.result}),t.view.status="".concat(e.length,"处替换失败"),t.view.replaceFailNumber=e.length):t.view.status="已发布",t.view.msg="已发布内容可被自定义菜单、自动回复、合集引用，也可用于公开传播";break;case 300:t.view.status="已删除",t.view.msg="内容已被删除，用户无法查看该内容";break;case 301:t.view.status="无法查看",t.view.msg="此内容因违规无法查看";break;case 400:t.view.status="发布失败",t.view.msg="此内容发布失败，请前往草稿箱修改后重试";break;default:t.view.status="等候发表",t.view.msg="正在排队等候系统发表，可能需要10-20分钟"}return t}function O(t){switch(t.view.isFromApp=t.sent_info.func_flag&1<<28,t.sent_result.msg_status){case 11:t.view.status="发表中",t.view.msg="群发图文原创情况检测结果已通过模版消息下发到管理员的微信号，请前往操作确认",t.view.noReadNum=!0;break;case 12:t.view.status="群发失败",t.view.msg="管理员已在群发图文原创情况检测结果确认页取消本条定时消息",t.view.noReadNum=!0;break;case 13:t.view.status="群发失败",t.view.msg="群发图文原创情况检测结果过期未确认，已取消本条定时消息",t.view.noReadNum=!0;break;case 14:t.view.sourceType=2,t.view.status="已发布";break;case 1:case 101:case 102:case 103:case 104:case 107:t.view.status="审核中";break;case 105:case 106:t.view.status="发表中";break;case 2:t.view.status="已群发";break;case 5:t.view.status=0<t.sent_status.progress?"已群发":"群发失败",2===t.sent_result.send_fail_reason&&(t.view.status="审核失败"),t.sent_result.can_retry_masssend&&1!==t.sent_result.send_fail_reason&&(t.view.status="待确认",t.view.msg="可进行补发，补发时将过滤已收到消息的用户",t.view.confirmWording="确认补发"),"视频转码失败"===t.sent_result.msg_fail_reason&&(t.view.msg='视频转码失败，请前往<a target="_blank" href="/cgi-bin/appmsg?begin=0&count=10&action=list_video&type=15">素材库</a>查看详情'),t.view.msg=t.view.msg||t.sent_result.msg_fail_reason||"","SENDFAIL_NOT_LIVE_OPEN"===t.sent_result.refuse_reason?(t.view.status="群发失败",(t.appmsg_info||[]).forEach(function(e){19===e.share_type&&(e.live_export_id?t.view.msg="群发开始时直播已结束":t.view.msg="在定时群发时间未开启直播")})):"SENDFAIL_GET_FINDER_LIVE_FAIL"===t.sent_result.refuse_reason&&(t.appmsg_info||[]).forEach(function(e){19===e.share_type&&2===e.biz_live_status&&(t.view.status="群发失败",t.view.msg="该直播已结束，群发时未查询到直播信息")});break;case 6:if(t.view.noReadNum=!0,t.sent_result.reject_index_list&&0<t.sent_result.reject_index_list.length&&9===t.type)t.view.status="群发失败",t.sent_result.reject_titles=[],t.sent_result.reject_index_list.forEach(function(e){1<t.appmsg_info.length&&t.sent_result.reject_titles.push(t.appmsg_info[e].title),t.appmsg_info[e].deleteFlag=!0});else switch(t.view.status="审核失败",t.sent_result.refuse_reason){case"10001":t.view.msg="垃圾广告或骚扰";break;case"20001":t.view.msg="违反相关法规";break;case"20002":t.view.msg="色情或性暗示";break;case"20004":t.view.msg="违反相关规定";break;case"20006":t.view.msg="涉嫌违法";break;case"20008":t.view.msg="涉嫌欺诈";break;case"20013":t.view.msg="涉嫌侵权";break;case"21000":t.view.msg="违反相关规定";break;case"CHECKFAIL_LIVE_AUDIT_REJECT":t.view.msg="当前直播未通过审核，不可群发";break;default:t.view.msg=""}break;case 7:t.view.status="已删除";break;case 8:t.view.status="无法查看",t.view.msg="此内容因违规无法查看";break;case 301:t.view.status="等候发表",t.view.wording="等候发表";break;case 303:t.view.status="视频审核中";break;default:t.view.status=""}return t}function R(e){var t,i={},s=window.wx.commonData.data.uin_base64||"",n=(e.view.link=$('<a href="{albumUrl}" target="_blank">{albumTitle}</a>',{albumTitle:I.htmlEncode(e.album_result.album_title),albumUrl:"https://mp.weixin.qq.com/mp/appmsgalbum?action=getalbum&album_id=".concat(e.album_result.album_id,"&__biz=").concat(s,"#wechat_redirect")}),e.view.albumType=function(e){var t="";switch(+e){case 0:t="图文";break;case 5:t="视频";break;case 7:t="音频";break;default:t="图文"}return t}(e.album_result.album_type),e.album_result.msg_status);switch(n){case 1:e.view.status="发布中";break;case 2:e.view.status="发布失败",e.album_result.msg_fail_reason?(i=L({item:JSON.parse(e.album_result.msg_fail_reason),isMediaAccount:this.isMediaAccount()}),e.view.msg=i.reason):e.view.msg="此内容发布失败无法查看";break;case 3:case 6:e.view.status="已发布";break;case 4:case 15:e.view.status="待确认",e.album_result.msg_fail_reason&&((t=JSON.parse(e.album_result.msg_fail_reason)).source_info?i=L({item:t,isMediaAccount:this.isMediaAccount()}):i.reason='该内容已申诉通过，可在当前页面继续发布。<span class="weui-desktop-tips">（提醒：如在合集里重新添加该素材会导致再次原创校验失败）</span>',e.view.msg=i.reason),4===n?e.view.confirmWording="取消原创并发布":15===n&&(e.view.confirmWording="继续发布");break;case 5:case 13:e.view.status="已发布",e.view.removed=!0,e.view.updateTime=c.timeFormat(e.album_result.update_time),e.view.msg="从合集"+e.view.link+"移除";break;case 9:e.view.status="发布失败",e.view.removed=!0,e.view.updateTime=c.timeFormat(e.album_result.update_time),e.view.msg="从合集"+e.view.link+"移除";break;case 14:e.view.status="内容被移除",e.view.removed=!0,e.view.updateTime=c.timeFormat(e.album_result.update_time),e.view.msg="非原创内容不可发布到合集，该内容已从合集"+e.view.link+"移除，详情请查看相应站内信通知。";break;case 7:e.view.status="已删除",e.appmsg_info&&!e.appmsg_info.length?e.appmsg_info.is_deleted=!0:e.appmsg_info[0].is_deleted=!0;break;case 8:e.view.status="无法查看",e.view.msg="此内容因违规无法查看";break;case 20:e.view.status="发布失败",e.album_result.msg_fail_reason?e.view.msg=F({item:e.album_result.msg_fail_reason,isMediaAccount:this.isMediaAccount()}):e.view.msg="此内容发布失败无法查看";break;case 21:switch(e.view.status="发布失败",e.album_result.msg_fail_reason){case"10001":e.view.msg="垃圾广告或骚扰";break;case"20001":e.view.msg="违反相关法规";break;case"20002":e.view.msg="色情或性暗示";break;case"20004":e.view.msg="违反相关规定";break;case"20006":e.view.msg="涉嫌违法";break;case"20008":e.view.msg="涉嫌欺诈";break;case"20013":e.view.msg="涉嫌侵权";break;case"21000":e.view.msg="违反相关规定";break;default:e.view.msg="此内容发布失败无法查看"}break;case 22:e.view.status="发布失败",e.album_result.msg_fail_reason?((t=JSON.parse(e.album_result.msg_fail_reason)).source_info?i=L({item:t,isMediaAccount:this.isMediaAccount()}):i.reason="此内容发布失败无法查看",e.view.msg=i.reason):e.view.msg="此内容发布失败无法查看";break;default:e.view.status=""}return e}function W(e,t){switch(e.view.link=$('<a href="{videoUrl}" target="_blank">查看视频链接</a>',{videoUrl:e.appmsg_info[0].content_url}),e.sent_result.msg_status){case 1:e.view.status="已发布",e.view.msg="已发布内容可被自定义菜单、自动回复、合集引用，也可用于公开传播";break;case 2:e.view.status=103===t?"发布失败":"群发失败",e.view.msg=e.sent_result.msg_fail_reason;break;case 3:e.view.status="审核失败",e.view.msg=e.sent_result.msg_fail_reason;break;case 4:e.view.status="视频审核中";break;case 5:e.view.status="发布失败",e.view.msg="此内容因违规无法查看，请前往<a target='_blank' href='/cgi-bin/appmsg?begin=0&count=10&type=77&action=list_card'>草稿箱</a>修改后重试";break;case 6:e.view.status="已删除",e.appmsg_info.is_deleted=!0;break;default:e.view.status=""}return e}Vue.component("num-item",e),Vue.component("del-item",i),Vue.component("tag-item",t),Vue.component("more-item",f),Vue.component("featured-toast",x),Vue.component("appmsg-item",v),Vue.component("appmsg-video-item",h),Vue.component("appmsg-audio-item",b),Vue.component("appmsg-img-item",y),Vue.component("appmsg-text-item",w),Vue.component("appmsg-live-item",k),m.exports={mixin:s,formatTime:E,formatDeleteTime:function(e){return _.unix(e).format("YYYY年MM月DD日 HH:mm")},formatWords:$,getPublishStatus:U,getSendStatus:O,getAlbumStatus:R,getVideoStatus:W,getStatus:function(e,t){var i=new Map([["media",1],["album",2],["video",3],["publish",4],[101,1],[102,2],[103,3],[1,4]]);return e.view.sourceType=i.get(t),(i=(e=(i=new Map([[1,O.bind(this)],[2,R.bind(this)],[3,W.bind(this)],[4,U.bind(this)]])).get(e.view.sourceType)&&i.get(e.view.sourceType)(e,t)).appmsg_info).length&&i.every(function(e){return e.is_cooling_article})&&(e.view.status="无法查看",e.isCoolingItem=!0),e}}},"./src/pages/modules/publish/tpl/publish_tpl.less":function(e,t,i){},"./src/pages/modules/publish/tpl/tag.tpl":function(e,t){e.exports='\x3c!-- <mp-tooltip\n    class="weui-desktop-link"\n    position="down-center"\n    :delay="300"\n  >\n  <button slot="target" class="weui-desktop-icon20 weui-desktop-icon-btn weui-desktop-opr-btn weui-desktop-opr-btn_primary" :class="{ \'weui-desktop-opr-btn_disabled\': btnDisabled }" @click="addTags">\n    <icon-svg src="pages/modules/base/svg/default/common-tag.svg?__symbol"></icon-svg>\n    <i class="replace_icon_svg20__common-tag"></i> \n  </button>\n  <template slot="content">\n    <template v-if="info.share_type === 0 && info.copyright_status != 11 && !isMediaAccount && !isInstitutionAccount">非原创文章不能参与合集</template>\n    <template v-else>添加合集</template>\n    <template>添加合集</template>\n  </template>\n</mp-tooltip>--\x3e\n\n\n\x3c!-- <mp-tooltip\n  v-else\n  class="weui-desktop-link"\n  content="删除合集"\n  position="down-center"\n  :delay="300"\n>\n  <button slot="target" class="weui-desktop-icon-btn weui-desktop-opr-btn weui-desktop-opr-btn_primary" @click="removeTags">\n    <icon-svg src="pages/modules/base/svg/default/common-tag-delete.svg?__symbol"></icon-svg>\n  </button>\n</mp-tooltip> --\x3e'},"./src/pages/modules/publish/tpl/text.tpl":function(e,t){e.exports='<div class="weui-desktop-mass-media weui-desktop-mass-appmsg weui-desktop-mass-text_primary" :class="{\'weui-desktop-mass-media_del\':info.is_deleted || info.deleteFlag || info.is_cooling_article}">\n  <div class="weui-desktop-mass-text__bd">\n    \x3c!--删除文字标题删除时间气泡begin 前端强信任is_deleted和delete_time字段--\x3e\n    <mp-tooltip position="bottom-center" :delay="300" v-if="info.is_deleted && !info.is_cooling_article" class="weui-desktop-mass-appmsg__tips">\n      <span v-if="info.deleteFormatTime" class="weui-desktop-mass-appmsg__tips_content">删除时间 {{info.deleteFormatTime}}</span>\n      \x3c!--加一层删除时间为空的保护--\x3e\n      <span v-else class="weui-desktop-mass-appmsg__tips_content">已删除</span>      \n      <template v-if="!fromPublishDialog" slot="target">\n        <a v-if="keyword !== \'\'" :href="actualUrl || \'javascript:;\'" target="_blank" class="weui-desktop-mass-appmsg__title" v-html="highLight">\n        </a>\n        <a v-else :href="actualUrl || \'javascript:;\'" target="_blank" class="weui-desktop-mass-appmsg__title" v-html="titleAfterFilter">\n        </a>\n      </template>\n      <template v-else slot="target">\n        <div v-if="keyword !== \'\'" class="weui-desktop-mass-appmsg__title" v-html="highLight">\n        </div>\n        <div v-else class="weui-desktop-mass-appmsg__title" v-html="titleAfterFilter">\n        </div>\n      </template>\n    </mp-tooltip>\n    \x3c!--删除文字标题删除时间气泡end--\x3e\n\n    \x3c!--普通文字标题begin--\x3e\n    <div v-else>\n      <template v-if="!fromPublishDialog">\n        <a v-if="keyword !== \'\'" :href="actualUrl || \'javascript:;\'" target="_blank" class="weui-desktop-mass-appmsg__title" v-html="highLight">\n        </a>\n        <a v-else :href="actualUrl || \'javascript:;\'" target="_blank" class="weui-desktop-mass-appmsg__title" v-html="titleAfterFilter">\n        </a>\n      </template>\n      <template v-else> \n        <a v-if="keyword !== \'\'" :href="actualUrl || \'javascript:;\'" class="weui-desktop-mass-appmsg__title" v-html="highLight">\n        </a>\n        <a v-else :href="actualUrl || \'javascript:;\'" class="weui-desktop-mass-appmsg__title" v-html="titleAfterFilter">\n        </a>\n      </template>\n    </div>\n    \x3c!--普通文字标题end--\x3e\n\n    <template v-if="!item.timerSendInfo">\n      <num-item\n        v-if="hasnum"\n        :info="info"\n        :i="i"\n        :item="item" ></num-item>\n    </template>\n  </div>\n  \x3c!--<div class="weui-desktop-mass-appmsg__ft" v-if="hasdel">\n    <div class="weui-desktop-mass-media__opr">\n      <div class="weui-desktop-mass-media__opr__meta js_del">\n        <del-item\n          :i="i"\n          :idx="idx"\n          v-if="hasdel"\n          :item="item"\n          :is-appmsg="true"\n          :info="info"></del-item>\n      </div>\n    </div>\n  </div>--\x3e\n  <div class="weui-desktop-mass-appmsg__ft" v-if="!fromPublishDialog">\n        \x3c!-- 群发列表跳转单篇群发数据 --\x3e\n        \x3c!-- 群发列表跳转单篇群发数据 end --\x3e\n    <div class="weui-desktop-mass-media__opr">\n      \x3c!--这里是删除后重新编辑icon--\x3e\n      <div v-if="(info.is_deleted || info.is_cooling_article) && item.copy_appmsg_id"  class="weui-desktop-mass-media__opr__meta">\n        <button slot="target" @click="reeditmsg" class="re-edit_btn weui-desktop-opr-btn weui-desktop-opr-btn_primary">\n          <mp-icon class="re-edit_icon" icon="edit" :width="20" :height="20" color="var(--weuiDesktop_focusColor)"></mp-icon>\n          <span class="re-edit_wording">重新编辑</span>\n        </button>\n      </div>\n      <template v-if="(item.view.status === \'已群发\' || item.view.status === \'已删除\' || item.view.status === \'无法查看\') && item.view.sourceType !== 4">\n        <div class="weui-desktop-mass-media__opr__meta">\n          <mp-tooltip slot="target" class="weui-desktop-link" position="down-center" :content="item.view.dataPageWording" :delay="300">\n            <button slot="target" @click="goToDataPage(info.appmsgid, info.itemidx, item.view.publishDate, item.view.isGoToDataPage)" :class="{\'weui-desktop-opr-btn_disabled\':!item.view.isGoToDataPage}" class="weui-desktop-icon20 weui-desktop-icon-btn weui-desktop-opr-btn weui-desktop-opr-btn_primary">\n              <mp-icon icon="rate" :width="20" :height="20" color="var(--weuiDesktop_focusColor)"></mp-icon>\n            </button>\n          </mp-tooltip>\n        </div>\n      </template>\n      <more-item :i="i"\n          :idx="idx"\n          v-if="hasdel"\n          :item="item"\n          :is-appmsg="true"\n          :info="info"\n          :show-delete="hasdel"></more-item>\n    </div>\n  </div>\n\n</div>\n'},"./src/pages/modules/publish/tpl/video.tpl":function(e,t){e.exports='<div class="weui-desktop-mass-media weui-desktop-mass-appmsg weui-desktop-mass-video" :class="{\'weui-desktop-mass-media_del\':(!fromPublishDialog && (info.is_deleted || info.deleteFlag || info.is_cooling_article))}">\n  <div class="weui-desktop-mass-appmsg__hd" :style="\'background-image:url(\\\'\' + info.cover + \'\\\');\'">\n       \x3c!--  <div class="video_icon">\n        <mp-icon icon="videoPlay" :width="27" :height="27"></mp-icon>\n        <div class="weui-desktop-mass-video__length">{{info.duration}}</div>\n      </div> --\x3e           \n      <div class="weui-desktop-appmsg__video-notice">{{info.duration}}</div>\n\n    </div>\n    \x3c!-- 历史视频无标题不用跳转 --\x3e\n    <div class="weui-desktop-mass-appmsg__bd appmsg_publish_video_bd" v-if="fromPublishDialog || item.type!=4">\n      \x3c!--删除视频标题删除时间气泡begin 前端强信任is_deleted和delete_time字段--\x3e\n      <mp-tooltip position="bottom-center" :delay="300" v-if="info.is_deleted && !info.is_cooling_article" class="weui-desktop-mass-appmsg__tips">\n        <span v-if="info.deleteFormatTime" class="weui-desktop-mass-appmsg__tips_content">删除时间 {{info.deleteFormatTime}}</span>\n        \x3c!--加一层删除时间为空的保护--\x3e\n        <span v-else class="weui-desktop-mass-appmsg__tips_content">已删除</span>    \n        <template v-if="!fromPublishDialog" slot="target">\n          <a class="weui-desktop-mass-appmsg__title" :href="actualUrl || \'javascript:;\'" target="_blank">\n            <span v-if="keyword !== \'\'" v-html="info.highlight_title"></span>\n            <span v-else v-html="info.title"></span>\n            <b class="weui-desktop-key-tag" v-if="info.copyright_status == 11">原创</b>\n            <b class="weui-desktop-key-tag" v-else-if="(info.copyright_status == 12 || info.copyright_status == 101 || info.copyright_status == 201 || info.copyright_status == 202)">转载</b>\n          </a>\n        </template>\n        <template v-else slot="target">\n          <div class="weui-desktop-mass-appmsg__title">\n            <span v-if="keyword !== \'\'" v-html="info.title"></span>\n            <span v-else v-html="info.title"></span>\n            <b class="weui-desktop-key-tag" v-if="info.copyright_status == 11">原创</b>\n            <b class="weui-desktop-key-tag" v-else-if="(info.copyright_status == 12 || info.copyright_status == 101 || info.copyright_status == 201 || info.copyright_status == 202)">转载</b>\n          </div>\n          <div class="album_appmsg_title" v-if="info.appmsg_album_infos && info.appmsg_album_infos.length > 0 && isAlbum">\n            <span v-for="item in info.appmsg_album_infos">#{{item.title}}  </span>\n          </div>\n        </template>\n        </template>\n      </mp-tooltip>\n      \x3c!--删除视频标题删除时间气泡end--\x3e\n      \x3c!--普通视频标题begin--\x3e\n      <div v-else>\n        <template v-if="!fromPublishDialog">\n          <a class="weui-desktop-mass-appmsg__title" :href="actualUrl || \'javascript:;\'" target="_blank">\n            <span v-if="keyword !== \'\'" v-html="info.highlight_title"></span>\n            <span v-else v-html="info.title"></span>\n            <b class="weui-desktop-key-tag" v-if="info.copyright_status == 11">原创</b>\n            <b class="weui-desktop-key-tag" v-else-if="(info.copyright_status == 12 || info.copyright_status == 101 || info.copyright_status == 201 || info.copyright_status == 202)">转载</b>\n          </a>\n        </template>\n        <template v-else>\n          <div class="weui-desktop-mass-appmsg__title">\n            <span v-if="keyword !== \'\'" v-html="info.title"></span>\n            <span v-else v-html="info.title"></span>\n            <b class="weui-desktop-key-tag" v-if="info.copyright_status == 11">原创</b>\n            <b class="weui-desktop-key-tag" v-else-if="(info.copyright_status == 12 || info.copyright_status == 101 || info.copyright_status == 201 || info.copyright_status == 202)">转载</b>\n          </div>\n          <div class="album_appmsg_title" v-if="info.appmsg_album_infos && info.appmsg_album_infos.length > 0 && isAlbum">\n            <span v-for="item in info.appmsg_album_infos">#{{item.title}}  </span>\n          </div>\n        </template>\n      </div>\n      \x3c!--普通视频标题end--\x3e\n\n      <num-item v-if="hasnum" :info="info" :i="i" :item="item" ></num-item>\n\n    </div>\n\n    <div class="weui-desktop-mass-appmsg__ft" v-if="!fromPublishDialog">\n      <div class="weui-desktop-mass-media__opr">\n        \x3c!--这里是删除后重新编辑icon--\x3e\n        <div v-if="(info.is_deleted || info.is_cooling_article) && item.copy_appmsg_id"  class="weui-desktop-mass-media__opr__meta">\n          <button slot="target" @click="reeditmsg" class="re-edit_btn weui-desktop-opr-btn weui-desktop-opr-btn_primary">\n            <mp-icon class="re-edit_icon" icon="edit" :width="20" :height="20" color="var(--weuiDesktop_focusColor)"></mp-icon>\n            <span class="re-edit_wording">重新编辑</span>\n          </button>\n        </div>\n        \x3c!-- 群发列表跳转单篇群发数据 --\x3e\n        <template v-if="(item.view.status === \'已群发\' || item.view.status === \'已删除\' || item.view.status === \'无法查看\') && item.view.sourceType !== 4">\n          <div class="weui-desktop-mass-media__opr__meta">\n            <mp-tooltip slot="target" class="weui-desktop-link" position="down-center" :content="item.view.dataPageWording" :delay="300">\n              <button slot="target" @click="goToDataPage(info.appmsgid, info.itemidx, item.view.publishDate, item.view.isGoToDataPage)" :class="{\'weui-desktop-opr-btn_disabled\':!item.view.isGoToDataPage}" class="weui-desktop-icon20 weui-desktop-icon-btn weui-desktop-opr-btn weui-desktop-opr-btn_primary">\n                <mp-icon icon="rate" :width="20" :height="20" color="var(--weuiDesktop_focusColor)"></mp-icon>\n              </button>\n            </mp-tooltip>\n          </div>\n        </template>\n        \x3c!-- 群发列表跳转单篇群发数据 end --\x3e\n        <template v-if="(canUsePublicTag === 1 || isMediaAccount || isInstitutionAccount) && (item.view.status === \'已群发\' || item.view.status === \'已发布\') && hasdel && item.view.sourceType !== 2">\n          <tag-item :info="info" :i="i" :item="item"></tag-item>\n        </template>\n        \x3c!--<span class="weui-desktop-mass-media__opr__meta js_del" v-if="hasdel && item.view.status !==\'等候发送\' && item.view.status !== \'视频审核中\' && item.view.status !== \'发送中\' && item.view.status !== \'审核中\' && item.view.status !== \'发送失败\'" >\n          <del-item :i="i" :item="item" :idx="idx" :is-appmsg="item.type==9" :info="info" ></del-item>\n        </span>--\x3e\n        <more-item :i="i" :item="item" :idx="idx" :is-appmsg="item.type==9" :info="info" \n          :show-delete="hasdel && item.view.status !==\'等候发表\' && item.view.status !== \'视频审核中\' && item.view.status !== \'发送中\' && item.view.status !== \'审核中\' && item.view.status !== \'发送失败\'" \n          :show-tags="(canUsePublicTag === 1 || isMediaAccount || isInstitutionAccount) && (item.view.status === \'已群发\' || item.view.status === \'已发布\' || item.view.status === \'发布成功\') && hasdel && item.view.sourceType !== 2">\n        </more-item>\n      </div>\n    </div>\n\n</div>\n'}}]);